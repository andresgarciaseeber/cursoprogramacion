function lx(t,e){for(var a=0;a<e.length;a++){const r=e[a];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const l=Object.getOwnPropertyDescriptor(r,i);l&&Object.defineProperty(t,i,l.get?l:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const l of i)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function a(i){const l={};return i.integrity&&(l.integrity=i.integrity),i.referrerPolicy&&(l.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?l.credentials="include":i.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(i){if(i.ep)return;i.ep=!0;const l=a(i);fetch(i.href,l)}})();function ux(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function md(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var a=function r(){var i=!1;try{i=this instanceof r}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};a.prototype=e.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(a,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),a}var ph={exports:{}},Fi={};var j0;function cx(){if(j0)return Fi;j0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function a(r,i,l){var c=null;if(l!==void 0&&(c=""+l),i.key!==void 0&&(c=""+i.key),"key"in i){l={};for(var f in i)f!=="key"&&(l[f]=i[f])}else l=i;return i=l.ref,{$$typeof:t,type:r,key:c,ref:i!==void 0?i:null,props:l}}return Fi.Fragment=e,Fi.jsx=a,Fi.jsxs=a,Fi}var B0;function fx(){return B0||(B0=1,ph.exports=cx()),ph.exports}var A=fx(),gh={exports:{}},qi={},yh={exports:{}},bh={};var I0;function hx(){return I0||(I0=1,(function(t){function e(L,ae){var ie=L.length;L.push(ae);e:for(;0<ie;){var me=ie-1>>>1,ge=L[me];if(0<i(ge,ae))L[me]=ae,L[ie]=ge,ie=me;else break e}}function a(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var ae=L[0],ie=L.pop();if(ie!==ae){L[0]=ie;e:for(var me=0,ge=L.length,z=ge>>>1;me<z;){var Y=2*(me+1)-1,se=L[Y],ue=Y+1,Se=L[ue];if(0>i(se,ie))ue<ge&&0>i(Se,se)?(L[me]=Se,L[ue]=ie,me=ue):(L[me]=se,L[Y]=ie,me=Y);else if(ue<ge&&0>i(Se,ie))L[me]=Se,L[ue]=ie,me=ue;else break e}}return ae}function i(L,ae){var ie=L.sortIndex-ae.sortIndex;return ie!==0?ie:L.id-ae.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,f=c.now();t.unstable_now=function(){return c.now()-f}}var h=[],m=[],g=1,y=null,b=3,N=!1,w=!1,x=!1,_=!1,C=typeof setTimeout=="function"?setTimeout:null,ee=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;function F(L){for(var ae=a(m);ae!==null;){if(ae.callback===null)r(m);else if(ae.startTime<=L)r(m),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=a(m)}}function W(L){if(x=!1,F(L),!w)if(a(h)!==null)w=!0,ne||(ne=!0,J());else{var ae=a(m);ae!==null&&de(W,ae.startTime-L)}}var ne=!1,te=-1,re=5,H=-1;function V(){return _?!0:!(t.unstable_now()-H<re)}function D(){if(_=!1,ne){var L=t.unstable_now();H=L;var ae=!0;try{e:{w=!1,x&&(x=!1,ee(te),te=-1),N=!0;var ie=b;try{t:{for(F(L),y=a(h);y!==null&&!(y.expirationTime>L&&V());){var me=y.callback;if(typeof me=="function"){y.callback=null,b=y.priorityLevel;var ge=me(y.expirationTime<=L);if(L=t.unstable_now(),typeof ge=="function"){y.callback=ge,F(L),ae=!0;break t}y===a(h)&&r(h),F(L)}else r(h);y=a(h)}if(y!==null)ae=!0;else{var z=a(m);z!==null&&de(W,z.startTime-L),ae=!1}}break e}finally{y=null,b=ie,N=!1}ae=void 0}}finally{ae?J():ne=!1}}}var J;if(typeof I=="function")J=function(){I(D)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,ce=le.port2;le.port1.onmessage=D,J=function(){ce.postMessage(null)}}else J=function(){C(D,0)};function de(L,ae){te=C(function(){L(t.unstable_now())},ae)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_next=function(L){switch(b){case 1:case 2:case 3:var ae=3;break;default:ae=b}var ie=b;b=ae;try{return L()}finally{b=ie}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(L,ae){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var ie=b;b=L;try{return ae()}finally{b=ie}},t.unstable_scheduleCallback=function(L,ae,ie){var me=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?me+ie:me):ie=me,L){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=ie+ge,L={id:g++,callback:ae,priorityLevel:L,startTime:ie,expirationTime:ge,sortIndex:-1},ie>me?(L.sortIndex=ie,e(m,L),a(h)===null&&L===a(m)&&(x?(ee(te),te=-1):x=!0,de(W,ie-me))):(L.sortIndex=ge,e(h,L),w||N||(w=!0,ne||(ne=!0,J()))),L},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(L){var ae=b;return function(){var ie=b;b=ae;try{return L.apply(this,arguments)}finally{b=ie}}}})(bh)),bh}var L0;function dx(){return L0||(L0=1,yh.exports=hx()),yh.exports}var vh={exports:{}},Ne={};var M0;function mx(){if(M0)return Ne;M0=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),b=Symbol.iterator;function N(z){return z===null||typeof z!="object"?null:(z=b&&z[b]||z["@@iterator"],typeof z=="function"?z:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,_={};function C(z,Y,se){this.props=z,this.context=Y,this.refs=_,this.updater=se||w}C.prototype.isReactComponent={},C.prototype.setState=function(z,Y){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,Y,"setState")},C.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function ee(){}ee.prototype=C.prototype;function I(z,Y,se){this.props=z,this.context=Y,this.refs=_,this.updater=se||w}var F=I.prototype=new ee;F.constructor=I,x(F,C.prototype),F.isPureReactComponent=!0;var W=Array.isArray;function ne(){}var te={H:null,A:null,T:null,S:null},re=Object.prototype.hasOwnProperty;function H(z,Y,se){var ue=se.ref;return{$$typeof:t,type:z,key:Y,ref:ue!==void 0?ue:null,props:se}}function V(z,Y){return H(z.type,Y,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function J(z){var Y={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(se){return Y[se]})}var le=/\/+/g;function ce(z,Y){return typeof z=="object"&&z!==null&&z.key!=null?J(""+z.key):Y.toString(36)}function de(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(ne,ne):(z.status="pending",z.then(function(Y){z.status==="pending"&&(z.status="fulfilled",z.value=Y)},function(Y){z.status==="pending"&&(z.status="rejected",z.reason=Y)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function L(z,Y,se,ue,Se){var xe=typeof z;(xe==="undefined"||xe==="boolean")&&(z=null);var Le=!1;if(z===null)Le=!0;else switch(xe){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(z.$$typeof){case t:case e:Le=!0;break;case g:return Le=z._init,L(Le(z._payload),Y,se,ue,Se)}}if(Le)return Se=Se(z),Le=ue===""?"."+ce(z,0):ue,W(Se)?(se="",Le!=null&&(se=Le.replace(le,"$&/")+"/"),L(Se,Y,se,"",function(Xr){return Xr})):Se!=null&&(D(Se)&&(Se=V(Se,se+(Se.key==null||z&&z.key===Se.key?"":(""+Se.key).replace(le,"$&/")+"/")+Le)),Y.push(Se)),1;Le=0;var jt=ue===""?".":ue+":";if(W(z))for(var it=0;it<z.length;it++)ue=z[it],xe=jt+ce(ue,it),Le+=L(ue,Y,se,xe,Se);else if(it=N(z),typeof it=="function")for(z=it.call(z),it=0;!(ue=z.next()).done;)ue=ue.value,xe=jt+ce(ue,it++),Le+=L(ue,Y,se,xe,Se);else if(xe==="object"){if(typeof z.then=="function")return L(de(z),Y,se,ue,Se);throw Y=String(z),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ae(z,Y,se){if(z==null)return z;var ue=[],Se=0;return L(z,ue,"","",function(xe){return Y.call(se,xe,Se++)}),ue}function ie(z){if(z._status===-1){var Y=z._result;Y=Y(),Y.then(function(se){(z._status===0||z._status===-1)&&(z._status=1,z._result=se)},function(se){(z._status===0||z._status===-1)&&(z._status=2,z._result=se)}),z._status===-1&&(z._status=0,z._result=Y)}if(z._status===1)return z._result.default;throw z._result}var me=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},ge={map:ae,forEach:function(z,Y,se){ae(z,function(){Y.apply(this,arguments)},se)},count:function(z){var Y=0;return ae(z,function(){Y++}),Y},toArray:function(z){return ae(z,function(Y){return Y})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Ne.Activity=y,Ne.Children=ge,Ne.Component=C,Ne.Fragment=a,Ne.Profiler=i,Ne.PureComponent=I,Ne.StrictMode=r,Ne.Suspense=h,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=te,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(z){return te.H.useMemoCache(z)}},Ne.cache=function(z){return function(){return z.apply(null,arguments)}},Ne.cacheSignal=function(){return null},Ne.cloneElement=function(z,Y,se){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ue=x({},z.props),Se=z.key;if(Y!=null)for(xe in Y.key!==void 0&&(Se=""+Y.key),Y)!re.call(Y,xe)||xe==="key"||xe==="__self"||xe==="__source"||xe==="ref"&&Y.ref===void 0||(ue[xe]=Y[xe]);var xe=arguments.length-2;if(xe===1)ue.children=se;else if(1<xe){for(var Le=Array(xe),jt=0;jt<xe;jt++)Le[jt]=arguments[jt+2];ue.children=Le}return H(z.type,Se,ue)},Ne.createContext=function(z){return z={$$typeof:c,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:l,_context:z},z},Ne.createElement=function(z,Y,se){var ue,Se={},xe=null;if(Y!=null)for(ue in Y.key!==void 0&&(xe=""+Y.key),Y)re.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(Se[ue]=Y[ue]);var Le=arguments.length-2;if(Le===1)Se.children=se;else if(1<Le){for(var jt=Array(Le),it=0;it<Le;it++)jt[it]=arguments[it+2];Se.children=jt}if(z&&z.defaultProps)for(ue in Le=z.defaultProps,Le)Se[ue]===void 0&&(Se[ue]=Le[ue]);return H(z,xe,Se)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(z){return{$$typeof:f,render:z}},Ne.isValidElement=D,Ne.lazy=function(z){return{$$typeof:g,_payload:{_status:-1,_result:z},_init:ie}},Ne.memo=function(z,Y){return{$$typeof:m,type:z,compare:Y===void 0?null:Y}},Ne.startTransition=function(z){var Y=te.T,se={};te.T=se;try{var ue=z(),Se=te.S;Se!==null&&Se(se,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(ne,me)}catch(xe){me(xe)}finally{Y!==null&&se.types!==null&&(Y.types=se.types),te.T=Y}},Ne.unstable_useCacheRefresh=function(){return te.H.useCacheRefresh()},Ne.use=function(z){return te.H.use(z)},Ne.useActionState=function(z,Y,se){return te.H.useActionState(z,Y,se)},Ne.useCallback=function(z,Y){return te.H.useCallback(z,Y)},Ne.useContext=function(z){return te.H.useContext(z)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(z,Y){return te.H.useDeferredValue(z,Y)},Ne.useEffect=function(z,Y){return te.H.useEffect(z,Y)},Ne.useEffectEvent=function(z){return te.H.useEffectEvent(z)},Ne.useId=function(){return te.H.useId()},Ne.useImperativeHandle=function(z,Y,se){return te.H.useImperativeHandle(z,Y,se)},Ne.useInsertionEffect=function(z,Y){return te.H.useInsertionEffect(z,Y)},Ne.useLayoutEffect=function(z,Y){return te.H.useLayoutEffect(z,Y)},Ne.useMemo=function(z,Y){return te.H.useMemo(z,Y)},Ne.useOptimistic=function(z,Y){return te.H.useOptimistic(z,Y)},Ne.useReducer=function(z,Y,se){return te.H.useReducer(z,Y,se)},Ne.useRef=function(z){return te.H.useRef(z)},Ne.useState=function(z){return te.H.useState(z)},Ne.useSyncExternalStore=function(z,Y,se){return te.H.useSyncExternalStore(z,Y,se)},Ne.useTransition=function(){return te.H.useTransition()},Ne.version="19.2.0",Ne}var U0;function pd(){return U0||(U0=1,vh.exports=mx()),vh.exports}var Sh={exports:{}},Ot={};var F0;function px(){if(F0)return Ot;F0=1;var t=pd();function e(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var r={d:{f:a,r:function(){throw Error(e(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},i=Symbol.for("react.portal");function l(h,m,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:y==null?null:""+y,children:h,containerInfo:m,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function f(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Ot.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ot.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return l(h,m,null,g)},Ot.flushSync=function(h){var m=c.T,g=r.p;try{if(c.T=null,r.p=2,h)return h()}finally{c.T=m,r.p=g,r.d.f()}},Ot.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(h,m))},Ot.prefetchDNS=function(h){typeof h=="string"&&r.d.D(h)},Ot.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin),b=typeof m.integrity=="string"?m.integrity:void 0,N=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?r.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:y,integrity:b,fetchPriority:N}):g==="script"&&r.d.X(h,{crossOrigin:y,integrity:b,fetchPriority:N,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Ot.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=f(m.as,m.crossOrigin);r.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(h)},Ot.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,y=f(g,m.crossOrigin);r.d.L(h,g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Ot.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=f(m.as,m.crossOrigin);r.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(h)},Ot.requestFormReset=function(h){r.d.r(h)},Ot.unstable_batchedUpdates=function(h,m){return h(m)},Ot.useFormState=function(h,m,g){return c.H.useFormState(h,m,g)},Ot.useFormStatus=function(){return c.H.useHostTransitionStatus()},Ot.version="19.2.0",Ot}var q0;function gx(){if(q0)return Sh.exports;q0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sh.exports=px(),Sh.exports}var H0;function yx(){if(H0)return qi;H0=1;var t=dx(),e=pd(),a=gx();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function f(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function h(n){if(l(n)!==n)throw Error(r(188))}function m(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(u=d.return,u!==null){o=u;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return h(d),n;if(p===u)return h(d),s;p=p.sibling}throw Error(r(188))}if(o.return!==u.return)o=d,u=p;else{for(var S=!1,T=d.child;T;){if(T===o){S=!0,o=d,u=p;break}if(T===u){S=!0,u=d,o=p;break}T=T.sibling}if(!S){for(T=p.child;T;){if(T===o){S=!0,o=p,u=d;break}if(T===u){S=!0,u=p,o=d;break}T=T.sibling}if(!S)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function g(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=g(n),s!==null)return s;n=n.sibling}return null}var y=Object.assign,b=Symbol.for("react.element"),N=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),ee=Symbol.for("react.consumer"),I=Symbol.for("react.context"),F=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),te=Symbol.for("react.memo"),re=Symbol.for("react.lazy"),H=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function J(n){return n===null||typeof n!="object"?null:(n=D&&n[D]||n["@@iterator"],typeof n=="function"?n:null)}var le=Symbol.for("react.client.reference");function ce(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===le?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case C:return"Profiler";case _:return"StrictMode";case W:return"Suspense";case ne:return"SuspenseList";case H:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case w:return"Portal";case I:return n.displayName||"Context";case ee:return(n._context.displayName||"Context")+".Consumer";case F:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case te:return s=n.displayName||null,s!==null?s:ce(n.type)||"Memo";case re:s=n._payload,n=n._init;try{return ce(n(s))}catch{}}return null}var de=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},me=[],ge=-1;function z(n){return{current:n}}function Y(n){0>ge||(n.current=me[ge],me[ge]=null,ge--)}function se(n,s){ge++,me[ge]=n.current,n.current=s}var ue=z(null),Se=z(null),xe=z(null),Le=z(null);function jt(n,s){switch(se(xe,s),se(Se,n),se(ue,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?s0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=s0(s),n=r0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}Y(ue),se(ue,n)}function it(){Y(ue),Y(Se),Y(xe)}function Xr(n){n.memoizedState!==null&&se(Le,n);var s=ue.current,o=r0(s,n.type);s!==o&&(se(Se,n),se(ue,o))}function $o(n){Se.current===n&&(Y(ue),Y(Se)),Le.current===n&&(Y(Le),Ii._currentValue=ie)}var Wu,Cm;function ss(n){if(Wu===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);Wu=s&&s[1]||"",Cm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wu+n+Cm}var Zu=!1;function Qu(n,s){if(!n||Zu)return"";Zu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(K){var q=K}Reflect.construct(n,[],Z)}else{try{Z.call()}catch(K){q=K}n.call(Z.prototype)}}else{try{throw Error()}catch(K){q=K}(Z=n())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(K){if(K&&q&&typeof K.stack=="string")return[K.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var d=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");d&&d.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),S=p[0],T=p[1];if(S&&T){var R=S.split(`
`),U=T.split(`
`);for(d=u=0;u<R.length&&!R[u].includes("DetermineComponentFrameRoot");)u++;for(;d<U.length&&!U[d].includes("DetermineComponentFrameRoot");)d++;if(u===R.length||d===U.length)for(u=R.length-1,d=U.length-1;1<=u&&0<=d&&R[u]!==U[d];)d--;for(;1<=u&&0<=d;u--,d--)if(R[u]!==U[d]){if(u!==1||d!==1)do if(u--,d--,0>d||R[u]!==U[d]){var X=`
`+R[u].replace(" at new "," at ");return n.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",n.displayName)),X}while(1<=u&&0<=d);break}}}finally{Zu=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?ss(o):""}function MT(n,s){switch(n.tag){case 26:case 27:case 5:return ss(n.type);case 16:return ss("Lazy");case 13:return n.child!==s&&s!==null?ss("Suspense Fallback"):ss("Suspense");case 19:return ss("SuspenseList");case 0:case 15:return Qu(n.type,!1);case 11:return Qu(n.type.render,!1);case 1:return Qu(n.type,!0);case 31:return ss("Activity");default:return""}}function jm(n){try{var s="",o=null;do s+=MT(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ju=Object.prototype.hasOwnProperty,ec=t.unstable_scheduleCallback,tc=t.unstable_cancelCallback,UT=t.unstable_shouldYield,FT=t.unstable_requestPaint,Jt=t.unstable_now,qT=t.unstable_getCurrentPriorityLevel,Bm=t.unstable_ImmediatePriority,Im=t.unstable_UserBlockingPriority,ko=t.unstable_NormalPriority,HT=t.unstable_LowPriority,Lm=t.unstable_IdlePriority,VT=t.log,GT=t.unstable_setDisableYieldValue,Pr=null,en=null;function ba(n){if(typeof VT=="function"&&GT(n),en&&typeof en.setStrictMode=="function")try{en.setStrictMode(Pr,n)}catch{}}var tn=Math.clz32?Math.clz32:XT,KT=Math.log,YT=Math.LN2;function XT(n){return n>>>=0,n===0?32:31-(KT(n)/YT|0)|0}var Ro=256,zo=262144,Co=4194304;function rs(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function jo(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var d=0,p=n.suspendedLanes,S=n.pingedLanes;n=n.warmLanes;var T=u&134217727;return T!==0?(u=T&~p,u!==0?d=rs(u):(S&=T,S!==0?d=rs(S):o||(o=T&~n,o!==0&&(d=rs(o))))):(T=u&~p,T!==0?d=rs(T):S!==0?d=rs(S):o||(o=u&~n,o!==0&&(d=rs(o)))),d===0?0:s!==0&&s!==d&&(s&p)===0&&(p=d&-d,o=s&-s,p>=o||p===32&&(o&4194048)!==0)?s:d}function Wr(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function PT(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Mm(){var n=Co;return Co<<=1,(Co&62914560)===0&&(Co=4194304),n}function nc(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Zr(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function WT(n,s,o,u,d,p){var S=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var T=n.entanglements,R=n.expirationTimes,U=n.hiddenUpdates;for(o=S&~o;0<o;){var X=31-tn(o),Z=1<<X;T[X]=0,R[X]=-1;var q=U[X];if(q!==null)for(U[X]=null,X=0;X<q.length;X++){var K=q[X];K!==null&&(K.lane&=-536870913)}o&=~Z}u!==0&&Um(n,u,0),p!==0&&d===0&&n.tag!==0&&(n.suspendedLanes|=p&~(S&~s))}function Um(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-tn(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Fm(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-tn(o),d=1<<u;d&s|n[u]&s&&(n[u]|=s),o&=~d}}function qm(n,s){var o=s&-s;return o=(o&42)!==0?1:ac(o),(o&(n.suspendedLanes|s))!==0?0:o}function ac(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function sc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Hm(){var n=ae.p;return n!==0?n:(n=window.event,n===void 0?32:O0(n.type))}function Vm(n,s){var o=ae.p;try{return ae.p=n,s()}finally{ae.p=o}}var va=Math.random().toString(36).slice(2),wt="__reactFiber$"+va,Lt="__reactProps$"+va,Hs="__reactContainer$"+va,rc="__reactEvents$"+va,ZT="__reactListeners$"+va,QT="__reactHandles$"+va,Gm="__reactResources$"+va,Qr="__reactMarker$"+va;function ic(n){delete n[wt],delete n[Lt],delete n[rc],delete n[ZT],delete n[QT]}function Vs(n){var s=n[wt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Hs]||o[wt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=h0(n);n!==null;){if(o=n[wt])return o;n=h0(n)}return s}n=o,o=n.parentNode}return null}function Gs(n){if(n=n[wt]||n[Hs]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Jr(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Ks(n){var s=n[Gm];return s||(s=n[Gm]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function bt(n){n[Qr]=!0}var Km=new Set,Ym={};function is(n,s){Ys(n,s),Ys(n+"Capture",s)}function Ys(n,s){for(Ym[n]=s,n=0;n<s.length;n++)Km.add(s[n])}var JT=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xm={},Pm={};function eE(n){return Ju.call(Pm,n)?!0:Ju.call(Xm,n)?!1:JT.test(n)?Pm[n]=!0:(Xm[n]=!0,!1)}function Bo(n,s,o){if(eE(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Io(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Gn(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function fn(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Wm(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function tE(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var d=u.get,p=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(S){o=""+S,p.call(this,S)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(S){o=""+S},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function oc(n){if(!n._valueTracker){var s=Wm(n)?"checked":"value";n._valueTracker=tE(n,s,""+n[s])}}function Zm(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Wm(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function Lo(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var nE=/[\n"\\]/g;function hn(n){return n.replace(nE,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function lc(n,s,o,u,d,p,S,T){n.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?n.type=S:n.removeAttribute("type"),s!=null?S==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+fn(s)):n.value!==""+fn(s)&&(n.value=""+fn(s)):S!=="submit"&&S!=="reset"||n.removeAttribute("value"),s!=null?uc(n,S,fn(s)):o!=null?uc(n,S,fn(o)):u!=null&&n.removeAttribute("value"),d==null&&p!=null&&(n.defaultChecked=!!p),d!=null&&(n.checked=d&&typeof d!="function"&&typeof d!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?n.name=""+fn(T):n.removeAttribute("name")}function Qm(n,s,o,u,d,p,S,T){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),s!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||s!=null)){oc(n);return}o=o!=null?""+fn(o):"",s=s!=null?""+fn(s):o,T||s===n.value||(n.value=s),n.defaultValue=s}u=u??d,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=T?n.checked:!!u,n.defaultChecked=!!u,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(n.name=S),oc(n)}function uc(n,s,o){s==="number"&&Lo(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Xs(n,s,o,u){if(n=n.options,s){s={};for(var d=0;d<o.length;d++)s["$"+o[d]]=!0;for(o=0;o<n.length;o++)d=s.hasOwnProperty("$"+n[o].value),n[o].selected!==d&&(n[o].selected=d),d&&u&&(n[o].defaultSelected=!0)}else{for(o=""+fn(o),s=null,d=0;d<n.length;d++){if(n[d].value===o){n[d].selected=!0,u&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Jm(n,s,o){if(s!=null&&(s=""+fn(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+fn(o):""}function ep(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(de(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=fn(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),oc(n)}function Ps(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var aE=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function tp(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||aE.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function np(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var d in s)u=s[d],s.hasOwnProperty(d)&&o[d]!==u&&tp(n,d,u)}else for(var p in s)s.hasOwnProperty(p)&&tp(n,p,s[p])}function cc(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sE=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),rE=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Mo(n){return rE.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function Kn(){}var fc=null;function hc(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ws=null,Zs=null;function ap(n){var s=Gs(n);if(s&&(n=s.stateNode)){var o=n[Lt]||null;e:switch(n=s.stateNode,s.type){case"input":if(lc(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+hn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var d=u[Lt]||null;if(!d)throw Error(r(90));lc(u,d.value,d.defaultValue,d.defaultValue,d.checked,d.defaultChecked,d.type,d.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Zm(u)}break e;case"textarea":Jm(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Xs(n,!!o.multiple,s,!1)}}}var dc=!1;function sp(n,s,o){if(dc)return n(s,o);dc=!0;try{var u=n(s);return u}finally{if(dc=!1,(Ws!==null||Zs!==null)&&(xl(),Ws&&(s=Ws,n=Zs,Zs=Ws=null,ap(s),n)))for(s=0;s<n.length;s++)ap(n[s])}}function ei(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Lt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mc=!1;if(Yn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){mc=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{mc=!1}var Sa=null,pc=null,Uo=null;function rp(){if(Uo)return Uo;var n,s=pc,o=s.length,u,d="value"in Sa?Sa.value:Sa.textContent,p=d.length;for(n=0;n<o&&s[n]===d[n];n++);var S=o-n;for(u=1;u<=S&&s[o-u]===d[p-u];u++);return Uo=d.slice(n,1<u?1-u:void 0)}function Fo(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function qo(){return!0}function ip(){return!1}function Mt(n){function s(o,u,d,p,S){this._reactName=o,this._targetInst=d,this.type=u,this.nativeEvent=p,this.target=S,this.currentTarget=null;for(var T in n)n.hasOwnProperty(T)&&(o=n[T],this[T]=o?o(p):p[T]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?qo:ip,this.isPropagationStopped=ip,this}return y(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=qo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=qo)},persist:function(){},isPersistent:qo}),s}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ho=Mt(os),ni=y({},os,{view:0,detail:0}),iE=Mt(ni),gc,yc,ai,Vo=y({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vc,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ai&&(ai&&n.type==="mousemove"?(gc=n.screenX-ai.screenX,yc=n.screenY-ai.screenY):yc=gc=0,ai=n),gc)},movementY:function(n){return"movementY"in n?n.movementY:yc}}),op=Mt(Vo),oE=y({},Vo,{dataTransfer:0}),lE=Mt(oE),uE=y({},ni,{relatedTarget:0}),bc=Mt(uE),cE=y({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),fE=Mt(cE),hE=y({},os,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),dE=Mt(hE),mE=y({},os,{data:0}),lp=Mt(mE),pE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bE(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=yE[n])?!!s[n]:!1}function vc(){return bE}var vE=y({},ni,{key:function(n){if(n.key){var s=pE[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Fo(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gE[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vc,charCode:function(n){return n.type==="keypress"?Fo(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Fo(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),SE=Mt(vE),NE=y({},Vo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),up=Mt(NE),wE=y({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vc}),TE=Mt(wE),EE=y({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),_E=Mt(EE),xE=y({},Vo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),AE=Mt(xE),OE=y({},os,{newState:0,oldState:0}),DE=Mt(OE),$E=[9,13,27,32],Sc=Yn&&"CompositionEvent"in window,si=null;Yn&&"documentMode"in document&&(si=document.documentMode);var kE=Yn&&"TextEvent"in window&&!si,cp=Yn&&(!Sc||si&&8<si&&11>=si),fp=" ",hp=!1;function dp(n,s){switch(n){case"keyup":return $E.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Qs=!1;function RE(n,s){switch(n){case"compositionend":return mp(s);case"keypress":return s.which!==32?null:(hp=!0,fp);case"textInput":return n=s.data,n===fp&&hp?null:n;default:return null}}function zE(n,s){if(Qs)return n==="compositionend"||!Sc&&dp(n,s)?(n=rp(),Uo=pc=Sa=null,Qs=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return cp&&s.locale!=="ko"?null:s.data;default:return null}}var CE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!CE[n.type]:s==="textarea"}function gp(n,s,o,u){Ws?Zs?Zs.push(u):Zs=[u]:Ws=u,s=zl(s,"onChange"),0<s.length&&(o=new Ho("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var ri=null,ii=null;function jE(n){Qy(n,0)}function Go(n){var s=Jr(n);if(Zm(s))return n}function yp(n,s){if(n==="change")return s}var bp=!1;if(Yn){var Nc;if(Yn){var wc="oninput"in document;if(!wc){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),wc=typeof vp.oninput=="function"}Nc=wc}else Nc=!1;bp=Nc&&(!document.documentMode||9<document.documentMode)}function Sp(){ri&&(ri.detachEvent("onpropertychange",Np),ii=ri=null)}function Np(n){if(n.propertyName==="value"&&Go(ii)){var s=[];gp(s,ii,n,hc(n)),sp(jE,s)}}function BE(n,s,o){n==="focusin"?(Sp(),ri=s,ii=o,ri.attachEvent("onpropertychange",Np)):n==="focusout"&&Sp()}function IE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Go(ii)}function LE(n,s){if(n==="click")return Go(s)}function ME(n,s){if(n==="input"||n==="change")return Go(s)}function UE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var nn=typeof Object.is=="function"?Object.is:UE;function oi(n,s){if(nn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var d=o[u];if(!Ju.call(s,d)||!nn(n[d],s[d]))return!1}return!0}function wp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Tp(n,s){var o=wp(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=wp(o)}}function Ep(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?Ep(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function _p(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=Lo(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=Lo(n.document)}return s}function Tc(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var FE=Yn&&"documentMode"in document&&11>=document.documentMode,Js=null,Ec=null,li=null,_c=!1;function xp(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;_c||Js==null||Js!==Lo(u)||(u=Js,"selectionStart"in u&&Tc(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),li&&oi(li,u)||(li=u,u=zl(Ec,"onSelect"),0<u.length&&(s=new Ho("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=Js)))}function ls(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var er={animationend:ls("Animation","AnimationEnd"),animationiteration:ls("Animation","AnimationIteration"),animationstart:ls("Animation","AnimationStart"),transitionrun:ls("Transition","TransitionRun"),transitionstart:ls("Transition","TransitionStart"),transitioncancel:ls("Transition","TransitionCancel"),transitionend:ls("Transition","TransitionEnd")},xc={},Ap={};Yn&&(Ap=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function us(n){if(xc[n])return xc[n];if(!er[n])return n;var s=er[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in Ap)return xc[n]=s[o];return n}var Op=us("animationend"),Dp=us("animationiteration"),$p=us("animationstart"),qE=us("transitionrun"),HE=us("transitionstart"),VE=us("transitioncancel"),kp=us("transitionend"),Rp=new Map,Ac="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ac.push("scrollEnd");function En(n,s){Rp.set(n,s),is(s,[n])}var Ko=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},dn=[],tr=0,Oc=0;function Yo(){for(var n=tr,s=Oc=tr=0;s<n;){var o=dn[s];dn[s++]=null;var u=dn[s];dn[s++]=null;var d=dn[s];dn[s++]=null;var p=dn[s];if(dn[s++]=null,u!==null&&d!==null){var S=u.pending;S===null?d.next=d:(d.next=S.next,S.next=d),u.pending=d}p!==0&&zp(o,d,p)}}function Xo(n,s,o,u){dn[tr++]=n,dn[tr++]=s,dn[tr++]=o,dn[tr++]=u,Oc|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Dc(n,s,o,u){return Xo(n,s,o,u),Po(n)}function cs(n,s){return Xo(n,null,null,s),Po(n)}function zp(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var d=!1,p=n.return;p!==null;)p.childLanes|=o,u=p.alternate,u!==null&&(u.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(d=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,d&&s!==null&&(d=31-tn(o),n=p.hiddenUpdates,u=n[d],u===null?n[d]=[s]:u.push(s),s.lane=o|536870912),p):null}function Po(n){if(50<$i)throw $i=0,Mf=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var nr={};function GE(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(n,s,o,u){return new GE(n,s,o,u)}function $c(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Xn(n,s){var o=n.alternate;return o===null?(o=an(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function Cp(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function Wo(n,s,o,u,d,p){var S=0;if(u=n,typeof n=="function")$c(n)&&(S=1);else if(typeof n=="string")S=W_(n,o,ue.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case H:return n=an(31,o,s,d),n.elementType=H,n.lanes=p,n;case x:return fs(o.children,d,p,s);case _:S=8,d|=24;break;case C:return n=an(12,o,s,d|2),n.elementType=C,n.lanes=p,n;case W:return n=an(13,o,s,d),n.elementType=W,n.lanes=p,n;case ne:return n=an(19,o,s,d),n.elementType=ne,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case I:S=10;break e;case ee:S=9;break e;case F:S=11;break e;case te:S=14;break e;case re:S=16,u=null;break e}S=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=an(S,o,s,d),s.elementType=n,s.type=u,s.lanes=p,s}function fs(n,s,o,u){return n=an(7,n,u,s),n.lanes=o,n}function kc(n,s,o){return n=an(6,n,null,s),n.lanes=o,n}function jp(n){var s=an(18,null,null,0);return s.stateNode=n,s}function Rc(n,s,o){return s=an(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var Bp=new WeakMap;function mn(n,s){if(typeof n=="object"&&n!==null){var o=Bp.get(n);return o!==void 0?o:(s={value:n,source:s,stack:jm(s)},Bp.set(n,s),s)}return{value:n,source:s,stack:jm(s)}}var ar=[],sr=0,Zo=null,ui=0,pn=[],gn=0,Na=null,Cn=1,jn="";function Pn(n,s){ar[sr++]=ui,ar[sr++]=Zo,Zo=n,ui=s}function Ip(n,s,o){pn[gn++]=Cn,pn[gn++]=jn,pn[gn++]=Na,Na=n;var u=Cn;n=jn;var d=32-tn(u)-1;u&=~(1<<d),o+=1;var p=32-tn(s)+d;if(30<p){var S=d-d%5;p=(u&(1<<S)-1).toString(32),u>>=S,d-=S,Cn=1<<32-tn(s)+d|o<<d|u,jn=p+n}else Cn=1<<p|o<<d|u,jn=n}function zc(n){n.return!==null&&(Pn(n,1),Ip(n,1,0))}function Cc(n){for(;n===Zo;)Zo=ar[--sr],ar[sr]=null,ui=ar[--sr],ar[sr]=null;for(;n===Na;)Na=pn[--gn],pn[gn]=null,jn=pn[--gn],pn[gn]=null,Cn=pn[--gn],pn[gn]=null}function Lp(n,s){pn[gn++]=Cn,pn[gn++]=jn,pn[gn++]=Na,Cn=s.id,jn=s.overflow,Na=n}var Tt=null,Ze=null,Re=!1,wa=null,yn=!1,jc=Error(r(519));function Ta(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ci(mn(s,n)),jc}function Mp(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[wt]=n,s[Lt]=u,o){case"dialog":Oe("cancel",s),Oe("close",s);break;case"iframe":case"object":case"embed":Oe("load",s);break;case"video":case"audio":for(o=0;o<Ri.length;o++)Oe(Ri[o],s);break;case"source":Oe("error",s);break;case"img":case"image":case"link":Oe("error",s),Oe("load",s);break;case"details":Oe("toggle",s);break;case"input":Oe("invalid",s),Qm(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Oe("invalid",s);break;case"textarea":Oe("invalid",s),ep(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||n0(s.textContent,o)?(u.popover!=null&&(Oe("beforetoggle",s),Oe("toggle",s)),u.onScroll!=null&&Oe("scroll",s),u.onScrollEnd!=null&&Oe("scrollend",s),u.onClick!=null&&(s.onclick=Kn),s=!0):s=!1,s||Ta(n,!0)}function Up(n){for(Tt=n.return;Tt;)switch(Tt.tag){case 5:case 31:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Tt=Tt.return}}function rr(n){if(n!==Tt)return!1;if(!Re)return Up(n),Re=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||eh(n.type,n.memoizedProps)),o=!o),o&&Ze&&Ta(n),Up(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ze=f0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));Ze=f0(n)}else s===27?(s=Ze,Ia(n.type)?(n=rh,rh=null,Ze=n):Ze=s):Ze=Tt?vn(n.stateNode.nextSibling):null;return!0}function hs(){Ze=Tt=null,Re=!1}function Bc(){var n=wa;return n!==null&&(Ht===null?Ht=n:Ht.push.apply(Ht,n),wa=null),n}function ci(n){wa===null?wa=[n]:wa.push(n)}var Ic=z(null),ds=null,Wn=null;function Ea(n,s,o){se(Ic,s._currentValue),s._currentValue=o}function Zn(n){n._currentValue=Ic.current,Y(Ic)}function Lc(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function Mc(n,s,o,u){var d=n.child;for(d!==null&&(d.return=n);d!==null;){var p=d.dependencies;if(p!==null){var S=d.child;p=p.firstContext;e:for(;p!==null;){var T=p;p=d;for(var R=0;R<s.length;R++)if(T.context===s[R]){p.lanes|=o,T=p.alternate,T!==null&&(T.lanes|=o),Lc(p.return,o,n),u||(S=null);break e}p=T.next}}else if(d.tag===18){if(S=d.return,S===null)throw Error(r(341));S.lanes|=o,p=S.alternate,p!==null&&(p.lanes|=o),Lc(S,o,n),S=null}else S=d.child;if(S!==null)S.return=d;else for(S=d;S!==null;){if(S===n){S=null;break}if(d=S.sibling,d!==null){d.return=S.return,S=d;break}S=S.return}d=S}}function ir(n,s,o,u){n=null;for(var d=s,p=!1;d!==null;){if(!p){if((d.flags&524288)!==0)p=!0;else if((d.flags&262144)!==0)break}if(d.tag===10){var S=d.alternate;if(S===null)throw Error(r(387));if(S=S.memoizedProps,S!==null){var T=d.type;nn(d.pendingProps.value,S.value)||(n!==null?n.push(T):n=[T])}}else if(d===Le.current){if(S=d.alternate,S===null)throw Error(r(387));S.memoizedState.memoizedState!==d.memoizedState.memoizedState&&(n!==null?n.push(Ii):n=[Ii])}d=d.return}n!==null&&Mc(s,n,o,u),s.flags|=262144}function Qo(n){for(n=n.firstContext;n!==null;){if(!nn(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function ms(n){ds=n,Wn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Et(n){return Fp(ds,n)}function Jo(n,s){return ds===null&&ms(n),Fp(n,s)}function Fp(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},Wn===null){if(n===null)throw Error(r(308));Wn=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else Wn=Wn.next=s;return o}var KE=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},YE=t.unstable_scheduleCallback,XE=t.unstable_NormalPriority,ft={$$typeof:I,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Uc(){return{controller:new KE,data:new Map,refCount:0}}function fi(n){n.refCount--,n.refCount===0&&YE(XE,function(){n.controller.abort()})}var hi=null,Fc=0,or=0,lr=null;function PE(n,s){if(hi===null){var o=hi=[];Fc=0,or=Gf(),lr={status:"pending",value:void 0,then:function(u){o.push(u)}}}return Fc++,s.then(qp,qp),s}function qp(){if(--Fc===0&&hi!==null){lr!==null&&(lr.status="fulfilled");var n=hi;hi=null,or=0,lr=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function WE(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(d){o.push(d)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var d=0;d<o.length;d++)(0,o[d])(s)},function(d){for(u.status="rejected",u.reason=d,d=0;d<o.length;d++)(0,o[d])(void 0)}),u}var Hp=L.S;L.S=function(n,s){xy=Jt(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&PE(n,s),Hp!==null&&Hp(n,s)};var ps=z(null);function qc(){var n=ps.current;return n!==null?n:Ke.pooledCache}function el(n,s){s===null?se(ps,ps.current):se(ps,s.pool)}function Vp(){var n=qc();return n===null?null:{parent:ft._currentValue,pool:n}}var ur=Error(r(460)),Hc=Error(r(474)),tl=Error(r(542)),nl={then:function(){}};function Gp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Kp(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(Kn,Kn),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Xp(n),n;default:if(typeof s.status=="string")s.then(Kn,Kn);else{if(n=Ke,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var d=s;d.status="fulfilled",d.value=u}},function(u){if(s.status==="pending"){var d=s;d.status="rejected",d.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Xp(n),n}throw ys=s,ur}}function gs(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ys=o,ur):o}}var ys=null;function Yp(){if(ys===null)throw Error(r(459));var n=ys;return ys=null,n}function Xp(n){if(n===ur||n===tl)throw Error(r(483))}var cr=null,di=0;function al(n){var s=di;return di+=1,cr===null&&(cr=[]),Kp(cr,n,s)}function mi(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function sl(n,s){throw s.$$typeof===b?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function Pp(n){function s(B,j){if(n){var M=B.deletions;M===null?(B.deletions=[j],B.flags|=16):M.push(j)}}function o(B,j){if(!n)return null;for(;j!==null;)s(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function d(B,j){return B=Xn(B,j),B.index=0,B.sibling=null,B}function p(B,j,M){return B.index=M,n?(M=B.alternate,M!==null?(M=M.index,M<j?(B.flags|=67108866,j):M):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function S(B){return n&&B.alternate===null&&(B.flags|=67108866),B}function T(B,j,M,P){return j===null||j.tag!==6?(j=kc(M,B.mode,P),j.return=B,j):(j=d(j,M),j.return=B,j)}function R(B,j,M,P){var pe=M.type;return pe===x?X(B,j,M.props.children,P,M.key):j!==null&&(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===re&&gs(pe)===j.type)?(j=d(j,M.props),mi(j,M),j.return=B,j):(j=Wo(M.type,M.key,M.props,null,B.mode,P),mi(j,M),j.return=B,j)}function U(B,j,M,P){return j===null||j.tag!==4||j.stateNode.containerInfo!==M.containerInfo||j.stateNode.implementation!==M.implementation?(j=Rc(M,B.mode,P),j.return=B,j):(j=d(j,M.children||[]),j.return=B,j)}function X(B,j,M,P,pe){return j===null||j.tag!==7?(j=fs(M,B.mode,P,pe),j.return=B,j):(j=d(j,M),j.return=B,j)}function Z(B,j,M){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=kc(""+j,B.mode,M),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case N:return M=Wo(j.type,j.key,j.props,null,B.mode,M),mi(M,j),M.return=B,M;case w:return j=Rc(j,B.mode,M),j.return=B,j;case re:return j=gs(j),Z(B,j,M)}if(de(j)||J(j))return j=fs(j,B.mode,M,null),j.return=B,j;if(typeof j.then=="function")return Z(B,al(j),M);if(j.$$typeof===I)return Z(B,Jo(B,j),M);sl(B,j)}return null}function q(B,j,M,P){var pe=j!==null?j.key:null;if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return pe!==null?null:T(B,j,""+M,P);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case N:return M.key===pe?R(B,j,M,P):null;case w:return M.key===pe?U(B,j,M,P):null;case re:return M=gs(M),q(B,j,M,P)}if(de(M)||J(M))return pe!==null?null:X(B,j,M,P,null);if(typeof M.then=="function")return q(B,j,al(M),P);if(M.$$typeof===I)return q(B,j,Jo(B,M),P);sl(B,M)}return null}function K(B,j,M,P,pe){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return B=B.get(M)||null,T(j,B,""+P,pe);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case N:return B=B.get(P.key===null?M:P.key)||null,R(j,B,P,pe);case w:return B=B.get(P.key===null?M:P.key)||null,U(j,B,P,pe);case re:return P=gs(P),K(B,j,M,P,pe)}if(de(P)||J(P))return B=B.get(M)||null,X(j,B,P,pe,null);if(typeof P.then=="function")return K(B,j,M,al(P),pe);if(P.$$typeof===I)return K(B,j,M,Jo(j,P),pe);sl(j,P)}return null}function fe(B,j,M,P){for(var pe=null,ze=null,he=j,Ee=j=0,$e=null;he!==null&&Ee<M.length;Ee++){he.index>Ee?($e=he,he=null):$e=he.sibling;var Ce=q(B,he,M[Ee],P);if(Ce===null){he===null&&(he=$e);break}n&&he&&Ce.alternate===null&&s(B,he),j=p(Ce,j,Ee),ze===null?pe=Ce:ze.sibling=Ce,ze=Ce,he=$e}if(Ee===M.length)return o(B,he),Re&&Pn(B,Ee),pe;if(he===null){for(;Ee<M.length;Ee++)he=Z(B,M[Ee],P),he!==null&&(j=p(he,j,Ee),ze===null?pe=he:ze.sibling=he,ze=he);return Re&&Pn(B,Ee),pe}for(he=u(he);Ee<M.length;Ee++)$e=K(he,B,Ee,M[Ee],P),$e!==null&&(n&&$e.alternate!==null&&he.delete($e.key===null?Ee:$e.key),j=p($e,j,Ee),ze===null?pe=$e:ze.sibling=$e,ze=$e);return n&&he.forEach(function(qa){return s(B,qa)}),Re&&Pn(B,Ee),pe}function ye(B,j,M,P){if(M==null)throw Error(r(151));for(var pe=null,ze=null,he=j,Ee=j=0,$e=null,Ce=M.next();he!==null&&!Ce.done;Ee++,Ce=M.next()){he.index>Ee?($e=he,he=null):$e=he.sibling;var qa=q(B,he,Ce.value,P);if(qa===null){he===null&&(he=$e);break}n&&he&&qa.alternate===null&&s(B,he),j=p(qa,j,Ee),ze===null?pe=qa:ze.sibling=qa,ze=qa,he=$e}if(Ce.done)return o(B,he),Re&&Pn(B,Ee),pe;if(he===null){for(;!Ce.done;Ee++,Ce=M.next())Ce=Z(B,Ce.value,P),Ce!==null&&(j=p(Ce,j,Ee),ze===null?pe=Ce:ze.sibling=Ce,ze=Ce);return Re&&Pn(B,Ee),pe}for(he=u(he);!Ce.done;Ee++,Ce=M.next())Ce=K(he,B,Ee,Ce.value,P),Ce!==null&&(n&&Ce.alternate!==null&&he.delete(Ce.key===null?Ee:Ce.key),j=p(Ce,j,Ee),ze===null?pe=Ce:ze.sibling=Ce,ze=Ce);return n&&he.forEach(function(ox){return s(B,ox)}),Re&&Pn(B,Ee),pe}function Ve(B,j,M,P){if(typeof M=="object"&&M!==null&&M.type===x&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case N:e:{for(var pe=M.key;j!==null;){if(j.key===pe){if(pe=M.type,pe===x){if(j.tag===7){o(B,j.sibling),P=d(j,M.props.children),P.return=B,B=P;break e}}else if(j.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===re&&gs(pe)===j.type){o(B,j.sibling),P=d(j,M.props),mi(P,M),P.return=B,B=P;break e}o(B,j);break}else s(B,j);j=j.sibling}M.type===x?(P=fs(M.props.children,B.mode,P,M.key),P.return=B,B=P):(P=Wo(M.type,M.key,M.props,null,B.mode,P),mi(P,M),P.return=B,B=P)}return S(B);case w:e:{for(pe=M.key;j!==null;){if(j.key===pe)if(j.tag===4&&j.stateNode.containerInfo===M.containerInfo&&j.stateNode.implementation===M.implementation){o(B,j.sibling),P=d(j,M.children||[]),P.return=B,B=P;break e}else{o(B,j);break}else s(B,j);j=j.sibling}P=Rc(M,B.mode,P),P.return=B,B=P}return S(B);case re:return M=gs(M),Ve(B,j,M,P)}if(de(M))return fe(B,j,M,P);if(J(M)){if(pe=J(M),typeof pe!="function")throw Error(r(150));return M=pe.call(M),ye(B,j,M,P)}if(typeof M.then=="function")return Ve(B,j,al(M),P);if(M.$$typeof===I)return Ve(B,j,Jo(B,M),P);sl(B,M)}return typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint"?(M=""+M,j!==null&&j.tag===6?(o(B,j.sibling),P=d(j,M),P.return=B,B=P):(o(B,j),P=kc(M,B.mode,P),P.return=B,B=P),S(B)):o(B,j)}return function(B,j,M,P){try{di=0;var pe=Ve(B,j,M,P);return cr=null,pe}catch(he){if(he===ur||he===tl)throw he;var ze=an(29,he,null,B.mode);return ze.lanes=P,ze.return=B,ze}finally{}}}var bs=Pp(!0),Wp=Pp(!1),_a=!1;function Vc(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function xa(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Aa(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(je&2)!==0){var d=u.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),u.pending=s,s=Po(n),zp(n,null,o),s}return Xo(n,u,s,o),Po(n)}function pi(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Fm(n,o)}}function Kc(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var S={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?d=p=S:p=p.next=S,o=o.next}while(o!==null);p===null?d=p=s:p=p.next=s}else d=p=s;o={baseState:u.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Yc=!1;function gi(){if(Yc){var n=lr;if(n!==null)throw n}}function yi(n,s,o,u){Yc=!1;var d=n.updateQueue;_a=!1;var p=d.firstBaseUpdate,S=d.lastBaseUpdate,T=d.shared.pending;if(T!==null){d.shared.pending=null;var R=T,U=R.next;R.next=null,S===null?p=U:S.next=U,S=R;var X=n.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==S&&(T===null?X.firstBaseUpdate=U:T.next=U,X.lastBaseUpdate=R))}if(p!==null){var Z=d.baseState;S=0,X=U=R=null,T=p;do{var q=T.lane&-536870913,K=q!==T.lane;if(K?(De&q)===q:(u&q)===q){q!==0&&q===or&&(Yc=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=n,ye=T;q=s;var Ve=o;switch(ye.tag){case 1:if(fe=ye.payload,typeof fe=="function"){Z=fe.call(Ve,Z,q);break e}Z=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ye.payload,q=typeof fe=="function"?fe.call(Ve,Z,q):fe,q==null)break e;Z=y({},Z,q);break e;case 2:_a=!0}}q=T.callback,q!==null&&(n.flags|=64,K&&(n.flags|=8192),K=d.callbacks,K===null?d.callbacks=[q]:K.push(q))}else K={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(U=X=K,R=Z):X=X.next=K,S|=q;if(T=T.next,T===null){if(T=d.shared.pending,T===null)break;K=T,T=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);X===null&&(R=Z),d.baseState=R,d.firstBaseUpdate=U,d.lastBaseUpdate=X,p===null&&(d.shared.lanes=0),Ra|=S,n.lanes=S,n.memoizedState=Z}}function Zp(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function Qp(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Zp(o[n],s)}var fr=z(null),rl=z(0);function Jp(n,s){n=ia,se(rl,n),se(fr,s),ia=n|s.baseLanes}function Xc(){se(rl,ia),se(fr,fr.current)}function Pc(){ia=rl.current,Y(fr),Y(rl)}var sn=z(null),bn=null;function Oa(n){var s=n.alternate;se(ot,ot.current&1),se(sn,n),bn===null&&(s===null||fr.current!==null||s.memoizedState!==null)&&(bn=n)}function Wc(n){se(ot,ot.current),se(sn,n),bn===null&&(bn=n)}function eg(n){n.tag===22?(se(ot,ot.current),se(sn,n),bn===null&&(bn=n)):Da()}function Da(){se(ot,ot.current),se(sn,sn.current)}function rn(n){Y(sn),bn===n&&(bn=null),Y(ot)}var ot=z(0);function il(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||ah(o)||sh(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Qn=0,we=null,qe=null,ht=null,ol=!1,hr=!1,vs=!1,ll=0,bi=0,dr=null,ZE=0;function st(){throw Error(r(321))}function Zc(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!nn(n[o],s[o]))return!1;return!0}function Qc(n,s,o,u,d,p){return Qn=p,we=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?Ig:mf,vs=!1,p=o(u,d),vs=!1,hr&&(p=ng(s,o,u,d)),tg(n),p}function tg(n){L.H=Ni;var s=qe!==null&&qe.next!==null;if(Qn=0,ht=qe=we=null,ol=!1,bi=0,dr=null,s)throw Error(r(300));n===null||dt||(n=n.dependencies,n!==null&&Qo(n)&&(dt=!0))}function ng(n,s,o,u){we=n;var d=0;do{if(hr&&(dr=null),bi=0,hr=!1,25<=d)throw Error(r(301));if(d+=1,ht=qe=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}L.H=Lg,p=s(o,u)}while(hr);return p}function QE(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?vi(s):s,n=n.useState()[0],(qe!==null?qe.memoizedState:null)!==n&&(we.flags|=1024),s}function Jc(){var n=ll!==0;return ll=0,n}function ef(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function tf(n){if(ol){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}ol=!1}Qn=0,ht=qe=we=null,hr=!1,bi=ll=0,dr=null}function Bt(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?we.memoizedState=ht=n:ht=ht.next=n,ht}function lt(){if(qe===null){var n=we.alternate;n=n!==null?n.memoizedState:null}else n=qe.next;var s=ht===null?we.memoizedState:ht.next;if(s!==null)ht=s,qe=n;else{if(n===null)throw we.alternate===null?Error(r(467)):Error(r(310));qe=n,n={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ht===null?we.memoizedState=ht=n:ht=ht.next=n}return ht}function ul(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vi(n){var s=bi;return bi+=1,dr===null&&(dr=[]),n=Kp(dr,n,s),s=we,(ht===null?s.memoizedState:ht.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Ig:mf),n}function cl(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return vi(n);if(n.$$typeof===I)return Et(n)}throw Error(r(438,String(n)))}function nf(n){var s=null,o=we.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=we.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(d){return d.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=ul(),we.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=V;return s.index++,o}function Jn(n,s){return typeof s=="function"?s(n):s}function fl(n){var s=lt();return af(s,qe,n)}function af(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var d=n.baseQueue,p=u.pending;if(p!==null){if(d!==null){var S=d.next;d.next=p.next,p.next=S}s.baseQueue=d=p,u.pending=null}if(p=n.baseState,d===null)n.memoizedState=p;else{s=d.next;var T=S=null,R=null,U=s,X=!1;do{var Z=U.lane&-536870913;if(Z!==U.lane?(De&Z)===Z:(Qn&Z)===Z){var q=U.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null}),Z===or&&(X=!0);else if((Qn&q)===q){U=U.next,q===or&&(X=!0);continue}else Z={lane:0,revertLane:U.revertLane,gesture:null,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=Z,S=p):R=R.next=Z,we.lanes|=q,Ra|=q;Z=U.action,vs&&o(p,Z),p=U.hasEagerState?U.eagerState:o(p,Z)}else q={lane:Z,revertLane:U.revertLane,gesture:U.gesture,action:U.action,hasEagerState:U.hasEagerState,eagerState:U.eagerState,next:null},R===null?(T=R=q,S=p):R=R.next=q,we.lanes|=Z,Ra|=Z;U=U.next}while(U!==null&&U!==s);if(R===null?S=p:R.next=T,!nn(p,n.memoizedState)&&(dt=!0,X&&(o=lr,o!==null)))throw o;n.memoizedState=p,n.baseState=S,n.baseQueue=R,u.lastRenderedState=p}return d===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function sf(n){var s=lt(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,d=o.pending,p=s.memoizedState;if(d!==null){o.pending=null;var S=d=d.next;do p=n(p,S.action),S=S.next;while(S!==d);nn(p,s.memoizedState)||(dt=!0),s.memoizedState=p,s.baseQueue===null&&(s.baseState=p),o.lastRenderedState=p}return[p,u]}function ag(n,s,o){var u=we,d=lt(),p=Re;if(p){if(o===void 0)throw Error(r(407));o=o()}else o=s();var S=!nn((qe||d).memoizedState,o);if(S&&(d.memoizedState=o,dt=!0),d=d.queue,lf(ig.bind(null,u,d,n),[n]),d.getSnapshot!==s||S||ht!==null&&ht.memoizedState.tag&1){if(u.flags|=2048,mr(9,{destroy:void 0},rg.bind(null,u,d,o,s),null),Ke===null)throw Error(r(349));p||(Qn&127)!==0||sg(u,s,o)}return o}function sg(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=we.updateQueue,s===null?(s=ul(),we.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function rg(n,s,o,u){s.value=o,s.getSnapshot=u,og(s)&&lg(n)}function ig(n,s,o){return o(function(){og(s)&&lg(n)})}function og(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!nn(n,o)}catch{return!0}}function lg(n){var s=cs(n,2);s!==null&&Vt(s,n,2)}function rf(n){var s=Bt();if(typeof n=="function"){var o=n;if(n=o(),vs){ba(!0);try{o()}finally{ba(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:n},s}function ug(n,s,o,u){return n.baseState=o,af(n,qe,typeof u=="function"?u:Jn)}function JE(n,s,o,u,d){if(ml(n))throw Error(r(485));if(n=s.action,n!==null){var p={payload:d,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){p.listeners.push(S)}};L.T!==null?o(!0):p.isTransition=!1,u(p),o=s.pending,o===null?(p.next=s.pending=p,cg(s,p)):(p.next=o.next,s.pending=o.next=p)}}function cg(n,s){var o=s.action,u=s.payload,d=n.state;if(s.isTransition){var p=L.T,S={};L.T=S;try{var T=o(d,u),R=L.S;R!==null&&R(S,T),fg(n,s,T)}catch(U){of(n,s,U)}finally{p!==null&&S.types!==null&&(p.types=S.types),L.T=p}}else try{p=o(d,u),fg(n,s,p)}catch(U){of(n,s,U)}}function fg(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){hg(n,s,u)},function(u){return of(n,s,u)}):hg(n,s,o)}function hg(n,s,o){s.status="fulfilled",s.value=o,dg(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,cg(n,o)))}function of(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,dg(s),s=s.next;while(s!==u)}n.action=null}function dg(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function mg(n,s){return s}function pg(n,s){if(Re){var o=Ke.formState;if(o!==null){e:{var u=we;if(Re){if(Ze){t:{for(var d=Ze,p=yn;d.nodeType!==8;){if(!p){d=null;break t}if(d=vn(d.nextSibling),d===null){d=null;break t}}p=d.data,d=p==="F!"||p==="F"?d:null}if(d){Ze=vn(d.nextSibling),u=d.data==="F!";break e}}Ta(u)}u=!1}u&&(s=o[0])}}return o=Bt(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:s},o.queue=u,o=Cg.bind(null,we,u),u.dispatch=o,u=rf(!1),p=df.bind(null,we,!1,u.queue),u=Bt(),d={state:s,dispatch:null,action:n,pending:null},u.queue=d,o=JE.bind(null,we,d,p,o),d.dispatch=o,u.memoizedState=n,[s,o,!1]}function gg(n){var s=lt();return yg(s,qe,n)}function yg(n,s,o){if(s=af(n,s,mg)[0],n=fl(Jn)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=vi(s)}catch(S){throw S===ur?tl:S}else u=s;s=lt();var d=s.queue,p=d.dispatch;return o!==s.memoizedState&&(we.flags|=2048,mr(9,{destroy:void 0},e_.bind(null,d,o),null)),[u,p,n]}function e_(n,s){n.action=s}function bg(n){var s=lt(),o=qe;if(o!==null)return yg(s,o,n);lt(),s=s.memoizedState,o=lt();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function mr(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=we.updateQueue,s===null&&(s=ul(),we.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function vg(){return lt().memoizedState}function hl(n,s,o,u){var d=Bt();we.flags|=n,d.memoizedState=mr(1|s,{destroy:void 0},o,u===void 0?null:u)}function dl(n,s,o,u){var d=lt();u=u===void 0?null:u;var p=d.memoizedState.inst;qe!==null&&u!==null&&Zc(u,qe.memoizedState.deps)?d.memoizedState=mr(s,p,o,u):(we.flags|=n,d.memoizedState=mr(1|s,p,o,u))}function Sg(n,s){hl(8390656,8,n,s)}function lf(n,s){dl(2048,8,n,s)}function t_(n){we.flags|=4;var s=we.updateQueue;if(s===null)s=ul(),we.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Ng(n){var s=lt().memoizedState;return t_({ref:s,nextImpl:n}),function(){if((je&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function wg(n,s){return dl(4,2,n,s)}function Tg(n,s){return dl(4,4,n,s)}function Eg(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function _g(n,s,o){o=o!=null?o.concat([n]):null,dl(4,4,Eg.bind(null,s,n),o)}function uf(){}function xg(n,s){var o=lt();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Zc(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Ag(n,s){var o=lt();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Zc(s,u[1]))return u[0];if(u=n(),vs){ba(!0);try{n()}finally{ba(!1)}}return o.memoizedState=[u,s],u}function cf(n,s,o){return o===void 0||(Qn&1073741824)!==0&&(De&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=Oy(),we.lanes|=n,Ra|=n,o)}function Og(n,s,o,u){return nn(o,s)?o:fr.current!==null?(n=cf(n,o,u),nn(n,s)||(dt=!0),n):(Qn&42)===0||(Qn&1073741824)!==0&&(De&261930)===0?(dt=!0,n.memoizedState=o):(n=Oy(),we.lanes|=n,Ra|=n,s)}function Dg(n,s,o,u,d){var p=ae.p;ae.p=p!==0&&8>p?p:8;var S=L.T,T={};L.T=T,df(n,!1,s,o);try{var R=d(),U=L.S;if(U!==null&&U(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var X=WE(R,u);Si(n,s,X,un(n))}else Si(n,s,u,un(n))}catch(Z){Si(n,s,{then:function(){},status:"rejected",reason:Z},un())}finally{ae.p=p,S!==null&&T.types!==null&&(S.types=T.types),L.T=S}}function n_(){}function ff(n,s,o,u){if(n.tag!==5)throw Error(r(476));var d=$g(n).queue;Dg(n,d,s,ie,o===null?n_:function(){return kg(n),o(u)})}function $g(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:ie},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Jn,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function kg(n){var s=$g(n);s.next===null&&(s=n.alternate.memoizedState),Si(n,s.next.queue,{},un())}function hf(){return Et(Ii)}function Rg(){return lt().memoizedState}function zg(){return lt().memoizedState}function a_(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=un();n=xa(o);var u=Aa(s,n,o);u!==null&&(Vt(u,s,o),pi(u,s,o)),s={cache:Uc()},n.payload=s;return}s=s.return}}function s_(n,s,o){var u=un();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},ml(n)?jg(s,o):(o=Dc(n,s,o,u),o!==null&&(Vt(o,n,u),Bg(o,s,u)))}function Cg(n,s,o){var u=un();Si(n,s,o,u)}function Si(n,s,o,u){var d={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(ml(n))jg(s,d);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=s.lastRenderedReducer,p!==null))try{var S=s.lastRenderedState,T=p(S,o);if(d.hasEagerState=!0,d.eagerState=T,nn(T,S))return Xo(n,s,d,0),Ke===null&&Yo(),!1}catch{}finally{}if(o=Dc(n,s,d,u),o!==null)return Vt(o,n,u),Bg(o,s,u),!0}return!1}function df(n,s,o,u){if(u={lane:2,revertLane:Gf(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},ml(n)){if(s)throw Error(r(479))}else s=Dc(n,o,u,2),s!==null&&Vt(s,n,2)}function ml(n){var s=n.alternate;return n===we||s!==null&&s===we}function jg(n,s){hr=ol=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Bg(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Fm(n,o)}}var Ni={readContext:Et,use:cl,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useLayoutEffect:st,useInsertionEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useSyncExternalStore:st,useId:st,useHostTransitionStatus:st,useFormState:st,useActionState:st,useOptimistic:st,useMemoCache:st,useCacheRefresh:st};Ni.useEffectEvent=st;var Ig={readContext:Et,use:cl,useCallback:function(n,s){return Bt().memoizedState=[n,s===void 0?null:s],n},useContext:Et,useEffect:Sg,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,hl(4194308,4,Eg.bind(null,s,n),o)},useLayoutEffect:function(n,s){return hl(4194308,4,n,s)},useInsertionEffect:function(n,s){hl(4,2,n,s)},useMemo:function(n,s){var o=Bt();s=s===void 0?null:s;var u=n();if(vs){ba(!0);try{n()}finally{ba(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=Bt();if(o!==void 0){var d=o(s);if(vs){ba(!0);try{o(s)}finally{ba(!1)}}}else d=s;return u.memoizedState=u.baseState=d,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:d},u.queue=n,n=n.dispatch=s_.bind(null,we,n),[u.memoizedState,n]},useRef:function(n){var s=Bt();return n={current:n},s.memoizedState=n},useState:function(n){n=rf(n);var s=n.queue,o=Cg.bind(null,we,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:uf,useDeferredValue:function(n,s){var o=Bt();return cf(o,n,s)},useTransition:function(){var n=rf(!1);return n=Dg.bind(null,we,n.queue,!0,!1),Bt().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=we,d=Bt();if(Re){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),Ke===null)throw Error(r(349));(De&127)!==0||sg(u,s,o)}d.memoizedState=o;var p={value:o,getSnapshot:s};return d.queue=p,Sg(ig.bind(null,u,p,n),[n]),u.flags|=2048,mr(9,{destroy:void 0},rg.bind(null,u,p,o,s),null),o},useId:function(){var n=Bt(),s=Ke.identifierPrefix;if(Re){var o=jn,u=Cn;o=(u&~(1<<32-tn(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=ll++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=ZE++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:hf,useFormState:pg,useActionState:pg,useOptimistic:function(n){var s=Bt();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=df.bind(null,we,!0,o),o.dispatch=s,[n,s]},useMemoCache:nf,useCacheRefresh:function(){return Bt().memoizedState=a_.bind(null,we)},useEffectEvent:function(n){var s=Bt(),o={impl:n};return s.memoizedState=o,function(){if((je&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},mf={readContext:Et,use:cl,useCallback:xg,useContext:Et,useEffect:lf,useImperativeHandle:_g,useInsertionEffect:wg,useLayoutEffect:Tg,useMemo:Ag,useReducer:fl,useRef:vg,useState:function(){return fl(Jn)},useDebugValue:uf,useDeferredValue:function(n,s){var o=lt();return Og(o,qe.memoizedState,n,s)},useTransition:function(){var n=fl(Jn)[0],s=lt().memoizedState;return[typeof n=="boolean"?n:vi(n),s]},useSyncExternalStore:ag,useId:Rg,useHostTransitionStatus:hf,useFormState:gg,useActionState:gg,useOptimistic:function(n,s){var o=lt();return ug(o,qe,n,s)},useMemoCache:nf,useCacheRefresh:zg};mf.useEffectEvent=Ng;var Lg={readContext:Et,use:cl,useCallback:xg,useContext:Et,useEffect:lf,useImperativeHandle:_g,useInsertionEffect:wg,useLayoutEffect:Tg,useMemo:Ag,useReducer:sf,useRef:vg,useState:function(){return sf(Jn)},useDebugValue:uf,useDeferredValue:function(n,s){var o=lt();return qe===null?cf(o,n,s):Og(o,qe.memoizedState,n,s)},useTransition:function(){var n=sf(Jn)[0],s=lt().memoizedState;return[typeof n=="boolean"?n:vi(n),s]},useSyncExternalStore:ag,useId:Rg,useHostTransitionStatus:hf,useFormState:bg,useActionState:bg,useOptimistic:function(n,s){var o=lt();return qe!==null?ug(o,qe,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:nf,useCacheRefresh:zg};Lg.useEffectEvent=Ng;function pf(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:y({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var gf={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=un(),d=xa(u);d.payload=s,o!=null&&(d.callback=o),s=Aa(n,d,u),s!==null&&(Vt(s,n,u),pi(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=un(),d=xa(u);d.tag=1,d.payload=s,o!=null&&(d.callback=o),s=Aa(n,d,u),s!==null&&(Vt(s,n,u),pi(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=un(),u=xa(o);u.tag=2,s!=null&&(u.callback=s),s=Aa(n,u,o),s!==null&&(Vt(s,n,o),pi(s,n,o))}};function Mg(n,s,o,u,d,p,S){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,p,S):s.prototype&&s.prototype.isPureReactComponent?!oi(o,u)||!oi(d,p):!0}function Ug(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&gf.enqueueReplaceState(s,s.state,null)}function Ss(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=y({},o));for(var d in n)o[d]===void 0&&(o[d]=n[d])}return o}function Fg(n){Ko(n)}function qg(n){console.error(n)}function Hg(n){Ko(n)}function pl(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Vg(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(d){setTimeout(function(){throw d})}}function yf(n,s,o){return o=xa(o),o.tag=3,o.payload={element:null},o.callback=function(){pl(n,s)},o}function Gg(n){return n=xa(n),n.tag=3,n}function Kg(n,s,o,u){var d=o.type.getDerivedStateFromError;if(typeof d=="function"){var p=u.value;n.payload=function(){return d(p)},n.callback=function(){Vg(s,o,u)}}var S=o.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(n.callback=function(){Vg(s,o,u),typeof d!="function"&&(za===null?za=new Set([this]):za.add(this));var T=u.stack;this.componentDidCatch(u.value,{componentStack:T!==null?T:""})})}function r_(n,s,o,u,d){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&ir(s,o,d,!0),o=sn.current,o!==null){switch(o.tag){case 31:case 13:return bn===null?Al():o.alternate===null&&rt===0&&(rt=3),o.flags&=-257,o.flags|=65536,o.lanes=d,u===nl?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),qf(n,u,d)),!1;case 22:return o.flags|=65536,u===nl?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),qf(n,u,d)),!1}throw Error(r(435,o.tag))}return qf(n,u,d),Al(),!1}if(Re)return s=sn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=d,u!==jc&&(n=Error(r(422),{cause:u}),ci(mn(n,o)))):(u!==jc&&(s=Error(r(423),{cause:u}),ci(mn(s,o))),n=n.current.alternate,n.flags|=65536,d&=-d,n.lanes|=d,u=mn(u,o),d=yf(n.stateNode,u,d),Kc(n,d),rt!==4&&(rt=2)),!1;var p=Error(r(520),{cause:u});if(p=mn(p,o),Di===null?Di=[p]:Di.push(p),rt!==4&&(rt=2),s===null)return!0;u=mn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=d&-d,o.lanes|=n,n=yf(o.stateNode,u,n),Kc(o,n),!1;case 1:if(s=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(za===null||!za.has(p))))return o.flags|=65536,d&=-d,o.lanes|=d,d=Gg(d),Kg(d,n,o,u),Kc(o,d),!1}o=o.return}while(o!==null);return!1}var bf=Error(r(461)),dt=!1;function _t(n,s,o,u){s.child=n===null?Wp(s,null,o,u):bs(s,n.child,o,u)}function Yg(n,s,o,u,d){o=o.render;var p=s.ref;if("ref"in u){var S={};for(var T in u)T!=="ref"&&(S[T]=u[T])}else S=u;return ms(s),u=Qc(n,s,o,S,p,d),T=Jc(),n!==null&&!dt?(ef(n,s,d),ea(n,s,d)):(Re&&T&&zc(s),s.flags|=1,_t(n,s,u,d),s.child)}function Xg(n,s,o,u,d){if(n===null){var p=o.type;return typeof p=="function"&&!$c(p)&&p.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=p,Pg(n,s,p,u,d)):(n=Wo(o.type,null,u,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(p=n.child,!xf(n,d)){var S=p.memoizedProps;if(o=o.compare,o=o!==null?o:oi,o(S,u)&&n.ref===s.ref)return ea(n,s,d)}return s.flags|=1,n=Xn(p,u),n.ref=s.ref,n.return=s,s.child=n}function Pg(n,s,o,u,d){if(n!==null){var p=n.memoizedProps;if(oi(p,u)&&n.ref===s.ref)if(dt=!1,s.pendingProps=u=p,xf(n,d))(n.flags&131072)!==0&&(dt=!0);else return s.lanes=n.lanes,ea(n,s,d)}return vf(n,s,o,u,d)}function Wg(n,s,o,u){var d=u.children,p=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(p=p!==null?p.baseLanes|o:o,n!==null){for(u=s.child=n.child,d=0;u!==null;)d=d|u.lanes|u.childLanes,u=u.sibling;u=d&~p}else u=0,s.child=null;return Zg(n,s,p,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&el(s,p!==null?p.cachePool:null),p!==null?Jp(s,p):Xc(),eg(s);else return u=s.lanes=536870912,Zg(n,s,p!==null?p.baseLanes|o:o,o,u)}else p!==null?(el(s,p.cachePool),Jp(s,p),Da(),s.memoizedState=null):(n!==null&&el(s,null),Xc(),Da());return _t(n,s,d,o),s.child}function wi(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Zg(n,s,o,u,d){var p=qc();return p=p===null?null:{parent:ft._currentValue,pool:p},s.memoizedState={baseLanes:o,cachePool:p},n!==null&&el(s,null),Xc(),eg(s),n!==null&&ir(n,s,u,!0),s.childLanes=d,null}function gl(n,s){return s=bl({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Qg(n,s,o){return bs(s,n.child,null,o),n=gl(s,s.pendingProps),n.flags|=2,rn(s),s.memoizedState=null,n}function i_(n,s,o){var u=s.pendingProps,d=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Re){if(u.mode==="hidden")return n=gl(s,u),s.lanes=536870912,wi(null,n);if(Wc(s),(n=Ze)?(n=c0(n,yn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Na!==null?{id:Cn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},o=jp(n),o.return=s,s.child=o,Tt=s,Ze=null)):n=null,n===null)throw Ta(s);return s.lanes=536870912,null}return gl(s,u)}var p=n.memoizedState;if(p!==null){var S=p.dehydrated;if(Wc(s),d)if(s.flags&256)s.flags&=-257,s=Qg(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(dt||ir(n,s,o,!1),d=(o&n.childLanes)!==0,dt||d){if(u=Ke,u!==null&&(S=qm(u,o),S!==0&&S!==p.retryLane))throw p.retryLane=S,cs(n,S),Vt(u,n,S),bf;Al(),s=Qg(n,s,o)}else n=p.treeContext,Ze=vn(S.nextSibling),Tt=s,Re=!0,wa=null,yn=!1,n!==null&&Lp(s,n),s=gl(s,u),s.flags|=4096;return s}return n=Xn(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function yl(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function vf(n,s,o,u,d){return ms(s),o=Qc(n,s,o,u,void 0,d),u=Jc(),n!==null&&!dt?(ef(n,s,d),ea(n,s,d)):(Re&&u&&zc(s),s.flags|=1,_t(n,s,o,d),s.child)}function Jg(n,s,o,u,d,p){return ms(s),s.updateQueue=null,o=ng(s,u,o,d),tg(n),u=Jc(),n!==null&&!dt?(ef(n,s,p),ea(n,s,p)):(Re&&u&&zc(s),s.flags|=1,_t(n,s,o,p),s.child)}function ey(n,s,o,u,d){if(ms(s),s.stateNode===null){var p=nr,S=o.contextType;typeof S=="object"&&S!==null&&(p=Et(S)),p=new o(u,p),s.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=gf,s.stateNode=p,p._reactInternals=s,p=s.stateNode,p.props=u,p.state=s.memoizedState,p.refs={},Vc(s),S=o.contextType,p.context=typeof S=="object"&&S!==null?Et(S):nr,p.state=s.memoizedState,S=o.getDerivedStateFromProps,typeof S=="function"&&(pf(s,o,S,u),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(S=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),S!==p.state&&gf.enqueueReplaceState(p,p.state,null),yi(s,u,p,d),gi(),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){p=s.stateNode;var T=s.memoizedProps,R=Ss(o,T);p.props=R;var U=p.context,X=o.contextType;S=nr,typeof X=="object"&&X!==null&&(S=Et(X));var Z=o.getDerivedStateFromProps;X=typeof Z=="function"||typeof p.getSnapshotBeforeUpdate=="function",T=s.pendingProps!==T,X||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(T||U!==S)&&Ug(s,p,u,S),_a=!1;var q=s.memoizedState;p.state=q,yi(s,u,p,d),gi(),U=s.memoizedState,T||q!==U||_a?(typeof Z=="function"&&(pf(s,o,Z,u),U=s.memoizedState),(R=_a||Mg(s,o,R,u,q,U,S))?(X||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(s.flags|=4194308)):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=U),p.props=u,p.state=U,p.context=S,u=R):(typeof p.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{p=s.stateNode,Gc(n,s),S=s.memoizedProps,X=Ss(o,S),p.props=X,Z=s.pendingProps,q=p.context,U=o.contextType,R=nr,typeof U=="object"&&U!==null&&(R=Et(U)),T=o.getDerivedStateFromProps,(U=typeof T=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S!==Z||q!==R)&&Ug(s,p,u,R),_a=!1,q=s.memoizedState,p.state=q,yi(s,u,p,d),gi();var K=s.memoizedState;S!==Z||q!==K||_a||n!==null&&n.dependencies!==null&&Qo(n.dependencies)?(typeof T=="function"&&(pf(s,o,T,u),K=s.memoizedState),(X=_a||Mg(s,o,X,u,q,K,R)||n!==null&&n.dependencies!==null&&Qo(n.dependencies))?(U||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,K,R),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,K,R)),typeof p.componentDidUpdate=="function"&&(s.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=K),p.props=u,p.state=K,p.context=R,u=X):(typeof p.componentDidUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||S===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),u=!1)}return p=u,yl(n,s),u=(s.flags&128)!==0,p||u?(p=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:p.render(),s.flags|=1,n!==null&&u?(s.child=bs(s,n.child,null,d),s.child=bs(s,null,o,d)):_t(n,s,o,d),s.memoizedState=p.state,n=s.child):n=ea(n,s,d),n}function ty(n,s,o,u){return hs(),s.flags|=256,_t(n,s,o,u),s.child}var Sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nf(n){return{baseLanes:n,cachePool:Vp()}}function wf(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=ln),n}function ny(n,s,o){var u=s.pendingProps,d=!1,p=(s.flags&128)!==0,S;if((S=p)||(S=n!==null&&n.memoizedState===null?!1:(ot.current&2)!==0),S&&(d=!0,s.flags&=-129),S=(s.flags&32)!==0,s.flags&=-33,n===null){if(Re){if(d?Oa(s):Da(),(n=Ze)?(n=c0(n,yn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Na!==null?{id:Cn,overflow:jn}:null,retryLane:536870912,hydrationErrors:null},o=jp(n),o.return=s,s.child=o,Tt=s,Ze=null)):n=null,n===null)throw Ta(s);return sh(n)?s.lanes=32:s.lanes=536870912,null}var T=u.children;return u=u.fallback,d?(Da(),d=s.mode,T=bl({mode:"hidden",children:T},d),u=fs(u,d,o,null),T.return=s,u.return=s,T.sibling=u,s.child=T,u=s.child,u.memoizedState=Nf(o),u.childLanes=wf(n,S,o),s.memoizedState=Sf,wi(null,u)):(Oa(s),Tf(s,T))}var R=n.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(p)s.flags&256?(Oa(s),s.flags&=-257,s=Ef(n,s,o)):s.memoizedState!==null?(Da(),s.child=n.child,s.flags|=128,s=null):(Da(),T=u.fallback,d=s.mode,u=bl({mode:"visible",children:u.children},d),T=fs(T,d,o,null),T.flags|=2,u.return=s,T.return=s,u.sibling=T,s.child=u,bs(s,n.child,null,o),u=s.child,u.memoizedState=Nf(o),u.childLanes=wf(n,S,o),s.memoizedState=Sf,s=wi(null,u));else if(Oa(s),sh(T)){if(S=T.nextSibling&&T.nextSibling.dataset,S)var U=S.dgst;S=U,u=Error(r(419)),u.stack="",u.digest=S,ci({value:u,source:null,stack:null}),s=Ef(n,s,o)}else if(dt||ir(n,s,o,!1),S=(o&n.childLanes)!==0,dt||S){if(S=Ke,S!==null&&(u=qm(S,o),u!==0&&u!==R.retryLane))throw R.retryLane=u,cs(n,u),Vt(S,n,u),bf;ah(T)||Al(),s=Ef(n,s,o)}else ah(T)?(s.flags|=192,s.child=n.child,s=null):(n=R.treeContext,Ze=vn(T.nextSibling),Tt=s,Re=!0,wa=null,yn=!1,n!==null&&Lp(s,n),s=Tf(s,u.children),s.flags|=4096);return s}return d?(Da(),T=u.fallback,d=s.mode,R=n.child,U=R.sibling,u=Xn(R,{mode:"hidden",children:u.children}),u.subtreeFlags=R.subtreeFlags&65011712,U!==null?T=Xn(U,T):(T=fs(T,d,o,null),T.flags|=2),T.return=s,u.return=s,u.sibling=T,s.child=u,wi(null,u),u=s.child,T=n.child.memoizedState,T===null?T=Nf(o):(d=T.cachePool,d!==null?(R=ft._currentValue,d=d.parent!==R?{parent:R,pool:R}:d):d=Vp(),T={baseLanes:T.baseLanes|o,cachePool:d}),u.memoizedState=T,u.childLanes=wf(n,S,o),s.memoizedState=Sf,wi(n.child,u)):(Oa(s),o=n.child,n=o.sibling,o=Xn(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(S=s.deletions,S===null?(s.deletions=[n],s.flags|=16):S.push(n)),s.child=o,s.memoizedState=null,o)}function Tf(n,s){return s=bl({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function bl(n,s){return n=an(22,n,null,s),n.lanes=0,n}function Ef(n,s,o){return bs(s,n.child,null,o),n=Tf(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ay(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),Lc(n.return,s,o)}function _f(n,s,o,u,d,p){var S=n.memoizedState;S===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:d,treeForkCount:p}:(S.isBackwards=s,S.rendering=null,S.renderingStartTime=0,S.last=u,S.tail=o,S.tailMode=d,S.treeForkCount=p)}function sy(n,s,o){var u=s.pendingProps,d=u.revealOrder,p=u.tail;u=u.children;var S=ot.current,T=(S&2)!==0;if(T?(S=S&1|2,s.flags|=128):S&=1,se(ot,S),_t(n,s,u,o),u=Re?ui:0,!T&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ay(n,o,s);else if(n.tag===19)ay(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(d){case"forwards":for(o=s.child,d=null;o!==null;)n=o.alternate,n!==null&&il(n)===null&&(d=o),o=o.sibling;o=d,o===null?(d=s.child,s.child=null):(d=o.sibling,o.sibling=null),_f(s,!1,d,o,p,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&il(n)===null){s.child=d;break}n=d.sibling,d.sibling=o,o=d,d=n}_f(s,!0,o,null,p,u);break;case"together":_f(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function ea(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),Ra|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(ir(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=Xn(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=Xn(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function xf(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&Qo(n)))}function o_(n,s,o){switch(s.tag){case 3:jt(s,s.stateNode.containerInfo),Ea(s,ft,n.memoizedState.cache),hs();break;case 27:case 5:Xr(s);break;case 4:jt(s,s.stateNode.containerInfo);break;case 10:Ea(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Wc(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Oa(s),s.flags|=128,null):(o&s.child.childLanes)!==0?ny(n,s,o):(Oa(s),n=ea(n,s,o),n!==null?n.sibling:null);Oa(s);break;case 19:var d=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(ir(n,s,o,!1),u=(o&s.childLanes)!==0),d){if(u)return sy(n,s,o);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),se(ot,ot.current),u)break;return null;case 22:return s.lanes=0,Wg(n,s,o,s.pendingProps);case 24:Ea(s,ft,n.memoizedState.cache)}return ea(n,s,o)}function ry(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)dt=!0;else{if(!xf(n,o)&&(s.flags&128)===0)return dt=!1,o_(n,s,o);dt=(n.flags&131072)!==0}else dt=!1,Re&&(s.flags&1048576)!==0&&Ip(s,ui,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=gs(s.elementType),s.type=n,typeof n=="function")$c(n)?(u=Ss(n,u),s.tag=1,s=ey(null,s,n,u,o)):(s.tag=0,s=vf(null,s,n,u,o));else{if(n!=null){var d=n.$$typeof;if(d===F){s.tag=11,s=Yg(null,s,n,u,o);break e}else if(d===te){s.tag=14,s=Xg(null,s,n,u,o);break e}}throw s=ce(n)||n,Error(r(306,s,""))}}return s;case 0:return vf(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,d=Ss(u,s.pendingProps),ey(n,s,u,d,o);case 3:e:{if(jt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var p=s.memoizedState;d=p.element,Gc(n,s),yi(s,u,null,o);var S=s.memoizedState;if(u=S.cache,Ea(s,ft,u),u!==p.cache&&Mc(s,[ft],o,!0),gi(),u=S.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:S.cache},s.updateQueue.baseState=p,s.memoizedState=p,s.flags&256){s=ty(n,s,u,o);break e}else if(u!==d){d=mn(Error(r(424)),s),ci(d),s=ty(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Ze=vn(n.firstChild),Tt=s,Re=!0,wa=null,yn=!0,o=Wp(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(hs(),u===d){s=ea(n,s,o);break e}_t(n,s,u,o)}s=s.child}return s;case 26:return yl(n,s),n===null?(o=g0(s.type,null,s.pendingProps,null))?s.memoizedState=o:Re||(o=s.type,n=s.pendingProps,u=Cl(xe.current).createElement(o),u[wt]=s,u[Lt]=n,xt(u,o,n),bt(u),s.stateNode=u):s.memoizedState=g0(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Xr(s),n===null&&Re&&(u=s.stateNode=d0(s.type,s.pendingProps,xe.current),Tt=s,yn=!0,d=Ze,Ia(s.type)?(rh=d,Ze=vn(u.firstChild)):Ze=d),_t(n,s,s.pendingProps.children,o),yl(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Re&&((d=u=Ze)&&(u=I_(u,s.type,s.pendingProps,yn),u!==null?(s.stateNode=u,Tt=s,Ze=vn(u.firstChild),yn=!1,d=!0):d=!1),d||Ta(s)),Xr(s),d=s.type,p=s.pendingProps,S=n!==null?n.memoizedProps:null,u=p.children,eh(d,p)?u=null:S!==null&&eh(d,S)&&(s.flags|=32),s.memoizedState!==null&&(d=Qc(n,s,QE,null,null,o),Ii._currentValue=d),yl(n,s),_t(n,s,u,o),s.child;case 6:return n===null&&Re&&((n=o=Ze)&&(o=L_(o,s.pendingProps,yn),o!==null?(s.stateNode=o,Tt=s,Ze=null,n=!0):n=!1),n||Ta(s)),null;case 13:return ny(n,s,o);case 4:return jt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=bs(s,null,u,o):_t(n,s,u,o),s.child;case 11:return Yg(n,s,s.type,s.pendingProps,o);case 7:return _t(n,s,s.pendingProps,o),s.child;case 8:return _t(n,s,s.pendingProps.children,o),s.child;case 12:return _t(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Ea(s,s.type,u.value),_t(n,s,u.children,o),s.child;case 9:return d=s.type._context,u=s.pendingProps.children,ms(s),d=Et(d),u=u(d),s.flags|=1,_t(n,s,u,o),s.child;case 14:return Xg(n,s,s.type,s.pendingProps,o);case 15:return Pg(n,s,s.type,s.pendingProps,o);case 19:return sy(n,s,o);case 31:return i_(n,s,o);case 22:return Wg(n,s,o,s.pendingProps);case 24:return ms(s),u=Et(ft),n===null?(d=qc(),d===null&&(d=Ke,p=Uc(),d.pooledCache=p,p.refCount++,p!==null&&(d.pooledCacheLanes|=o),d=p),s.memoizedState={parent:u,cache:d},Vc(s),Ea(s,ft,d)):((n.lanes&o)!==0&&(Gc(n,s),yi(s,null,null,o),gi()),d=n.memoizedState,p=s.memoizedState,d.parent!==u?(d={parent:u,cache:u},s.memoizedState=d,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=d),Ea(s,ft,u)):(u=p.cache,Ea(s,ft,u),u!==d.cache&&Mc(s,[ft],o,!0))),_t(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function ta(n){n.flags|=4}function Af(n,s,o,u,d){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(d&335544128)===d)if(n.stateNode.complete)n.flags|=8192;else if(Ry())n.flags|=8192;else throw ys=nl,Hc}else n.flags&=-16777217}function iy(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!N0(s))if(Ry())n.flags|=8192;else throw ys=nl,Hc}function vl(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Mm():536870912,n.lanes|=s,br|=s)}function Ti(n,s){if(!Re)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function Qe(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags&65011712,u|=d.flags&65011712,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)o|=d.lanes|d.childLanes,u|=d.subtreeFlags,u|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function l_(n,s,o){var u=s.pendingProps;switch(Cc(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qe(s),null;case 1:return Qe(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Zn(ft),it(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(rr(s)?ta(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Bc())),Qe(s),null;case 26:var d=s.type,p=s.memoizedState;return n===null?(ta(s),p!==null?(Qe(s),iy(s,p)):(Qe(s),Af(s,d,null,u,o))):p?p!==n.memoizedState?(ta(s),Qe(s),iy(s,p)):(Qe(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&ta(s),Qe(s),Af(s,d,n,u,o)),null;case 27:if($o(s),o=xe.current,d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ta(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}n=ue.current,rr(s)?Mp(s):(n=d0(d,u,o),s.stateNode=n,ta(s))}return Qe(s),null;case 5:if($o(s),d=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&ta(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return Qe(s),null}if(p=ue.current,rr(s))Mp(s);else{var S=Cl(xe.current);switch(p){case 1:p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case 2:p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;default:switch(d){case"svg":p=S.createElementNS("http://www.w3.org/2000/svg",d);break;case"math":p=S.createElementNS("http://www.w3.org/1998/Math/MathML",d);break;case"script":p=S.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?S.createElement("select",{is:u.is}):S.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?S.createElement(d,{is:u.is}):S.createElement(d)}}p[wt]=s,p[Lt]=u;e:for(S=s.child;S!==null;){if(S.tag===5||S.tag===6)p.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===s)break e;for(;S.sibling===null;){if(S.return===null||S.return===s)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}s.stateNode=p;e:switch(xt(p,d,u),d){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&ta(s)}}return Qe(s),Af(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&ta(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=xe.current,rr(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,d=Tt,d!==null)switch(d.tag){case 27:case 5:u=d.memoizedProps}n[wt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||n0(n.nodeValue,o)),n||Ta(s,!0)}else n=Cl(n).createTextNode(u),n[wt]=s,s.stateNode=n}return Qe(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=rr(s),o!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[wt]=s}else hs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),n=!1}else o=Bc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(rn(s),s):(rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return Qe(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(d=rr(s),u!==null&&u.dehydrated!==null){if(n===null){if(!d)throw Error(r(318));if(d=s.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[wt]=s}else hs(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Qe(s),d=!1}else d=Bc(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=d),d=!0;if(!d)return s.flags&256?(rn(s),s):(rn(s),null)}return rn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,d=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(d=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==d&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),vl(s,s.updateQueue),Qe(s),null);case 4:return it(),n===null&&Pf(s.stateNode.containerInfo),Qe(s),null;case 10:return Zn(s.type),Qe(s),null;case 19:if(Y(ot),u=s.memoizedState,u===null)return Qe(s),null;if(d=(s.flags&128)!==0,p=u.rendering,p===null)if(d)Ti(u,!1);else{if(rt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(p=il(n),p!==null){for(s.flags|=128,Ti(u,!1),n=p.updateQueue,s.updateQueue=n,vl(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)Cp(o,n),o=o.sibling;return se(ot,ot.current&1|2),Re&&Pn(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&Jt()>El&&(s.flags|=128,d=!0,Ti(u,!1),s.lanes=4194304)}else{if(!d)if(n=il(p),n!==null){if(s.flags|=128,d=!0,n=n.updateQueue,s.updateQueue=n,vl(s,n),Ti(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Re)return Qe(s),null}else 2*Jt()-u.renderingStartTime>El&&o!==536870912&&(s.flags|=128,d=!0,Ti(u,!1),s.lanes=4194304);u.isBackwards?(p.sibling=s.child,s.child=p):(n=u.last,n!==null?n.sibling=p:s.child=p,u.last=p)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=Jt(),n.sibling=null,o=ot.current,se(ot,d?o&1|2:o&1),Re&&Pn(s,u.treeForkCount),n):(Qe(s),null);case 22:case 23:return rn(s),Pc(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(Qe(s),s.subtreeFlags&6&&(s.flags|=8192)):Qe(s),o=s.updateQueue,o!==null&&vl(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&Y(ps),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),Zn(ft),Qe(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function u_(n,s){switch(Cc(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return Zn(ft),it(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return $o(s),null;case 31:if(s.memoizedState!==null){if(rn(s),s.alternate===null)throw Error(r(340));hs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));hs()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Y(ot),null;case 4:return it(),null;case 10:return Zn(s.type),null;case 22:case 23:return rn(s),Pc(),n!==null&&Y(ps),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return Zn(ft),null;case 25:return null;default:return null}}function oy(n,s){switch(Cc(s),s.tag){case 3:Zn(ft),it();break;case 26:case 27:case 5:$o(s);break;case 4:it();break;case 31:s.memoizedState!==null&&rn(s);break;case 13:rn(s);break;case 19:Y(ot);break;case 10:Zn(s.type);break;case 22:case 23:rn(s),Pc(),n!==null&&Y(ps);break;case 24:Zn(ft)}}function Ei(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var d=u.next;o=d;do{if((o.tag&n)===n){u=void 0;var p=o.create,S=o.inst;u=p(),S.destroy=u}o=o.next}while(o!==d)}}catch(T){Ue(s,s.return,T)}}function $a(n,s,o){try{var u=s.updateQueue,d=u!==null?u.lastEffect:null;if(d!==null){var p=d.next;u=p;do{if((u.tag&n)===n){var S=u.inst,T=S.destroy;if(T!==void 0){S.destroy=void 0,d=s;var R=o,U=T;try{U()}catch(X){Ue(d,R,X)}}}u=u.next}while(u!==p)}}catch(X){Ue(s,s.return,X)}}function ly(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{Qp(s,o)}catch(u){Ue(n,n.return,u)}}}function uy(n,s,o){o.props=Ss(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){Ue(n,s,u)}}function _i(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(d){Ue(n,s,d)}}function Bn(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(d){Ue(n,s,d)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(d){Ue(n,s,d)}else o.current=null}function cy(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(d){Ue(n,n.return,d)}}function Of(n,s,o){try{var u=n.stateNode;k_(u,n.type,o,s),u[Lt]=s}catch(d){Ue(n,n.return,d)}}function fy(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&Ia(n.type)||n.tag===4}function Df(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||fy(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&Ia(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function $f(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=Kn));else if(u!==4&&(u===27&&Ia(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for($f(n,s,o),n=n.sibling;n!==null;)$f(n,s,o),n=n.sibling}function Sl(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&Ia(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Sl(n,s,o),n=n.sibling;n!==null;)Sl(n,s,o),n=n.sibling}function hy(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,d=s.attributes;d.length;)s.removeAttributeNode(d[0]);xt(s,u,o),s[wt]=n,s[Lt]=o}catch(p){Ue(n,n.return,p)}}var na=!1,mt=!1,kf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,vt=null;function c_(n,s){if(n=n.containerInfo,Qf=Fl,n=_p(n),Tc(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var d=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var S=0,T=-1,R=-1,U=0,X=0,Z=n,q=null;t:for(;;){for(var K;Z!==o||d!==0&&Z.nodeType!==3||(T=S+d),Z!==p||u!==0&&Z.nodeType!==3||(R=S+u),Z.nodeType===3&&(S+=Z.nodeValue.length),(K=Z.firstChild)!==null;)q=Z,Z=K;for(;;){if(Z===n)break t;if(q===o&&++U===d&&(T=S),q===p&&++X===u&&(R=S),(K=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=K}o=T===-1||R===-1?null:{start:T,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(Jf={focusedElem:n,selectionRange:o},Fl=!1,vt=s;vt!==null;)if(s=vt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,vt=n;else for(;vt!==null;){switch(s=vt,p=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)d=n[o],d.ref.impl=d.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=s,d=p.memoizedProps,p=p.memoizedState,u=o.stateNode;try{var fe=Ss(o.type,d);n=u.getSnapshotBeforeUpdate(fe,p),u.__reactInternalSnapshotBeforeUpdate=n}catch(ye){Ue(o,o.return,ye)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)nh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":nh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,vt=n;break}vt=s.return}}function my(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:sa(n,o),u&4&&Ei(5,o);break;case 1:if(sa(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(S){Ue(o,o.return,S)}else{var d=Ss(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(d,s,n.__reactInternalSnapshotBeforeUpdate)}catch(S){Ue(o,o.return,S)}}u&64&&ly(o),u&512&&_i(o,o.return);break;case 3:if(sa(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{Qp(n,s)}catch(S){Ue(o,o.return,S)}}break;case 27:s===null&&u&4&&hy(o);case 26:case 5:sa(n,o),s===null&&u&4&&cy(o),u&512&&_i(o,o.return);break;case 12:sa(n,o);break;case 31:sa(n,o),u&4&&yy(n,o);break;case 13:sa(n,o),u&4&&by(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=v_.bind(null,o),M_(n,o))));break;case 22:if(u=o.memoizedState!==null||na,!u){s=s!==null&&s.memoizedState!==null||mt,d=na;var p=mt;na=u,(mt=s)&&!p?ra(n,o,(o.subtreeFlags&8772)!==0):sa(n,o),na=d,mt=p}break;case 30:break;default:sa(n,o)}}function py(n){var s=n.alternate;s!==null&&(n.alternate=null,py(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&ic(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Je=null,Ut=!1;function aa(n,s,o){for(o=o.child;o!==null;)gy(n,s,o),o=o.sibling}function gy(n,s,o){if(en&&typeof en.onCommitFiberUnmount=="function")try{en.onCommitFiberUnmount(Pr,o)}catch{}switch(o.tag){case 26:mt||Bn(o,s),aa(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:mt||Bn(o,s);var u=Je,d=Ut;Ia(o.type)&&(Je=o.stateNode,Ut=!1),aa(n,s,o),Ci(o.stateNode),Je=u,Ut=d;break;case 5:mt||Bn(o,s);case 6:if(u=Je,d=Ut,Je=null,aa(n,s,o),Je=u,Ut=d,Je!==null)if(Ut)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(o.stateNode)}catch(p){Ue(o,s,p)}else try{Je.removeChild(o.stateNode)}catch(p){Ue(o,s,p)}break;case 18:Je!==null&&(Ut?(n=Je,l0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),xr(n)):l0(Je,o.stateNode));break;case 4:u=Je,d=Ut,Je=o.stateNode.containerInfo,Ut=!0,aa(n,s,o),Je=u,Ut=d;break;case 0:case 11:case 14:case 15:$a(2,o,s),mt||$a(4,o,s),aa(n,s,o);break;case 1:mt||(Bn(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&uy(o,s,u)),aa(n,s,o);break;case 21:aa(n,s,o);break;case 22:mt=(u=mt)||o.memoizedState!==null,aa(n,s,o),mt=u;break;default:aa(n,s,o)}}function yy(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{xr(n)}catch(o){Ue(s,s.return,o)}}}function by(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{xr(n)}catch(o){Ue(s,s.return,o)}}function f_(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new dy),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new dy),s;default:throw Error(r(435,n.tag))}}function Nl(n,s){var o=f_(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var d=S_.bind(null,n,u);u.then(d,d)}})}function Ft(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var d=o[u],p=n,S=s,T=S;e:for(;T!==null;){switch(T.tag){case 27:if(Ia(T.type)){Je=T.stateNode,Ut=!1;break e}break;case 5:Je=T.stateNode,Ut=!1;break e;case 3:case 4:Je=T.stateNode.containerInfo,Ut=!0;break e}T=T.return}if(Je===null)throw Error(r(160));gy(p,S,d),Je=null,Ut=!1,p=d.alternate,p!==null&&(p.return=null),d.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)vy(s,n),s=s.sibling}var _n=null;function vy(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:Ft(s,n),qt(n),u&4&&($a(3,n,n.return),Ei(3,n),$a(5,n,n.return));break;case 1:Ft(s,n),qt(n),u&512&&(mt||o===null||Bn(o,o.return)),u&64&&na&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var d=_n;if(Ft(s,n),qt(n),u&512&&(mt||o===null||Bn(o,o.return)),u&4){var p=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,d=d.ownerDocument||d;t:switch(u){case"title":p=d.getElementsByTagName("title")[0],(!p||p[Qr]||p[wt]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=d.createElement(u),d.head.insertBefore(p,d.querySelector("head > title"))),xt(p,u,o),p[wt]=n,bt(p),u=p;break e;case"link":var S=v0("link","href",d).get(u+(o.href||""));if(S){for(var T=0;T<S.length;T++)if(p=S[T],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){S.splice(T,1);break t}}p=d.createElement(u),xt(p,u,o),d.head.appendChild(p);break;case"meta":if(S=v0("meta","content",d).get(u+(o.content||""))){for(T=0;T<S.length;T++)if(p=S[T],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){S.splice(T,1);break t}}p=d.createElement(u),xt(p,u,o),d.head.appendChild(p);break;default:throw Error(r(468,u))}p[wt]=n,bt(p),u=p}n.stateNode=u}else S0(d,n.type,n.stateNode);else n.stateNode=b0(d,u,n.memoizedProps);else p!==u?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,u===null?S0(d,n.type,n.stateNode):b0(d,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Of(n,n.memoizedProps,o.memoizedProps)}break;case 27:Ft(s,n),qt(n),u&512&&(mt||o===null||Bn(o,o.return)),o!==null&&u&4&&Of(n,n.memoizedProps,o.memoizedProps);break;case 5:if(Ft(s,n),qt(n),u&512&&(mt||o===null||Bn(o,o.return)),n.flags&32){d=n.stateNode;try{Ps(d,"")}catch(fe){Ue(n,n.return,fe)}}u&4&&n.stateNode!=null&&(d=n.memoizedProps,Of(n,d,o!==null?o.memoizedProps:d)),u&1024&&(kf=!0);break;case 6:if(Ft(s,n),qt(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(fe){Ue(n,n.return,fe)}}break;case 3:if(Il=null,d=_n,_n=jl(s.containerInfo),Ft(s,n),_n=d,qt(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{xr(s.containerInfo)}catch(fe){Ue(n,n.return,fe)}kf&&(kf=!1,Sy(n));break;case 4:u=_n,_n=jl(n.stateNode.containerInfo),Ft(s,n),qt(n),_n=u;break;case 12:Ft(s,n),qt(n);break;case 31:Ft(s,n),qt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nl(n,u)));break;case 13:Ft(s,n),qt(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Tl=Jt()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nl(n,u)));break;case 22:d=n.memoizedState!==null;var R=o!==null&&o.memoizedState!==null,U=na,X=mt;if(na=U||d,mt=X||R,Ft(s,n),mt=X,na=U,qt(n),u&8192)e:for(s=n.stateNode,s._visibility=d?s._visibility&-2:s._visibility|1,d&&(o===null||R||na||mt||Ns(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){R=o=s;try{if(p=R.stateNode,d)S=p.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{T=R.stateNode;var Z=R.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(fe){Ue(R,R.return,fe)}}}else if(s.tag===6){if(o===null){R=s;try{R.stateNode.nodeValue=d?"":R.memoizedProps}catch(fe){Ue(R,R.return,fe)}}}else if(s.tag===18){if(o===null){R=s;try{var K=R.stateNode;d?u0(K,!0):u0(R.stateNode,!1)}catch(fe){Ue(R,R.return,fe)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,Nl(n,o))));break;case 19:Ft(s,n),qt(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,Nl(n,u)));break;case 30:break;case 21:break;default:Ft(s,n),qt(n)}}function qt(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(fy(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var d=o.stateNode,p=Df(n);Sl(n,p,d);break;case 5:var S=o.stateNode;o.flags&32&&(Ps(S,""),o.flags&=-33);var T=Df(n);Sl(n,T,S);break;case 3:case 4:var R=o.stateNode.containerInfo,U=Df(n);$f(n,U,R);break;default:throw Error(r(161))}}catch(X){Ue(n,n.return,X)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function Sy(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;Sy(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function sa(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)my(n,s.alternate,s),s=s.sibling}function Ns(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:$a(4,s,s.return),Ns(s);break;case 1:Bn(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&uy(s,s.return,o),Ns(s);break;case 27:Ci(s.stateNode);case 26:case 5:Bn(s,s.return),Ns(s);break;case 22:s.memoizedState===null&&Ns(s);break;case 30:Ns(s);break;default:Ns(s)}n=n.sibling}}function ra(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,d=n,p=s,S=p.flags;switch(p.tag){case 0:case 11:case 15:ra(d,p,o),Ei(4,p);break;case 1:if(ra(d,p,o),u=p,d=u.stateNode,typeof d.componentDidMount=="function")try{d.componentDidMount()}catch(U){Ue(u,u.return,U)}if(u=p,d=u.updateQueue,d!==null){var T=u.stateNode;try{var R=d.shared.hiddenCallbacks;if(R!==null)for(d.shared.hiddenCallbacks=null,d=0;d<R.length;d++)Zp(R[d],T)}catch(U){Ue(u,u.return,U)}}o&&S&64&&ly(p),_i(p,p.return);break;case 27:hy(p);case 26:case 5:ra(d,p,o),o&&u===null&&S&4&&cy(p),_i(p,p.return);break;case 12:ra(d,p,o);break;case 31:ra(d,p,o),o&&S&4&&yy(d,p);break;case 13:ra(d,p,o),o&&S&4&&by(d,p);break;case 22:p.memoizedState===null&&ra(d,p,o),_i(p,p.return);break;case 30:break;default:ra(d,p,o)}s=s.sibling}}function Rf(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&fi(o))}function zf(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&fi(n))}function xn(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ny(n,s,o,u),s=s.sibling}function Ny(n,s,o,u){var d=s.flags;switch(s.tag){case 0:case 11:case 15:xn(n,s,o,u),d&2048&&Ei(9,s);break;case 1:xn(n,s,o,u);break;case 3:xn(n,s,o,u),d&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&fi(n)));break;case 12:if(d&2048){xn(n,s,o,u),n=s.stateNode;try{var p=s.memoizedProps,S=p.id,T=p.onPostCommit;typeof T=="function"&&T(S,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(R){Ue(s,s.return,R)}}else xn(n,s,o,u);break;case 31:xn(n,s,o,u);break;case 13:xn(n,s,o,u);break;case 23:break;case 22:p=s.stateNode,S=s.alternate,s.memoizedState!==null?p._visibility&2?xn(n,s,o,u):xi(n,s):p._visibility&2?xn(n,s,o,u):(p._visibility|=2,pr(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),d&2048&&Rf(S,s);break;case 24:xn(n,s,o,u),d&2048&&zf(s.alternate,s);break;default:xn(n,s,o,u)}}function pr(n,s,o,u,d){for(d=d&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var p=n,S=s,T=o,R=u,U=S.flags;switch(S.tag){case 0:case 11:case 15:pr(p,S,T,R,d),Ei(8,S);break;case 23:break;case 22:var X=S.stateNode;S.memoizedState!==null?X._visibility&2?pr(p,S,T,R,d):xi(p,S):(X._visibility|=2,pr(p,S,T,R,d)),d&&U&2048&&Rf(S.alternate,S);break;case 24:pr(p,S,T,R,d),d&&U&2048&&zf(S.alternate,S);break;default:pr(p,S,T,R,d)}s=s.sibling}}function xi(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,d=u.flags;switch(u.tag){case 22:xi(o,u),d&2048&&Rf(u.alternate,u);break;case 24:xi(o,u),d&2048&&zf(u.alternate,u);break;default:xi(o,u)}s=s.sibling}}var Ai=8192;function gr(n,s,o){if(n.subtreeFlags&Ai)for(n=n.child;n!==null;)wy(n,s,o),n=n.sibling}function wy(n,s,o){switch(n.tag){case 26:gr(n,s,o),n.flags&Ai&&n.memoizedState!==null&&Z_(o,_n,n.memoizedState,n.memoizedProps);break;case 5:gr(n,s,o);break;case 3:case 4:var u=_n;_n=jl(n.stateNode.containerInfo),gr(n,s,o),_n=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Ai,Ai=16777216,gr(n,s,o),Ai=u):gr(n,s,o));break;default:gr(n,s,o)}}function Ty(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Oi(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];vt=u,_y(u,n)}Ty(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ey(n),n=n.sibling}function Ey(n){switch(n.tag){case 0:case 11:case 15:Oi(n),n.flags&2048&&$a(9,n,n.return);break;case 3:Oi(n);break;case 12:Oi(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,wl(n)):Oi(n);break;default:Oi(n)}}function wl(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];vt=u,_y(u,n)}Ty(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:$a(8,s,s.return),wl(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,wl(s));break;default:wl(s)}n=n.sibling}}function _y(n,s){for(;vt!==null;){var o=vt;switch(o.tag){case 0:case 11:case 15:$a(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:fi(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,vt=u;else e:for(o=n;vt!==null;){u=vt;var d=u.sibling,p=u.return;if(py(u),u===o){vt=null;break e}if(d!==null){d.return=p,vt=d;break e}vt=p}}}var h_={getCacheForType:function(n){var s=Et(ft),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Et(ft).controller.signal}},d_=typeof WeakMap=="function"?WeakMap:Map,je=0,Ke=null,Ae=null,De=0,Me=0,on=null,ka=!1,yr=!1,Cf=!1,ia=0,rt=0,Ra=0,ws=0,jf=0,ln=0,br=0,Di=null,Ht=null,Bf=!1,Tl=0,xy=0,El=1/0,_l=null,za=null,pt=0,Ca=null,vr=null,oa=0,If=0,Lf=null,Ay=null,$i=0,Mf=null;function un(){return(je&2)!==0&&De!==0?De&-De:L.T!==null?Gf():Hm()}function Oy(){if(ln===0)if((De&536870912)===0||Re){var n=zo;zo<<=1,(zo&3932160)===0&&(zo=262144),ln=n}else ln=536870912;return n=sn.current,n!==null&&(n.flags|=32),ln}function Vt(n,s,o){(n===Ke&&(Me===2||Me===9)||n.cancelPendingCommit!==null)&&(Sr(n,0),ja(n,De,ln,!1)),Zr(n,o),((je&2)===0||n!==Ke)&&(n===Ke&&((je&2)===0&&(ws|=o),rt===4&&ja(n,De,ln,!1)),In(n))}function Dy(n,s,o){if((je&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||Wr(n,s),d=u?g_(n,s):Ff(n,s,!0),p=u;do{if(d===0){yr&&!u&&ja(n,s,0,!1);break}else{if(o=n.current.alternate,p&&!m_(o)){d=Ff(n,s,!1),p=!1;continue}if(d===2){if(p=s,n.errorRecoveryDisabledLanes&p)var S=0;else S=n.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){s=S;e:{var T=n;d=Di;var R=T.current.memoizedState.isDehydrated;if(R&&(Sr(T,S).flags|=256),S=Ff(T,S,!1),S!==2){if(Cf&&!R){T.errorRecoveryDisabledLanes|=p,ws|=p,d=4;break e}p=Ht,Ht=d,p!==null&&(Ht===null?Ht=p:Ht.push.apply(Ht,p))}d=S}if(p=!1,d!==2)continue}}if(d===1){Sr(n,0),ja(n,s,0,!0);break}e:{switch(u=n,p=d,p){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ja(u,s,ln,!ka);break e;case 2:Ht=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(d=Tl+300-Jt(),10<d)){if(ja(u,s,ln,!ka),jo(u,0,!0)!==0)break e;oa=s,u.timeoutHandle=i0($y.bind(null,u,o,Ht,_l,Bf,s,ln,ws,br,ka,p,"Throttled",-0,0),d);break e}$y(u,o,Ht,_l,Bf,s,ln,ws,br,ka,p,null,-0,0)}}break}while(!0);In(n)}function $y(n,s,o,u,d,p,S,T,R,U,X,Z,q,K){if(n.timeoutHandle=-1,Z=s.subtreeFlags,Z&8192||(Z&16785408)===16785408){Z={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Kn},wy(s,p,Z);var fe=(p&62914560)===p?Tl-Jt():(p&4194048)===p?xy-Jt():0;if(fe=Q_(Z,fe),fe!==null){oa=p,n.cancelPendingCommit=fe(Ly.bind(null,n,s,p,o,u,d,S,T,R,X,Z,null,q,K)),ja(n,p,S,!U);return}}Ly(n,s,p,o,u,d,S,T,R)}function m_(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var d=o[u],p=d.getSnapshot;d=d.value;try{if(!nn(p(),d))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ja(n,s,o,u){s&=~jf,s&=~ws,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var d=s;0<d;){var p=31-tn(d),S=1<<p;u[p]=-1,d&=~S}o!==0&&Um(n,o,s)}function xl(){return(je&6)===0?(ki(0),!1):!0}function Uf(){if(Ae!==null){if(Me===0)var n=Ae.return;else n=Ae,Wn=ds=null,tf(n),cr=null,di=0,n=Ae;for(;n!==null;)oy(n.alternate,n),n=n.return;Ae=null}}function Sr(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,C_(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),oa=0,Uf(),Ke=n,Ae=o=Xn(n.current,null),De=s,Me=0,on=null,ka=!1,yr=Wr(n,s),Cf=!1,br=ln=jf=ws=Ra=rt=0,Ht=Di=null,Bf=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var d=31-tn(u),p=1<<d;s|=n[d],u&=~p}return ia=s,Yo(),o}function ky(n,s){we=null,L.H=Ni,s===ur||s===tl?(s=Yp(),Me=3):s===Hc?(s=Yp(),Me=4):Me=s===bf?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,on=s,Ae===null&&(rt=1,pl(n,mn(s,n.current)))}function Ry(){var n=sn.current;return n===null?!0:(De&4194048)===De?bn===null:(De&62914560)===De||(De&536870912)!==0?n===bn:!1}function zy(){var n=L.H;return L.H=Ni,n===null?Ni:n}function Cy(){var n=L.A;return L.A=h_,n}function Al(){rt=4,ka||(De&4194048)!==De&&sn.current!==null||(yr=!0),(Ra&134217727)===0&&(ws&134217727)===0||Ke===null||ja(Ke,De,ln,!1)}function Ff(n,s,o){var u=je;je|=2;var d=zy(),p=Cy();(Ke!==n||De!==s)&&(_l=null,Sr(n,s)),s=!1;var S=rt;e:do try{if(Me!==0&&Ae!==null){var T=Ae,R=on;switch(Me){case 8:Uf(),S=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(s=!0);var U=Me;if(Me=0,on=null,Nr(n,T,R,U),o&&yr){S=0;break e}break;default:U=Me,Me=0,on=null,Nr(n,T,R,U)}}p_(),S=rt;break}catch(X){ky(n,X)}while(!0);return s&&n.shellSuspendCounter++,Wn=ds=null,je=u,L.H=d,L.A=p,Ae===null&&(Ke=null,De=0,Yo()),S}function p_(){for(;Ae!==null;)jy(Ae)}function g_(n,s){var o=je;je|=2;var u=zy(),d=Cy();Ke!==n||De!==s?(_l=null,El=Jt()+500,Sr(n,s)):yr=Wr(n,s);e:do try{if(Me!==0&&Ae!==null){s=Ae;var p=on;t:switch(Me){case 1:Me=0,on=null,Nr(n,s,p,1);break;case 2:case 9:if(Gp(p)){Me=0,on=null,By(s);break}s=function(){Me!==2&&Me!==9||Ke!==n||(Me=7),In(n)},p.then(s,s);break e;case 3:Me=7;break e;case 4:Me=5;break e;case 7:Gp(p)?(Me=0,on=null,By(s)):(Me=0,on=null,Nr(n,s,p,7));break;case 5:var S=null;switch(Ae.tag){case 26:S=Ae.memoizedState;case 5:case 27:var T=Ae;if(S?N0(S):T.stateNode.complete){Me=0,on=null;var R=T.sibling;if(R!==null)Ae=R;else{var U=T.return;U!==null?(Ae=U,Ol(U)):Ae=null}break t}}Me=0,on=null,Nr(n,s,p,5);break;case 6:Me=0,on=null,Nr(n,s,p,6);break;case 8:Uf(),rt=6;break e;default:throw Error(r(462))}}y_();break}catch(X){ky(n,X)}while(!0);return Wn=ds=null,L.H=u,L.A=d,je=o,Ae!==null?0:(Ke=null,De=0,Yo(),rt)}function y_(){for(;Ae!==null&&!UT();)jy(Ae)}function jy(n){var s=ry(n.alternate,n,ia);n.memoizedProps=n.pendingProps,s===null?Ol(n):Ae=s}function By(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=Jg(o,s,s.pendingProps,s.type,void 0,De);break;case 11:s=Jg(o,s,s.pendingProps,s.type.render,s.ref,De);break;case 5:tf(s);default:oy(o,s),s=Ae=Cp(s,ia),s=ry(o,s,ia)}n.memoizedProps=n.pendingProps,s===null?Ol(n):Ae=s}function Nr(n,s,o,u){Wn=ds=null,tf(s),cr=null,di=0;var d=s.return;try{if(r_(n,d,s,o,De)){rt=1,pl(n,mn(o,n.current)),Ae=null;return}}catch(p){if(d!==null)throw Ae=d,p;rt=1,pl(n,mn(o,n.current)),Ae=null;return}s.flags&32768?(Re||u===1?n=!0:yr||(De&536870912)!==0?n=!1:(ka=n=!0,(u===2||u===9||u===3||u===6)&&(u=sn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Iy(s,n)):Ol(s)}function Ol(n){var s=n;do{if((s.flags&32768)!==0){Iy(s,ka);return}n=s.return;var o=l_(s.alternate,s,ia);if(o!==null){Ae=o;return}if(s=s.sibling,s!==null){Ae=s;return}Ae=s=n}while(s!==null);rt===0&&(rt=5)}function Iy(n,s){do{var o=u_(n.alternate,n);if(o!==null){o.flags&=32767,Ae=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){Ae=n;return}Ae=n=o}while(n!==null);rt=6,Ae=null}function Ly(n,s,o,u,d,p,S,T,R){n.cancelPendingCommit=null;do Dl();while(pt!==0);if((je&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(p=s.lanes|s.childLanes,p|=Oc,WT(n,o,p,S,T,R),n===Ke&&(Ae=Ke=null,De=0),vr=s,Ca=n,oa=o,If=p,Lf=d,Ay=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,N_(ko,function(){return Hy(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,d=ae.p,ae.p=2,S=je,je|=4;try{c_(n,s,o)}finally{je=S,ae.p=d,L.T=u}}pt=1,My(),Uy(),Fy()}}function My(){if(pt===1){pt=0;var n=Ca,s=vr,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=ae.p;ae.p=2;var d=je;je|=4;try{vy(s,n);var p=Jf,S=_p(n.containerInfo),T=p.focusedElem,R=p.selectionRange;if(S!==T&&T&&T.ownerDocument&&Ep(T.ownerDocument.documentElement,T)){if(R!==null&&Tc(T)){var U=R.start,X=R.end;if(X===void 0&&(X=U),"selectionStart"in T)T.selectionStart=U,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var K=q.getSelection(),fe=T.textContent.length,ye=Math.min(R.start,fe),Ve=R.end===void 0?ye:Math.min(R.end,fe);!K.extend&&ye>Ve&&(S=Ve,Ve=ye,ye=S);var B=Tp(T,ye),j=Tp(T,Ve);if(B&&j&&(K.rangeCount!==1||K.anchorNode!==B.node||K.anchorOffset!==B.offset||K.focusNode!==j.node||K.focusOffset!==j.offset)){var M=Z.createRange();M.setStart(B.node,B.offset),K.removeAllRanges(),ye>Ve?(K.addRange(M),K.extend(j.node,j.offset)):(M.setEnd(j.node,j.offset),K.addRange(M))}}}}for(Z=[],K=T;K=K.parentNode;)K.nodeType===1&&Z.push({element:K,left:K.scrollLeft,top:K.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var P=Z[T];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}Fl=!!Qf,Jf=Qf=null}finally{je=d,ae.p=u,L.T=o}}n.current=s,pt=2}}function Uy(){if(pt===2){pt=0;var n=Ca,s=vr,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=ae.p;ae.p=2;var d=je;je|=4;try{my(n,s.alternate,s)}finally{je=d,ae.p=u,L.T=o}}pt=3}}function Fy(){if(pt===4||pt===3){pt=0,FT();var n=Ca,s=vr,o=oa,u=Ay;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?pt=5:(pt=0,vr=Ca=null,qy(n,n.pendingLanes));var d=n.pendingLanes;if(d===0&&(za=null),sc(o),s=s.stateNode,en&&typeof en.onCommitFiberRoot=="function")try{en.onCommitFiberRoot(Pr,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,d=ae.p,ae.p=2,L.T=null;try{for(var p=n.onRecoverableError,S=0;S<u.length;S++){var T=u[S];p(T.value,{componentStack:T.stack})}}finally{L.T=s,ae.p=d}}(oa&3)!==0&&Dl(),In(n),d=n.pendingLanes,(o&261930)!==0&&(d&42)!==0?n===Mf?$i++:($i=0,Mf=n):$i=0,ki(0)}}function qy(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,fi(s)))}function Dl(){return My(),Uy(),Fy(),Hy()}function Hy(){if(pt!==5)return!1;var n=Ca,s=If;If=0;var o=sc(oa),u=L.T,d=ae.p;try{ae.p=32>o?32:o,L.T=null,o=Lf,Lf=null;var p=Ca,S=oa;if(pt=0,vr=Ca=null,oa=0,(je&6)!==0)throw Error(r(331));var T=je;if(je|=4,Ey(p.current),Ny(p,p.current,S,o),je=T,ki(0,!1),en&&typeof en.onPostCommitFiberRoot=="function")try{en.onPostCommitFiberRoot(Pr,p)}catch{}return!0}finally{ae.p=d,L.T=u,qy(n,s)}}function Vy(n,s,o){s=mn(o,s),s=yf(n.stateNode,s,2),n=Aa(n,s,2),n!==null&&(Zr(n,2),In(n))}function Ue(n,s,o){if(n.tag===3)Vy(n,n,o);else for(;s!==null;){if(s.tag===3){Vy(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(za===null||!za.has(u))){n=mn(o,n),o=Gg(2),u=Aa(s,o,2),u!==null&&(Kg(o,u,s,n),Zr(u,2),In(u));break}}s=s.return}}function qf(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new d_;var d=new Set;u.set(s,d)}else d=u.get(s),d===void 0&&(d=new Set,u.set(s,d));d.has(o)||(Cf=!0,d.add(o),n=b_.bind(null,n,s,o),s.then(n,n))}function b_(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Ke===n&&(De&o)===o&&(rt===4||rt===3&&(De&62914560)===De&&300>Jt()-Tl?(je&2)===0&&Sr(n,0):jf|=o,br===De&&(br=0)),In(n)}function Gy(n,s){s===0&&(s=Mm()),n=cs(n,s),n!==null&&(Zr(n,s),In(n))}function v_(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),Gy(n,o)}function S_(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,d=n.memoizedState;d!==null&&(o=d.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),Gy(n,o)}function N_(n,s){return ec(n,s)}var $l=null,wr=null,Hf=!1,kl=!1,Vf=!1,Ba=0;function In(n){n!==wr&&n.next===null&&(wr===null?$l=wr=n:wr=wr.next=n),kl=!0,Hf||(Hf=!0,T_())}function ki(n,s){if(!Vf&&kl){Vf=!0;do for(var o=!1,u=$l;u!==null;){if(n!==0){var d=u.pendingLanes;if(d===0)var p=0;else{var S=u.suspendedLanes,T=u.pingedLanes;p=(1<<31-tn(42|n)+1)-1,p&=d&~(S&~T),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,Py(u,p))}else p=De,p=jo(u,u===Ke?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||Wr(u,p)||(o=!0,Py(u,p));u=u.next}while(o);Vf=!1}}function w_(){Ky()}function Ky(){kl=Hf=!1;var n=0;Ba!==0&&z_()&&(n=Ba);for(var s=Jt(),o=null,u=$l;u!==null;){var d=u.next,p=Yy(u,s);p===0?(u.next=null,o===null?$l=d:o.next=d,d===null&&(wr=o)):(o=u,(n!==0||(p&3)!==0)&&(kl=!0)),u=d}pt!==0&&pt!==5||ki(n),Ba!==0&&(Ba=0)}function Yy(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,d=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var S=31-tn(p),T=1<<S,R=d[S];R===-1?((T&o)===0||(T&u)!==0)&&(d[S]=PT(T,s)):R<=s&&(n.expiredLanes|=T),p&=~T}if(s=Ke,o=De,o=jo(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(Me===2||Me===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&tc(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Wr(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&tc(u),sc(o)){case 2:case 8:o=Im;break;case 32:o=ko;break;case 268435456:o=Lm;break;default:o=ko}return u=Xy.bind(null,n),o=ec(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&tc(u),n.callbackPriority=2,n.callbackNode=null,2}function Xy(n,s){if(pt!==0&&pt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Dl()&&n.callbackNode!==o)return null;var u=De;return u=jo(n,n===Ke?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(Dy(n,u,s),Yy(n,Jt()),n.callbackNode!=null&&n.callbackNode===o?Xy.bind(null,n):null)}function Py(n,s){if(Dl())return null;Dy(n,s,!0)}function T_(){j_(function(){(je&6)!==0?ec(Bm,w_):Ky()})}function Gf(){if(Ba===0){var n=or;n===0&&(n=Ro,Ro<<=1,(Ro&261888)===0&&(Ro=256)),Ba=n}return Ba}function Wy(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Mo(""+n)}function Zy(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function E_(n,s,o,u,d){if(s==="submit"&&o&&o.stateNode===d){var p=Wy((d[Lt]||null).action),S=u.submitter;S&&(s=(s=S[Lt]||null)?Wy(s.formAction):S.getAttribute("formAction"),s!==null&&(p=s,S=null));var T=new Ho("action","action",null,u,d);n.push({event:T,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Ba!==0){var R=S?Zy(d,S):new FormData(d);ff(o,{pending:!0,data:R,method:d.method,action:p},null,R)}}else typeof p=="function"&&(T.preventDefault(),R=S?Zy(d,S):new FormData(d),ff(o,{pending:!0,data:R,method:d.method,action:p},p,R))},currentTarget:d}]})}}for(var Kf=0;Kf<Ac.length;Kf++){var Yf=Ac[Kf],__=Yf.toLowerCase(),x_=Yf[0].toUpperCase()+Yf.slice(1);En(__,"on"+x_)}En(Op,"onAnimationEnd"),En(Dp,"onAnimationIteration"),En($p,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(qE,"onTransitionRun"),En(HE,"onTransitionStart"),En(VE,"onTransitionCancel"),En(kp,"onTransitionEnd"),Ys("onMouseEnter",["mouseout","mouseover"]),Ys("onMouseLeave",["mouseout","mouseover"]),Ys("onPointerEnter",["pointerout","pointerover"]),Ys("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A_=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ri));function Qy(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],d=u.event;u=u.listeners;e:{var p=void 0;if(s)for(var S=u.length-1;0<=S;S--){var T=u[S],R=T.instance,U=T.currentTarget;if(T=T.listener,R!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=U;try{p(d)}catch(X){Ko(X)}d.currentTarget=null,p=R}else for(S=0;S<u.length;S++){if(T=u[S],R=T.instance,U=T.currentTarget,T=T.listener,R!==p&&d.isPropagationStopped())break e;p=T,d.currentTarget=U;try{p(d)}catch(X){Ko(X)}d.currentTarget=null,p=R}}}}function Oe(n,s){var o=s[rc];o===void 0&&(o=s[rc]=new Set);var u=n+"__bubble";o.has(u)||(Jy(s,n,2,!1),o.add(u))}function Xf(n,s,o){var u=0;s&&(u|=4),Jy(o,n,u,s)}var Rl="_reactListening"+Math.random().toString(36).slice(2);function Pf(n){if(!n[Rl]){n[Rl]=!0,Km.forEach(function(o){o!=="selectionchange"&&(A_.has(o)||Xf(o,!1,n),Xf(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Rl]||(s[Rl]=!0,Xf("selectionchange",!1,s))}}function Jy(n,s,o,u){switch(O0(s)){case 2:var d=tx;break;case 8:d=nx;break;default:d=ch}o=d.bind(null,s,o,n),d=void 0,!mc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),u?d!==void 0?n.addEventListener(s,o,{capture:!0,passive:d}):n.addEventListener(s,o,!0):d!==void 0?n.addEventListener(s,o,{passive:d}):n.addEventListener(s,o,!1)}function Wf(n,s,o,u,d){var p=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var S=u.tag;if(S===3||S===4){var T=u.stateNode.containerInfo;if(T===d)break;if(S===4)for(S=u.return;S!==null;){var R=S.tag;if((R===3||R===4)&&S.stateNode.containerInfo===d)return;S=S.return}for(;T!==null;){if(S=Vs(T),S===null)return;if(R=S.tag,R===5||R===6||R===26||R===27){u=p=S;continue e}T=T.parentNode}}u=u.return}sp(function(){var U=p,X=hc(o),Z=[];e:{var q=Rp.get(n);if(q!==void 0){var K=Ho,fe=n;switch(n){case"keypress":if(Fo(o)===0)break e;case"keydown":case"keyup":K=SE;break;case"focusin":fe="focus",K=bc;break;case"focusout":fe="blur",K=bc;break;case"beforeblur":case"afterblur":K=bc;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":K=op;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":K=lE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":K=TE;break;case Op:case Dp:case $p:K=fE;break;case kp:K=_E;break;case"scroll":case"scrollend":K=iE;break;case"wheel":K=AE;break;case"copy":case"cut":case"paste":K=dE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":K=up;break;case"toggle":case"beforetoggle":K=DE}var ye=(s&4)!==0,Ve=!ye&&(n==="scroll"||n==="scrollend"),B=ye?q!==null?q+"Capture":null:q;ye=[];for(var j=U,M;j!==null;){var P=j;if(M=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||M===null||B===null||(P=ei(j,B),P!=null&&ye.push(zi(j,P,M))),Ve)break;j=j.return}0<ye.length&&(q=new K(q,fe,null,o,X),Z.push({event:q,listeners:ye}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",K=n==="mouseout"||n==="pointerout",q&&o!==fc&&(fe=o.relatedTarget||o.fromElement)&&(Vs(fe)||fe[Hs]))break e;if((K||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,K?(fe=o.relatedTarget||o.toElement,K=U,fe=fe?Vs(fe):null,fe!==null&&(Ve=l(fe),ye=fe.tag,fe!==Ve||ye!==5&&ye!==27&&ye!==6)&&(fe=null)):(K=null,fe=U),K!==fe)){if(ye=op,P="onMouseLeave",B="onMouseEnter",j="mouse",(n==="pointerout"||n==="pointerover")&&(ye=up,P="onPointerLeave",B="onPointerEnter",j="pointer"),Ve=K==null?q:Jr(K),M=fe==null?q:Jr(fe),q=new ye(P,j+"leave",K,o,X),q.target=Ve,q.relatedTarget=M,P=null,Vs(X)===U&&(ye=new ye(B,j+"enter",fe,o,X),ye.target=M,ye.relatedTarget=Ve,P=ye),Ve=P,K&&fe)t:{for(ye=O_,B=K,j=fe,M=0,P=B;P;P=ye(P))M++;P=0;for(var pe=j;pe;pe=ye(pe))P++;for(;0<M-P;)B=ye(B),M--;for(;0<P-M;)j=ye(j),P--;for(;M--;){if(B===j||j!==null&&B===j.alternate){ye=B;break t}B=ye(B),j=ye(j)}ye=null}else ye=null;K!==null&&e0(Z,q,K,ye,!1),fe!==null&&Ve!==null&&e0(Z,Ve,fe,ye,!0)}}e:{if(q=U?Jr(U):window,K=q.nodeName&&q.nodeName.toLowerCase(),K==="select"||K==="input"&&q.type==="file")var ze=yp;else if(pp(q))if(bp)ze=ME;else{ze=IE;var he=BE}else K=q.nodeName,!K||K.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?U&&cc(U.elementType)&&(ze=yp):ze=LE;if(ze&&(ze=ze(n,U))){gp(Z,ze,o,X);break e}he&&he(n,q,U),n==="focusout"&&U&&q.type==="number"&&U.memoizedProps.value!=null&&uc(q,"number",q.value)}switch(he=U?Jr(U):window,n){case"focusin":(pp(he)||he.contentEditable==="true")&&(Js=he,Ec=U,li=null);break;case"focusout":li=Ec=Js=null;break;case"mousedown":_c=!0;break;case"contextmenu":case"mouseup":case"dragend":_c=!1,xp(Z,o,X);break;case"selectionchange":if(FE)break;case"keydown":case"keyup":xp(Z,o,X)}var Ee;if(Sc)e:{switch(n){case"compositionstart":var $e="onCompositionStart";break e;case"compositionend":$e="onCompositionEnd";break e;case"compositionupdate":$e="onCompositionUpdate";break e}$e=void 0}else Qs?dp(n,o)&&($e="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&($e="onCompositionStart");$e&&(cp&&o.locale!=="ko"&&(Qs||$e!=="onCompositionStart"?$e==="onCompositionEnd"&&Qs&&(Ee=rp()):(Sa=X,pc="value"in Sa?Sa.value:Sa.textContent,Qs=!0)),he=zl(U,$e),0<he.length&&($e=new lp($e,n,null,o,X),Z.push({event:$e,listeners:he}),Ee?$e.data=Ee:(Ee=mp(o),Ee!==null&&($e.data=Ee)))),(Ee=kE?RE(n,o):zE(n,o))&&($e=zl(U,"onBeforeInput"),0<$e.length&&(he=new lp("onBeforeInput","beforeinput",null,o,X),Z.push({event:he,listeners:$e}),he.data=Ee)),E_(Z,n,U,o,X)}Qy(Z,s)})}function zi(n,s,o){return{instance:n,listener:s,currentTarget:o}}function zl(n,s){for(var o=s+"Capture",u=[];n!==null;){var d=n,p=d.stateNode;if(d=d.tag,d!==5&&d!==26&&d!==27||p===null||(d=ei(n,o),d!=null&&u.unshift(zi(n,d,p)),d=ei(n,s),d!=null&&u.push(zi(n,d,p))),n.tag===3)return u;n=n.return}return[]}function O_(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function e0(n,s,o,u,d){for(var p=s._reactName,S=[];o!==null&&o!==u;){var T=o,R=T.alternate,U=T.stateNode;if(T=T.tag,R!==null&&R===u)break;T!==5&&T!==26&&T!==27||U===null||(R=U,d?(U=ei(o,p),U!=null&&S.unshift(zi(o,U,R))):d||(U=ei(o,p),U!=null&&S.push(zi(o,U,R)))),o=o.return}S.length!==0&&n.push({event:s,listeners:S})}var D_=/\r\n?/g,$_=/\u0000|\uFFFD/g;function t0(n){return(typeof n=="string"?n:""+n).replace(D_,`
`).replace($_,"")}function n0(n,s){return s=t0(s),t0(n)===s}function He(n,s,o,u,d,p){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||Ps(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&Ps(n,""+u);break;case"className":Io(n,"class",u);break;case"tabIndex":Io(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Io(n,o,u);break;case"style":np(n,u,p);break;case"data":if(s!=="object"){Io(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Mo(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(s!=="input"&&He(n,s,"name",d.name,d,null),He(n,s,"formEncType",d.formEncType,d,null),He(n,s,"formMethod",d.formMethod,d,null),He(n,s,"formTarget",d.formTarget,d,null)):(He(n,s,"encType",d.encType,d,null),He(n,s,"method",d.method,d,null),He(n,s,"target",d.target,d,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=Mo(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=Kn);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=Mo(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Oe("beforetoggle",n),Oe("toggle",n),Bo(n,"popover",u);break;case"xlinkActuate":Gn(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Gn(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Gn(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Gn(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Gn(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Gn(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Gn(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Bo(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sE.get(o)||o,Bo(n,o,u))}}function Zf(n,s,o,u,d,p){switch(o){case"style":np(n,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(d.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?Ps(n,u):(typeof u=="number"||typeof u=="bigint")&&Ps(n,""+u);break;case"onScroll":u!=null&&Oe("scroll",n);break;case"onScrollEnd":u!=null&&Oe("scrollend",n);break;case"onClick":u!=null&&(n.onclick=Kn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ym.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(d=o.endsWith("Capture"),s=o.slice(2,d?o.length-7:void 0),p=n[Lt]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(s,p,d),typeof u=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,d);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Bo(n,o,u)}}}function xt(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Oe("error",n),Oe("load",n);var u=!1,d=!1,p;for(p in o)if(o.hasOwnProperty(p)){var S=o[p];if(S!=null)switch(p){case"src":u=!0;break;case"srcSet":d=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(n,s,p,S,o,null)}}d&&He(n,s,"srcSet",o.srcSet,o,null),u&&He(n,s,"src",o.src,o,null);return;case"input":Oe("invalid",n);var T=p=S=d=null,R=null,U=null;for(u in o)if(o.hasOwnProperty(u)){var X=o[u];if(X!=null)switch(u){case"name":d=X;break;case"type":S=X;break;case"checked":R=X;break;case"defaultChecked":U=X;break;case"value":p=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(r(137,s));break;default:He(n,s,u,X,o,null)}}Qm(n,p,T,R,U,S,d,!1);return;case"select":Oe("invalid",n),u=S=p=null;for(d in o)if(o.hasOwnProperty(d)&&(T=o[d],T!=null))switch(d){case"value":p=T;break;case"defaultValue":S=T;break;case"multiple":u=T;default:He(n,s,d,T,o,null)}s=p,o=S,n.multiple=!!u,s!=null?Xs(n,!!u,s,!1):o!=null&&Xs(n,!!u,o,!0);return;case"textarea":Oe("invalid",n),p=d=u=null;for(S in o)if(o.hasOwnProperty(S)&&(T=o[S],T!=null))switch(S){case"value":u=T;break;case"defaultValue":d=T;break;case"children":p=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(r(91));break;default:He(n,s,S,T,o,null)}ep(n,u,d,p);return;case"option":for(R in o)if(o.hasOwnProperty(R)&&(u=o[R],u!=null))switch(R){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:He(n,s,R,u,o,null)}return;case"dialog":Oe("beforetoggle",n),Oe("toggle",n),Oe("cancel",n),Oe("close",n);break;case"iframe":case"object":Oe("load",n);break;case"video":case"audio":for(u=0;u<Ri.length;u++)Oe(Ri[u],n);break;case"image":Oe("error",n),Oe("load",n);break;case"details":Oe("toggle",n);break;case"embed":case"source":case"link":Oe("error",n),Oe("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(U in o)if(o.hasOwnProperty(U)&&(u=o[U],u!=null))switch(U){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:He(n,s,U,u,o,null)}return;default:if(cc(s)){for(X in o)o.hasOwnProperty(X)&&(u=o[X],u!==void 0&&Zf(n,s,X,u,o,void 0));return}}for(T in o)o.hasOwnProperty(T)&&(u=o[T],u!=null&&He(n,s,T,u,o,null))}function k_(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var d=null,p=null,S=null,T=null,R=null,U=null,X=null;for(K in o){var Z=o[K];if(o.hasOwnProperty(K)&&Z!=null)switch(K){case"checked":break;case"value":break;case"defaultValue":R=Z;default:u.hasOwnProperty(K)||He(n,s,K,null,u,Z)}}for(var q in u){var K=u[q];if(Z=o[q],u.hasOwnProperty(q)&&(K!=null||Z!=null))switch(q){case"type":p=K;break;case"name":d=K;break;case"checked":U=K;break;case"defaultChecked":X=K;break;case"value":S=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(r(137,s));break;default:K!==Z&&He(n,s,q,K,u,Z)}}lc(n,S,T,R,U,X,p,d);return;case"select":K=S=T=q=null;for(p in o)if(R=o[p],o.hasOwnProperty(p)&&R!=null)switch(p){case"value":break;case"multiple":K=R;default:u.hasOwnProperty(p)||He(n,s,p,null,u,R)}for(d in u)if(p=u[d],R=o[d],u.hasOwnProperty(d)&&(p!=null||R!=null))switch(d){case"value":q=p;break;case"defaultValue":T=p;break;case"multiple":S=p;default:p!==R&&He(n,s,d,p,u,R)}s=T,o=S,u=K,q!=null?Xs(n,!!o,q,!1):!!u!=!!o&&(s!=null?Xs(n,!!o,s,!0):Xs(n,!!o,o?[]:"",!1));return;case"textarea":K=q=null;for(T in o)if(d=o[T],o.hasOwnProperty(T)&&d!=null&&!u.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:He(n,s,T,null,u,d)}for(S in u)if(d=u[S],p=o[S],u.hasOwnProperty(S)&&(d!=null||p!=null))switch(S){case"value":q=d;break;case"defaultValue":K=d;break;case"children":break;case"dangerouslySetInnerHTML":if(d!=null)throw Error(r(91));break;default:d!==p&&He(n,s,S,d,u,p)}Jm(n,q,K);return;case"option":for(var fe in o)if(q=o[fe],o.hasOwnProperty(fe)&&q!=null&&!u.hasOwnProperty(fe))switch(fe){case"selected":n.selected=!1;break;default:He(n,s,fe,null,u,q)}for(R in u)if(q=u[R],K=o[R],u.hasOwnProperty(R)&&q!==K&&(q!=null||K!=null))switch(R){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:He(n,s,R,q,u,K)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ye in o)q=o[ye],o.hasOwnProperty(ye)&&q!=null&&!u.hasOwnProperty(ye)&&He(n,s,ye,null,u,q);for(U in u)if(q=u[U],K=o[U],u.hasOwnProperty(U)&&q!==K&&(q!=null||K!=null))switch(U){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:He(n,s,U,q,u,K)}return;default:if(cc(s)){for(var Ve in o)q=o[Ve],o.hasOwnProperty(Ve)&&q!==void 0&&!u.hasOwnProperty(Ve)&&Zf(n,s,Ve,void 0,u,q);for(X in u)q=u[X],K=o[X],!u.hasOwnProperty(X)||q===K||q===void 0&&K===void 0||Zf(n,s,X,q,u,K);return}}for(var B in o)q=o[B],o.hasOwnProperty(B)&&q!=null&&!u.hasOwnProperty(B)&&He(n,s,B,null,u,q);for(Z in u)q=u[Z],K=o[Z],!u.hasOwnProperty(Z)||q===K||q==null&&K==null||He(n,s,Z,q,u,K)}function a0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R_(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var d=o[u],p=d.transferSize,S=d.initiatorType,T=d.duration;if(p&&T&&a0(S)){for(S=0,T=d.responseEnd,u+=1;u<o.length;u++){var R=o[u],U=R.startTime;if(U>T)break;var X=R.transferSize,Z=R.initiatorType;X&&a0(Z)&&(R=R.responseEnd,S+=X*(R<T?1:(T-U)/(R-U)))}if(--u,s+=8*(p+S)/(d.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Qf=null,Jf=null;function Cl(n){return n.nodeType===9?n:n.ownerDocument}function s0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function eh(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var th=null;function z_(){var n=window.event;return n&&n.type==="popstate"?n===th?!1:(th=n,!0):(th=null,!1)}var i0=typeof setTimeout=="function"?setTimeout:void 0,C_=typeof clearTimeout=="function"?clearTimeout:void 0,o0=typeof Promise=="function"?Promise:void 0,j_=typeof queueMicrotask=="function"?queueMicrotask:typeof o0<"u"?function(n){return o0.resolve(null).then(n).catch(B_)}:i0;function B_(n){setTimeout(function(){throw n})}function Ia(n){return n==="head"}function l0(n,s){var o=s,u=0;do{var d=o.nextSibling;if(n.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(d),xr(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Ci(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Ci(o);for(var p=o.firstChild;p;){var S=p.nextSibling,T=p.nodeName;p[Qr]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&p.rel.toLowerCase()==="stylesheet"||o.removeChild(p),p=S}}else o==="body"&&Ci(n.ownerDocument.body);o=d}while(o);xr(s)}function u0(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function nh(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":nh(o),ic(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function I_(n,s,o,u){for(;n.nodeType===1;){var d=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Qr])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==d.rel||n.getAttribute("href")!==(d.href==null||d.href===""?null:d.href)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin)||n.getAttribute("title")!==(d.title==null?null:d.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(d.src==null?null:d.src)||n.getAttribute("type")!==(d.type==null?null:d.type)||n.getAttribute("crossorigin")!==(d.crossOrigin==null?null:d.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var p=d.name==null?null:""+d.name;if(d.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=vn(n.nextSibling),n===null)break}return null}function L_(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=vn(n.nextSibling),n===null))return null;return n}function c0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=vn(n.nextSibling),n===null))return null;return n}function ah(n){return n.data==="$?"||n.data==="$~"}function sh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function M_(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function vn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var rh=null;function f0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return vn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function h0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function d0(n,s,o){switch(s=Cl(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Ci(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);ic(n)}var Sn=new Map,m0=new Set;function jl(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var la=ae.d;ae.d={f:U_,r:F_,D:q_,C:H_,L:V_,m:G_,X:Y_,S:K_,M:X_};function U_(){var n=la.f(),s=xl();return n||s}function F_(n){var s=Gs(n);s!==null&&s.tag===5&&s.type==="form"?kg(s):la.r(n)}var Tr=typeof document>"u"?null:document;function p0(n,s,o){var u=Tr;if(u&&typeof s=="string"&&s){var d=hn(s);d='link[rel="'+n+'"][href="'+d+'"]',typeof o=="string"&&(d+='[crossorigin="'+o+'"]'),m0.has(d)||(m0.add(d),n={rel:n,crossOrigin:o,href:s},u.querySelector(d)===null&&(s=u.createElement("link"),xt(s,"link",n),bt(s),u.head.appendChild(s)))}}function q_(n){la.D(n),p0("dns-prefetch",n,null)}function H_(n,s){la.C(n,s),p0("preconnect",n,s)}function V_(n,s,o){la.L(n,s,o);var u=Tr;if(u&&n&&s){var d='link[rel="preload"][as="'+hn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(d+='[imagesrcset="'+hn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(d+='[imagesizes="'+hn(o.imageSizes)+'"]')):d+='[href="'+hn(n)+'"]';var p=d;switch(s){case"style":p=Er(n);break;case"script":p=_r(n)}Sn.has(p)||(n=y({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Sn.set(p,n),u.querySelector(d)!==null||s==="style"&&u.querySelector(ji(p))||s==="script"&&u.querySelector(Bi(p))||(s=u.createElement("link"),xt(s,"link",n),bt(s),u.head.appendChild(s)))}}function G_(n,s){la.m(n,s);var o=Tr;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",d='link[rel="modulepreload"][as="'+hn(u)+'"][href="'+hn(n)+'"]',p=d;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=_r(n)}if(!Sn.has(p)&&(n=y({rel:"modulepreload",href:n},s),Sn.set(p,n),o.querySelector(d)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Bi(p)))return}u=o.createElement("link"),xt(u,"link",n),bt(u),o.head.appendChild(u)}}}function K_(n,s,o){la.S(n,s,o);var u=Tr;if(u&&n){var d=Ks(u).hoistableStyles,p=Er(n);s=s||"default";var S=d.get(p);if(!S){var T={loading:0,preload:null};if(S=u.querySelector(ji(p)))T.loading=5;else{n=y({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Sn.get(p))&&ih(n,o);var R=S=u.createElement("link");bt(R),xt(R,"link",n),R._p=new Promise(function(U,X){R.onload=U,R.onerror=X}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Bl(S,s,u)}S={type:"stylesheet",instance:S,count:1,state:T},d.set(p,S)}}}function Y_(n,s){la.X(n,s);var o=Tr;if(o&&n){var u=Ks(o).hoistableScripts,d=_r(n),p=u.get(d);p||(p=o.querySelector(Bi(d)),p||(n=y({src:n,async:!0},s),(s=Sn.get(d))&&oh(n,s),p=o.createElement("script"),bt(p),xt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function X_(n,s){la.M(n,s);var o=Tr;if(o&&n){var u=Ks(o).hoistableScripts,d=_r(n),p=u.get(d);p||(p=o.querySelector(Bi(d)),p||(n=y({src:n,async:!0,type:"module"},s),(s=Sn.get(d))&&oh(n,s),p=o.createElement("script"),bt(p),xt(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(d,p))}}function g0(n,s,o,u){var d=(d=xe.current)?jl(d):null;if(!d)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Er(o.href),o=Ks(d).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Er(o.href);var p=Ks(d).hoistableStyles,S=p.get(n);if(S||(d=d.ownerDocument||d,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,S),(p=d.querySelector(ji(n)))&&!p._p&&(S.instance=p,S.state.loading=5),Sn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sn.set(n,o),p||P_(d,n,o,S.state))),s&&u===null)throw Error(r(528,""));return S}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=_r(o),o=Ks(d).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function Er(n){return'href="'+hn(n)+'"'}function ji(n){return'link[rel="stylesheet"]['+n+"]"}function y0(n){return y({},n,{"data-precedence":n.precedence,precedence:null})}function P_(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),xt(s,"link",o),bt(s),n.head.appendChild(s))}function _r(n){return'[src="'+hn(n)+'"]'}function Bi(n){return"script[async]"+n}function b0(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+hn(o.href)+'"]');if(u)return s.instance=u,bt(u),u;var d=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),bt(u),xt(u,"style",d),Bl(u,o.precedence,n),s.instance=u;case"stylesheet":d=Er(o.href);var p=n.querySelector(ji(d));if(p)return s.state.loading|=4,s.instance=p,bt(p),p;u=y0(o),(d=Sn.get(d))&&ih(u,d),p=(n.ownerDocument||n).createElement("link"),bt(p);var S=p;return S._p=new Promise(function(T,R){S.onload=T,S.onerror=R}),xt(p,"link",u),s.state.loading|=4,Bl(p,o.precedence,n),s.instance=p;case"script":return p=_r(o.src),(d=n.querySelector(Bi(p)))?(s.instance=d,bt(d),d):(u=o,(d=Sn.get(p))&&(u=y({},o),oh(u,d)),n=n.ownerDocument||n,d=n.createElement("script"),bt(d),xt(d,"link",u),n.head.appendChild(d),s.instance=d);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Bl(u,o.precedence,n));return s.instance}function Bl(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),d=u.length?u[u.length-1]:null,p=d,S=0;S<u.length;S++){var T=u[S];if(T.dataset.precedence===s)p=T;else if(p!==d)break}p?p.parentNode.insertBefore(n,p.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function ih(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function oh(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Il=null;function v0(n,s,o){if(Il===null){var u=new Map,d=Il=new Map;d.set(o,u)}else d=Il,u=d.get(o),u||(u=new Map,d.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),d=0;d<o.length;d++){var p=o[d];if(!(p[Qr]||p[wt]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var S=p.getAttribute(s)||"";S=n+S;var T=u.get(S);T?T.push(p):u.set(S,[p])}}return u}function S0(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function W_(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function N0(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Z_(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var d=Er(u.href),p=s.querySelector(ji(d));if(p){s=p._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Ll.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=p,bt(p);return}p=s.ownerDocument||s,u=y0(u),(d=Sn.get(d))&&ih(u,d),p=p.createElement("link"),bt(p);var S=p;S._p=new Promise(function(T,R){S.onload=T,S.onerror=R}),xt(p,"link",u),o.instance=p}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Ll.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var lh=0;function Q_(n,s){return n.stylesheets&&n.count===0&&Ul(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&Ul(n,n.stylesheets),n.unsuspend){var p=n.unsuspend;n.unsuspend=null,p()}},6e4+s);0<n.imgBytes&&lh===0&&(lh=62500*R_());var d=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&Ul(n,n.stylesheets),n.unsuspend)){var p=n.unsuspend;n.unsuspend=null,p()}},(n.imgBytes>lh?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(d)}}:null}function Ll(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ul(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Ml=null;function Ul(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Ml=new Map,s.forEach(J_,n),Ml=null,Ll.call(n))}function J_(n,s){if(!(s.state.loading&4)){var o=Ml.get(n);if(o)var u=o.get(null);else{o=new Map,Ml.set(n,o);for(var d=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<d.length;p++){var S=d[p];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(o.set(S.dataset.precedence,S),u=S)}u&&o.set(null,u)}d=s.instance,S=d.getAttribute("data-precedence"),p=o.get(S)||u,p===u&&o.set(null,d),o.set(S,d),this.count++,u=Ll.bind(this),d.addEventListener("load",u),d.addEventListener("error",u),p?p.parentNode.insertBefore(d,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(d,n.firstChild)),s.state.loading|=4}}var Ii={$$typeof:I,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function ex(n,s,o,u,d,p,S,T,R){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=nc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nc(0),this.hiddenUpdates=nc(null),this.identifierPrefix=u,this.onUncaughtError=d,this.onCaughtError=p,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function w0(n,s,o,u,d,p,S,T,R,U,X,Z){return n=new ex(n,s,o,S,R,U,X,Z,T),s=1,p===!0&&(s|=24),p=an(3,null,null,s),n.current=p,p.stateNode=n,s=Uc(),s.refCount++,n.pooledCache=s,s.refCount++,p.memoizedState={element:u,isDehydrated:o,cache:s},Vc(p),n}function T0(n){return n?(n=nr,n):nr}function E0(n,s,o,u,d,p){d=T0(d),u.context===null?u.context=d:u.pendingContext=d,u=xa(s),u.payload={element:o},p=p===void 0?null:p,p!==null&&(u.callback=p),o=Aa(n,u,s),o!==null&&(Vt(o,n,s),pi(o,n,s))}function _0(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function uh(n,s){_0(n,s),(n=n.alternate)&&_0(n,s)}function x0(n){if(n.tag===13||n.tag===31){var s=cs(n,67108864);s!==null&&Vt(s,n,67108864),uh(n,67108864)}}function A0(n){if(n.tag===13||n.tag===31){var s=un();s=ac(s);var o=cs(n,s);o!==null&&Vt(o,n,s),uh(n,s)}}var Fl=!0;function tx(n,s,o,u){var d=L.T;L.T=null;var p=ae.p;try{ae.p=2,ch(n,s,o,u)}finally{ae.p=p,L.T=d}}function nx(n,s,o,u){var d=L.T;L.T=null;var p=ae.p;try{ae.p=8,ch(n,s,o,u)}finally{ae.p=p,L.T=d}}function ch(n,s,o,u){if(Fl){var d=fh(u);if(d===null)Wf(n,s,u,ql,o),D0(n,u);else if(sx(d,n,s,o,u))u.stopPropagation();else if(D0(n,u),s&4&&-1<ax.indexOf(n)){for(;d!==null;){var p=Gs(d);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var S=rs(p.pendingLanes);if(S!==0){var T=p;for(T.pendingLanes|=2,T.entangledLanes|=2;S;){var R=1<<31-tn(S);T.entanglements[1]|=R,S&=~R}In(p),(je&6)===0&&(El=Jt()+500,ki(0))}}break;case 31:case 13:T=cs(p,2),T!==null&&Vt(T,p,2),xl(),uh(p,2)}if(p=fh(u),p===null&&Wf(n,s,u,ql,o),p===d)break;d=p}d!==null&&u.stopPropagation()}else Wf(n,s,u,null,o)}}function fh(n){return n=hc(n),hh(n)}var ql=null;function hh(n){if(ql=null,n=Vs(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=f(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return ql=n,null}function O0(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(qT()){case Bm:return 2;case Im:return 8;case ko:case HT:return 32;case Lm:return 268435456;default:return 32}default:return 32}}var dh=!1,La=null,Ma=null,Ua=null,Li=new Map,Mi=new Map,Fa=[],ax="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D0(n,s){switch(n){case"focusin":case"focusout":La=null;break;case"dragenter":case"dragleave":Ma=null;break;case"mouseover":case"mouseout":Ua=null;break;case"pointerover":case"pointerout":Li.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(s.pointerId)}}function Ui(n,s,o,u,d,p){return n===null||n.nativeEvent!==p?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:p,targetContainers:[d]},s!==null&&(s=Gs(s),s!==null&&x0(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function sx(n,s,o,u,d){switch(s){case"focusin":return La=Ui(La,n,s,o,u,d),!0;case"dragenter":return Ma=Ui(Ma,n,s,o,u,d),!0;case"mouseover":return Ua=Ui(Ua,n,s,o,u,d),!0;case"pointerover":var p=d.pointerId;return Li.set(p,Ui(Li.get(p)||null,n,s,o,u,d)),!0;case"gotpointercapture":return p=d.pointerId,Mi.set(p,Ui(Mi.get(p)||null,n,s,o,u,d)),!0}return!1}function $0(n){var s=Vs(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,Vm(n.priority,function(){A0(o)});return}}else if(s===31){if(s=f(o),s!==null){n.blockedOn=s,Vm(n.priority,function(){A0(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Hl(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=fh(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);fc=u,o.target.dispatchEvent(u),fc=null}else return s=Gs(o),s!==null&&x0(s),n.blockedOn=o,!1;s.shift()}return!0}function k0(n,s,o){Hl(n)&&o.delete(s)}function rx(){dh=!1,La!==null&&Hl(La)&&(La=null),Ma!==null&&Hl(Ma)&&(Ma=null),Ua!==null&&Hl(Ua)&&(Ua=null),Li.forEach(k0),Mi.forEach(k0)}function Vl(n,s){n.blockedOn===s&&(n.blockedOn=null,dh||(dh=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,rx)))}var Gl=null;function R0(n){Gl!==n&&(Gl=n,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Gl===n&&(Gl=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],d=n[s+2];if(typeof u!="function"){if(hh(u||o)===null)continue;break}var p=Gs(o);p!==null&&(n.splice(s,3),s-=3,ff(p,{pending:!0,data:d,method:o.method,action:u},u,d))}}))}function xr(n){function s(R){return Vl(R,n)}La!==null&&Vl(La,n),Ma!==null&&Vl(Ma,n),Ua!==null&&Vl(Ua,n),Li.forEach(s),Mi.forEach(s);for(var o=0;o<Fa.length;o++){var u=Fa[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<Fa.length&&(o=Fa[0],o.blockedOn===null);)$0(o),o.blockedOn===null&&Fa.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var d=o[u],p=o[u+1],S=d[Lt]||null;if(typeof p=="function")S||R0(o);else if(S){var T=null;if(p&&p.hasAttribute("formAction")){if(d=p,S=p[Lt]||null)T=S.formAction;else if(hh(d)!==null)continue}else T=S.action;typeof T=="function"?o[u+1]=T:(o.splice(u,3),u-=3),R0(o)}}}function z0(){function n(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(S){return d=S})},focusReset:"manual",scroll:"manual"})}function s(){d!==null&&(d(),d=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,d=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),d!==null&&(d(),d=null)}}}function mh(n){this._internalRoot=n}Kl.prototype.render=mh.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=un();E0(o,u,n,s,null,null)},Kl.prototype.unmount=mh.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;E0(n.current,2,null,n,null,null),xl(),s[Hs]=null}};function Kl(n){this._internalRoot=n}Kl.prototype.unstable_scheduleHydration=function(n){if(n){var s=Hm();n={blockedOn:null,target:n,priority:s};for(var o=0;o<Fa.length&&s!==0&&s<Fa[o].priority;o++);Fa.splice(o,0,n),o===0&&$0(n)}};var C0=e.version;if(C0!=="19.2.0")throw Error(r(527,C0,"19.2.0"));ae.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=m(s),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var ix={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Yl.isDisabled&&Yl.supportsFiber)try{Pr=Yl.inject(ix),en=Yl}catch{}}return qi.createRoot=function(n,s){if(!i(n))throw Error(r(299));var o=!1,u="",d=Fg,p=qg,S=Hg;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(d=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(S=s.onRecoverableError)),s=w0(n,1,!1,null,null,o,u,null,d,p,S,z0),n[Hs]=s.current,Pf(n),new mh(s)},qi.hydrateRoot=function(n,s,o){if(!i(n))throw Error(r(299));var u=!1,d="",p=Fg,S=qg,T=Hg,R=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(d=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(S=o.onCaughtError),o.onRecoverableError!==void 0&&(T=o.onRecoverableError),o.formState!==void 0&&(R=o.formState)),s=w0(n,1,!0,s,o??null,u,d,R,p,S,T,z0),s.context=T0(null),o=s.current,u=un(),u=ac(u),d=xa(u),d.callback=null,Aa(o,d,u),o=u,s.current.lanes=o,Zr(s,o),In(s),n[Hs]=s.current,Pf(n),new Kl(s)},qi.version="19.2.0",qi}var V0;function bx(){if(V0)return gh.exports;V0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),gh.exports=yx(),gh.exports}var vx=bx(),tt=pd();function Hb(t,e){return function(){return t.apply(e,arguments)}}const{toString:Sx}=Object.prototype,{getPrototypeOf:gd}=Object,{iterator:Au,toStringTag:Vb}=Symbol,Ou=(t=>e=>{const a=Sx.call(e);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Rn=t=>(t=t.toLowerCase(),e=>Ou(e)===t),Du=t=>e=>typeof e===t,{isArray:qr}=Array,zr=Du("undefined");function ho(t){return t!==null&&!zr(t)&&t.constructor!==null&&!zr(t.constructor)&&Pt(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const Gb=Rn("ArrayBuffer");function Nx(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Gb(t.buffer),e}const wx=Du("string"),Pt=Du("function"),Kb=Du("number"),mo=t=>t!==null&&typeof t=="object",Tx=t=>t===!0||t===!1,Ql=t=>{if(Ou(t)!=="object")return!1;const e=gd(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Vb in t)&&!(Au in t)},Ex=t=>{if(!mo(t)||ho(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},_x=Rn("Date"),xx=Rn("File"),Ax=Rn("Blob"),Ox=Rn("FileList"),Dx=t=>mo(t)&&Pt(t.pipe),$x=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Pt(t.append)&&((e=Ou(t))==="formdata"||e==="object"&&Pt(t.toString)&&t.toString()==="[object FormData]"))},kx=Rn("URLSearchParams"),[Rx,zx,Cx,jx]=["ReadableStream","Request","Response","Headers"].map(Rn),Bx=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function po(t,e,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),qr(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(ho(t))return;const l=a?Object.getOwnPropertyNames(t):Object.keys(t),c=l.length;let f;for(r=0;r<c;r++)f=l[r],e.call(null,t[f],f,t)}}function Yb(t,e){if(ho(t))return null;e=e.toLowerCase();const a=Object.keys(t);let r=a.length,i;for(;r-- >0;)if(i=a[r],e===i.toLowerCase())return i;return null}const Os=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Xb=t=>!zr(t)&&t!==Os;function zh(){const{caseless:t,skipUndefined:e}=Xb(this)&&this||{},a={},r=(i,l)=>{const c=t&&Yb(a,l)||l;Ql(a[c])&&Ql(i)?a[c]=zh(a[c],i):Ql(i)?a[c]=zh({},i):qr(i)?a[c]=i.slice():(!e||!zr(i))&&(a[c]=i)};for(let i=0,l=arguments.length;i<l;i++)arguments[i]&&po(arguments[i],r);return a}const Ix=(t,e,a,{allOwnKeys:r}={})=>(po(e,(i,l)=>{a&&Pt(i)?t[l]=Hb(i,a):t[l]=i},{allOwnKeys:r}),t),Lx=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Mx=(t,e,a,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),a&&Object.assign(t.prototype,a)},Ux=(t,e,a,r)=>{let i,l,c;const f={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),l=i.length;l-- >0;)c=i[l],(!r||r(c,t,e))&&!f[c]&&(e[c]=t[c],f[c]=!0);t=a!==!1&&gd(t)}while(t&&(!a||a(t,e))&&t!==Object.prototype);return e},Fx=(t,e,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=e.length;const r=t.indexOf(e,a);return r!==-1&&r===a},qx=t=>{if(!t)return null;if(qr(t))return t;let e=t.length;if(!Kb(e))return null;const a=new Array(e);for(;e-- >0;)a[e]=t[e];return a},Hx=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&gd(Uint8Array)),Vx=(t,e)=>{const r=(t&&t[Au]).call(t);let i;for(;(i=r.next())&&!i.done;){const l=i.value;e.call(t,l[0],l[1])}},Gx=(t,e)=>{let a;const r=[];for(;(a=t.exec(e))!==null;)r.push(a);return r},Kx=Rn("HTMLFormElement"),Yx=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,r,i){return r.toUpperCase()+i}),G0=(({hasOwnProperty:t})=>(e,a)=>t.call(e,a))(Object.prototype),Xx=Rn("RegExp"),Pb=(t,e)=>{const a=Object.getOwnPropertyDescriptors(t),r={};po(a,(i,l)=>{let c;(c=e(i,l,t))!==!1&&(r[l]=c||i)}),Object.defineProperties(t,r)},Px=t=>{Pb(t,(e,a)=>{if(Pt(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const r=t[a];if(Pt(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Wx=(t,e)=>{const a={},r=i=>{i.forEach(l=>{a[l]=!0})};return qr(t)?r(t):r(String(t).split(e)),a},Zx=()=>{},Qx=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Jx(t){return!!(t&&Pt(t.append)&&t[Vb]==="FormData"&&t[Au])}const eA=t=>{const e=new Array(10),a=(r,i)=>{if(mo(r)){if(e.indexOf(r)>=0)return;if(ho(r))return r;if(!("toJSON"in r)){e[i]=r;const l=qr(r)?[]:{};return po(r,(c,f)=>{const h=a(c,i+1);!zr(h)&&(l[f]=h)}),e[i]=void 0,l}}return r};return a(t,0)},tA=Rn("AsyncFunction"),nA=t=>t&&(mo(t)||Pt(t))&&Pt(t.then)&&Pt(t.catch),Wb=((t,e)=>t?setImmediate:e?((a,r)=>(Os.addEventListener("message",({source:i,data:l})=>{i===Os&&l===a&&r.length&&r.shift()()},!1),i=>{r.push(i),Os.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",Pt(Os.postMessage)),aA=typeof queueMicrotask<"u"?queueMicrotask.bind(Os):typeof process<"u"&&process.nextTick||Wb,sA=t=>t!=null&&Pt(t[Au]),G={isArray:qr,isArrayBuffer:Gb,isBuffer:ho,isFormData:$x,isArrayBufferView:Nx,isString:wx,isNumber:Kb,isBoolean:Tx,isObject:mo,isPlainObject:Ql,isEmptyObject:Ex,isReadableStream:Rx,isRequest:zx,isResponse:Cx,isHeaders:jx,isUndefined:zr,isDate:_x,isFile:xx,isBlob:Ax,isRegExp:Xx,isFunction:Pt,isStream:Dx,isURLSearchParams:kx,isTypedArray:Hx,isFileList:Ox,forEach:po,merge:zh,extend:Ix,trim:Bx,stripBOM:Lx,inherits:Mx,toFlatObject:Ux,kindOf:Ou,kindOfTest:Rn,endsWith:Fx,toArray:qx,forEachEntry:Vx,matchAll:Gx,isHTMLForm:Kx,hasOwnProperty:G0,hasOwnProp:G0,reduceDescriptors:Pb,freezeMethods:Px,toObjectSet:Wx,toCamelCase:Yx,noop:Zx,toFiniteNumber:Qx,findKey:Yb,global:Os,isContextDefined:Xb,isSpecCompliantForm:Jx,toJSONObject:eA,isAsyncFn:tA,isThenable:nA,setImmediate:Wb,asap:aA,isIterable:sA};function Te(t,e,a,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),a&&(this.config=a),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}G.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:G.toJSONObject(this.config),code:this.code,status:this.status}}});const Zb=Te.prototype,Qb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{Qb[t]={value:t}});Object.defineProperties(Te,Qb);Object.defineProperty(Zb,"isAxiosError",{value:!0});Te.from=(t,e,a,r,i,l)=>{const c=Object.create(Zb);G.toFlatObject(t,c,function(g){return g!==Error.prototype},m=>m!=="isAxiosError");const f=t&&t.message?t.message:"Error",h=e==null&&t?t.code:e;return Te.call(c,f,h,a,r,i),t&&c.cause==null&&Object.defineProperty(c,"cause",{value:t,configurable:!0}),c.name=t&&t.name||"Error",l&&Object.assign(c,l),c};const rA=null;function Ch(t){return G.isPlainObject(t)||G.isArray(t)}function Jb(t){return G.endsWith(t,"[]")?t.slice(0,-2):t}function K0(t,e,a){return t?t.concat(e).map(function(i,l){return i=Jb(i),!a&&l?"["+i+"]":i}).join(a?".":""):e}function iA(t){return G.isArray(t)&&!t.some(Ch)}const oA=G.toFlatObject(G,{},null,function(e){return/^is[A-Z]/.test(e)});function $u(t,e,a){if(!G.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,a=G.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(x,_){return!G.isUndefined(_[x])});const r=a.metaTokens,i=a.visitor||g,l=a.dots,c=a.indexes,h=(a.Blob||typeof Blob<"u"&&Blob)&&G.isSpecCompliantForm(e);if(!G.isFunction(i))throw new TypeError("visitor must be a function");function m(w){if(w===null)return"";if(G.isDate(w))return w.toISOString();if(G.isBoolean(w))return w.toString();if(!h&&G.isBlob(w))throw new Te("Blob is not supported. Use a Buffer instead.");return G.isArrayBuffer(w)||G.isTypedArray(w)?h&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function g(w,x,_){let C=w;if(w&&!_&&typeof w=="object"){if(G.endsWith(x,"{}"))x=r?x:x.slice(0,-2),w=JSON.stringify(w);else if(G.isArray(w)&&iA(w)||(G.isFileList(w)||G.endsWith(x,"[]"))&&(C=G.toArray(w)))return x=Jb(x),C.forEach(function(I,F){!(G.isUndefined(I)||I===null)&&e.append(c===!0?K0([x],F,l):c===null?x:x+"[]",m(I))}),!1}return Ch(w)?!0:(e.append(K0(_,x,l),m(w)),!1)}const y=[],b=Object.assign(oA,{defaultVisitor:g,convertValue:m,isVisitable:Ch});function N(w,x){if(!G.isUndefined(w)){if(y.indexOf(w)!==-1)throw Error("Circular reference detected in "+x.join("."));y.push(w),G.forEach(w,function(C,ee){(!(G.isUndefined(C)||C===null)&&i.call(e,C,G.isString(ee)?ee.trim():ee,x,b))===!0&&N(C,x?x.concat(ee):[ee])}),y.pop()}}if(!G.isObject(t))throw new TypeError("data must be an object");return N(t),e}function Y0(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function yd(t,e){this._pairs=[],t&&$u(t,this,e)}const e1=yd.prototype;e1.append=function(e,a){this._pairs.push([e,a])};e1.toString=function(e){const a=e?function(r){return e.call(this,r,Y0)}:Y0;return this._pairs.map(function(i){return a(i[0])+"="+a(i[1])},"").join("&")};function lA(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function t1(t,e,a){if(!e)return t;const r=a&&a.encode||lA;G.isFunction(a)&&(a={serialize:a});const i=a&&a.serialize;let l;if(i?l=i(e,a):l=G.isURLSearchParams(e)?e.toString():new yd(e,a).toString(r),l){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class X0{constructor(){this.handlers=[]}use(e,a,r){return this.handlers.push({fulfilled:e,rejected:a,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){G.forEach(this.handlers,function(r){r!==null&&e(r)})}}const n1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uA=typeof URLSearchParams<"u"?URLSearchParams:yd,cA=typeof FormData<"u"?FormData:null,fA=typeof Blob<"u"?Blob:null,hA={isBrowser:!0,classes:{URLSearchParams:uA,FormData:cA,Blob:fA},protocols:["http","https","file","blob","url","data"]},bd=typeof window<"u"&&typeof document<"u",jh=typeof navigator=="object"&&navigator||void 0,dA=bd&&(!jh||["ReactNative","NativeScript","NS"].indexOf(jh.product)<0),mA=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",pA=bd&&window.location.href||"http://localhost",gA=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:bd,hasStandardBrowserEnv:dA,hasStandardBrowserWebWorkerEnv:mA,navigator:jh,origin:pA},Symbol.toStringTag,{value:"Module"})),kt={...gA,...hA};function yA(t,e){return $u(t,new kt.classes.URLSearchParams,{visitor:function(a,r,i,l){return kt.isNode&&G.isBuffer(a)?(this.append(r,a.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...e})}function bA(t){return G.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vA(t){const e={},a=Object.keys(t);let r;const i=a.length;let l;for(r=0;r<i;r++)l=a[r],e[l]=t[l];return e}function a1(t){function e(a,r,i,l){let c=a[l++];if(c==="__proto__")return!0;const f=Number.isFinite(+c),h=l>=a.length;return c=!c&&G.isArray(i)?i.length:c,h?(G.hasOwnProp(i,c)?i[c]=[i[c],r]:i[c]=r,!f):((!i[c]||!G.isObject(i[c]))&&(i[c]=[]),e(a,r,i[c],l)&&G.isArray(i[c])&&(i[c]=vA(i[c])),!f)}if(G.isFormData(t)&&G.isFunction(t.entries)){const a={};return G.forEachEntry(t,(r,i)=>{e(bA(r),i,a,0)}),a}return null}function SA(t,e,a){if(G.isString(t))try{return(e||JSON.parse)(t),G.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(a||JSON.stringify)(t)}const go={transitional:n1,adapter:["xhr","http","fetch"],transformRequest:[function(e,a){const r=a.getContentType()||"",i=r.indexOf("application/json")>-1,l=G.isObject(e);if(l&&G.isHTMLForm(e)&&(e=new FormData(e)),G.isFormData(e))return i?JSON.stringify(a1(e)):e;if(G.isArrayBuffer(e)||G.isBuffer(e)||G.isStream(e)||G.isFile(e)||G.isBlob(e)||G.isReadableStream(e))return e;if(G.isArrayBufferView(e))return e.buffer;if(G.isURLSearchParams(e))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let f;if(l){if(r.indexOf("application/x-www-form-urlencoded")>-1)return yA(e,this.formSerializer).toString();if((f=G.isFileList(e))||r.indexOf("multipart/form-data")>-1){const h=this.env&&this.env.FormData;return $u(f?{"files[]":e}:e,h&&new h,this.formSerializer)}}return l||i?(a.setContentType("application/json",!1),SA(e)):e}],transformResponse:[function(e){const a=this.transitional||go.transitional,r=a&&a.forcedJSONParsing,i=this.responseType==="json";if(G.isResponse(e)||G.isReadableStream(e))return e;if(e&&G.isString(e)&&(r&&!this.responseType||i)){const c=!(a&&a.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(f){if(c)throw f.name==="SyntaxError"?Te.from(f,Te.ERR_BAD_RESPONSE,this,null,this.response):f}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kt.classes.FormData,Blob:kt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};G.forEach(["delete","get","head","post","put","patch"],t=>{go.headers[t]={}});const NA=G.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wA=t=>{const e={};let a,r,i;return t&&t.split(`
`).forEach(function(c){i=c.indexOf(":"),a=c.substring(0,i).trim().toLowerCase(),r=c.substring(i+1).trim(),!(!a||e[a]&&NA[a])&&(a==="set-cookie"?e[a]?e[a].push(r):e[a]=[r]:e[a]=e[a]?e[a]+", "+r:r)}),e},P0=Symbol("internals");function Hi(t){return t&&String(t).trim().toLowerCase()}function Jl(t){return t===!1||t==null?t:G.isArray(t)?t.map(Jl):String(t)}function TA(t){const e=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=a.exec(t);)e[r[1]]=r[2];return e}const EA=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nh(t,e,a,r,i){if(G.isFunction(r))return r.call(this,e,a);if(i&&(e=a),!!G.isString(e)){if(G.isString(r))return e.indexOf(r)!==-1;if(G.isRegExp(r))return r.test(e)}}function _A(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,a,r)=>a.toUpperCase()+r)}function xA(t,e){const a=G.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+a,{value:function(i,l,c){return this[r].call(this,e,i,l,c)},configurable:!0})})}let Wt=class{constructor(e){e&&this.set(e)}set(e,a,r){const i=this;function l(f,h,m){const g=Hi(h);if(!g)throw new Error("header name must be a non-empty string");const y=G.findKey(i,g);(!y||i[y]===void 0||m===!0||m===void 0&&i[y]!==!1)&&(i[y||h]=Jl(f))}const c=(f,h)=>G.forEach(f,(m,g)=>l(m,g,h));if(G.isPlainObject(e)||e instanceof this.constructor)c(e,a);else if(G.isString(e)&&(e=e.trim())&&!EA(e))c(wA(e),a);else if(G.isObject(e)&&G.isIterable(e)){let f={},h,m;for(const g of e){if(!G.isArray(g))throw TypeError("Object iterator must return a key-value pair");f[m=g[0]]=(h=f[m])?G.isArray(h)?[...h,g[1]]:[h,g[1]]:g[1]}c(f,a)}else e!=null&&l(a,e,r);return this}get(e,a){if(e=Hi(e),e){const r=G.findKey(this,e);if(r){const i=this[r];if(!a)return i;if(a===!0)return TA(i);if(G.isFunction(a))return a.call(this,i,r);if(G.isRegExp(a))return a.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,a){if(e=Hi(e),e){const r=G.findKey(this,e);return!!(r&&this[r]!==void 0&&(!a||Nh(this,this[r],r,a)))}return!1}delete(e,a){const r=this;let i=!1;function l(c){if(c=Hi(c),c){const f=G.findKey(r,c);f&&(!a||Nh(r,r[f],f,a))&&(delete r[f],i=!0)}}return G.isArray(e)?e.forEach(l):l(e),i}clear(e){const a=Object.keys(this);let r=a.length,i=!1;for(;r--;){const l=a[r];(!e||Nh(this,this[l],l,e,!0))&&(delete this[l],i=!0)}return i}normalize(e){const a=this,r={};return G.forEach(this,(i,l)=>{const c=G.findKey(r,l);if(c){a[c]=Jl(i),delete a[l];return}const f=e?_A(l):String(l).trim();f!==l&&delete a[l],a[f]=Jl(i),r[f]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const a=Object.create(null);return G.forEach(this,(r,i)=>{r!=null&&r!==!1&&(a[i]=e&&G.isArray(r)?r.join(", "):r)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,a])=>e+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...a){const r=new this(e);return a.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[P0]=this[P0]={accessors:{}}).accessors,i=this.prototype;function l(c){const f=Hi(c);r[f]||(xA(i,c),r[f]=!0)}return G.isArray(e)?e.forEach(l):l(e),this}};Wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);G.reduceDescriptors(Wt.prototype,({value:t},e)=>{let a=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[a]=r}}});G.freezeMethods(Wt);function wh(t,e){const a=this||go,r=e||a,i=Wt.from(r.headers);let l=r.data;return G.forEach(t,function(f){l=f.call(a,l,i.normalize(),e?e.status:void 0)}),i.normalize(),l}function s1(t){return!!(t&&t.__CANCEL__)}function Hr(t,e,a){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,a),this.name="CanceledError"}G.inherits(Hr,Te,{__CANCEL__:!0});function r1(t,e,a){const r=a.config.validateStatus;!a.status||!r||r(a.status)?t(a):e(new Te("Request failed with status code "+a.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function AA(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function OA(t,e){t=t||10;const a=new Array(t),r=new Array(t);let i=0,l=0,c;return e=e!==void 0?e:1e3,function(h){const m=Date.now(),g=r[l];c||(c=m),a[i]=h,r[i]=m;let y=l,b=0;for(;y!==i;)b+=a[y++],y=y%t;if(i=(i+1)%t,i===l&&(l=(l+1)%t),m-c<e)return;const N=g&&m-g;return N?Math.round(b*1e3/N):void 0}}function DA(t,e){let a=0,r=1e3/e,i,l;const c=(m,g=Date.now())=>{a=g,i=null,l&&(clearTimeout(l),l=null),t(...m)};return[(...m)=>{const g=Date.now(),y=g-a;y>=r?c(m,g):(i=m,l||(l=setTimeout(()=>{l=null,c(i)},r-y)))},()=>i&&c(i)]}const hu=(t,e,a=3)=>{let r=0;const i=OA(50,250);return DA(l=>{const c=l.loaded,f=l.lengthComputable?l.total:void 0,h=c-r,m=i(h),g=c<=f;r=c;const y={loaded:c,total:f,progress:f?c/f:void 0,bytes:h,rate:m||void 0,estimated:m&&f&&g?(f-c)/m:void 0,event:l,lengthComputable:f!=null,[e?"download":"upload"]:!0};t(y)},a)},W0=(t,e)=>{const a=t!=null;return[r=>e[0]({lengthComputable:a,total:t,loaded:r}),e[1]]},Z0=t=>(...e)=>G.asap(()=>t(...e)),$A=kt.hasStandardBrowserEnv?((t,e)=>a=>(a=new URL(a,kt.origin),t.protocol===a.protocol&&t.host===a.host&&(e||t.port===a.port)))(new URL(kt.origin),kt.navigator&&/(msie|trident)/i.test(kt.navigator.userAgent)):()=>!0,kA=kt.hasStandardBrowserEnv?{write(t,e,a,r,i,l,c){if(typeof document>"u")return;const f=[`${t}=${encodeURIComponent(e)}`];G.isNumber(a)&&f.push(`expires=${new Date(a).toUTCString()}`),G.isString(r)&&f.push(`path=${r}`),G.isString(i)&&f.push(`domain=${i}`),l===!0&&f.push("secure"),G.isString(c)&&f.push(`SameSite=${c}`),document.cookie=f.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function RA(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function zA(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function i1(t,e,a){let r=!RA(e);return t&&(r||a==!1)?zA(t,e):e}const Q0=t=>t instanceof Wt?{...t}:t;function Cs(t,e){e=e||{};const a={};function r(m,g,y,b){return G.isPlainObject(m)&&G.isPlainObject(g)?G.merge.call({caseless:b},m,g):G.isPlainObject(g)?G.merge({},g):G.isArray(g)?g.slice():g}function i(m,g,y,b){if(G.isUndefined(g)){if(!G.isUndefined(m))return r(void 0,m,y,b)}else return r(m,g,y,b)}function l(m,g){if(!G.isUndefined(g))return r(void 0,g)}function c(m,g){if(G.isUndefined(g)){if(!G.isUndefined(m))return r(void 0,m)}else return r(void 0,g)}function f(m,g,y){if(y in e)return r(m,g);if(y in t)return r(void 0,m)}const h={url:l,method:l,data:l,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:f,headers:(m,g,y)=>i(Q0(m),Q0(g),y,!0)};return G.forEach(Object.keys({...t,...e}),function(g){const y=h[g]||i,b=y(t[g],e[g],g);G.isUndefined(b)&&y!==f||(a[g]=b)}),a}const o1=t=>{const e=Cs({},t);let{data:a,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:l,headers:c,auth:f}=e;if(e.headers=c=Wt.from(c),e.url=t1(i1(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),f&&c.set("Authorization","Basic "+btoa((f.username||"")+":"+(f.password?unescape(encodeURIComponent(f.password)):""))),G.isFormData(a)){if(kt.hasStandardBrowserEnv||kt.hasStandardBrowserWebWorkerEnv)c.setContentType(void 0);else if(G.isFunction(a.getHeaders)){const h=a.getHeaders(),m=["content-type","content-length"];Object.entries(h).forEach(([g,y])=>{m.includes(g.toLowerCase())&&c.set(g,y)})}}if(kt.hasStandardBrowserEnv&&(r&&G.isFunction(r)&&(r=r(e)),r||r!==!1&&$A(e.url))){const h=i&&l&&kA.read(l);h&&c.set(i,h)}return e},CA=typeof XMLHttpRequest<"u",jA=CA&&function(t){return new Promise(function(a,r){const i=o1(t);let l=i.data;const c=Wt.from(i.headers).normalize();let{responseType:f,onUploadProgress:h,onDownloadProgress:m}=i,g,y,b,N,w;function x(){N&&N(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(g),i.signal&&i.signal.removeEventListener("abort",g)}let _=new XMLHttpRequest;_.open(i.method.toUpperCase(),i.url,!0),_.timeout=i.timeout;function C(){if(!_)return;const I=Wt.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),W={data:!f||f==="text"||f==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:I,config:t,request:_};r1(function(te){a(te),x()},function(te){r(te),x()},W),_=null}"onloadend"in _?_.onloadend=C:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(C)},_.onabort=function(){_&&(r(new Te("Request aborted",Te.ECONNABORTED,t,_)),_=null)},_.onerror=function(F){const W=F&&F.message?F.message:"Network Error",ne=new Te(W,Te.ERR_NETWORK,t,_);ne.event=F||null,r(ne),_=null},_.ontimeout=function(){let F=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const W=i.transitional||n1;i.timeoutErrorMessage&&(F=i.timeoutErrorMessage),r(new Te(F,W.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,_)),_=null},l===void 0&&c.setContentType(null),"setRequestHeader"in _&&G.forEach(c.toJSON(),function(F,W){_.setRequestHeader(W,F)}),G.isUndefined(i.withCredentials)||(_.withCredentials=!!i.withCredentials),f&&f!=="json"&&(_.responseType=i.responseType),m&&([b,w]=hu(m,!0),_.addEventListener("progress",b)),h&&_.upload&&([y,N]=hu(h),_.upload.addEventListener("progress",y),_.upload.addEventListener("loadend",N)),(i.cancelToken||i.signal)&&(g=I=>{_&&(r(!I||I.type?new Hr(null,t,_):I),_.abort(),_=null)},i.cancelToken&&i.cancelToken.subscribe(g),i.signal&&(i.signal.aborted?g():i.signal.addEventListener("abort",g)));const ee=AA(i.url);if(ee&&kt.protocols.indexOf(ee)===-1){r(new Te("Unsupported protocol "+ee+":",Te.ERR_BAD_REQUEST,t));return}_.send(l||null)})},BA=(t,e)=>{const{length:a}=t=t?t.filter(Boolean):[];if(e||a){let r=new AbortController,i;const l=function(m){if(!i){i=!0,f();const g=m instanceof Error?m:this.reason;r.abort(g instanceof Te?g:new Hr(g instanceof Error?g.message:g))}};let c=e&&setTimeout(()=>{c=null,l(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const f=()=>{t&&(c&&clearTimeout(c),c=null,t.forEach(m=>{m.unsubscribe?m.unsubscribe(l):m.removeEventListener("abort",l)}),t=null)};t.forEach(m=>m.addEventListener("abort",l));const{signal:h}=r;return h.unsubscribe=()=>G.asap(f),h}},IA=function*(t,e){let a=t.byteLength;if(a<e){yield t;return}let r=0,i;for(;r<a;)i=r+e,yield t.slice(r,i),r=i},LA=async function*(t,e){for await(const a of MA(t))yield*IA(a,e)},MA=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:a,value:r}=await e.read();if(a)break;yield r}}finally{await e.cancel()}},J0=(t,e,a,r)=>{const i=LA(t,e);let l=0,c,f=h=>{c||(c=!0,r&&r(h))};return new ReadableStream({async pull(h){try{const{done:m,value:g}=await i.next();if(m){f(),h.close();return}let y=g.byteLength;if(a){let b=l+=y;a(b)}h.enqueue(new Uint8Array(g))}catch(m){throw f(m),m}},cancel(h){return f(h),i.return()}},{highWaterMark:2})},eb=64*1024,{isFunction:Xl}=G,UA=(({Request:t,Response:e})=>({Request:t,Response:e}))(G.global),{ReadableStream:tb,TextEncoder:nb}=G.global,ab=(t,...e)=>{try{return!!t(...e)}catch{return!1}},FA=t=>{t=G.merge.call({skipUndefined:!0},UA,t);const{fetch:e,Request:a,Response:r}=t,i=e?Xl(e):typeof fetch=="function",l=Xl(a),c=Xl(r);if(!i)return!1;const f=i&&Xl(tb),h=i&&(typeof nb=="function"?(w=>x=>w.encode(x))(new nb):async w=>new Uint8Array(await new a(w).arrayBuffer())),m=l&&f&&ab(()=>{let w=!1;const x=new a(kt.origin,{body:new tb,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!x}),g=c&&f&&ab(()=>G.isReadableStream(new r("").body)),y={stream:g&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!y[w]&&(y[w]=(x,_)=>{let C=x&&x[w];if(C)return C.call(x);throw new Te(`Response type '${w}' is not supported`,Te.ERR_NOT_SUPPORT,_)})});const b=async w=>{if(w==null)return 0;if(G.isBlob(w))return w.size;if(G.isSpecCompliantForm(w))return(await new a(kt.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(G.isArrayBufferView(w)||G.isArrayBuffer(w))return w.byteLength;if(G.isURLSearchParams(w)&&(w=w+""),G.isString(w))return(await h(w)).byteLength},N=async(w,x)=>{const _=G.toFiniteNumber(w.getContentLength());return _??b(x)};return async w=>{let{url:x,method:_,data:C,signal:ee,cancelToken:I,timeout:F,onDownloadProgress:W,onUploadProgress:ne,responseType:te,headers:re,withCredentials:H="same-origin",fetchOptions:V}=o1(w),D=e||fetch;te=te?(te+"").toLowerCase():"text";let J=BA([ee,I&&I.toAbortSignal()],F),le=null;const ce=J&&J.unsubscribe&&(()=>{J.unsubscribe()});let de;try{if(ne&&m&&_!=="get"&&_!=="head"&&(de=await N(re,C))!==0){let z=new a(x,{method:"POST",body:C,duplex:"half"}),Y;if(G.isFormData(C)&&(Y=z.headers.get("content-type"))&&re.setContentType(Y),z.body){const[se,ue]=W0(de,hu(Z0(ne)));C=J0(z.body,eb,se,ue)}}G.isString(H)||(H=H?"include":"omit");const L=l&&"credentials"in a.prototype,ae={...V,signal:J,method:_.toUpperCase(),headers:re.normalize().toJSON(),body:C,duplex:"half",credentials:L?H:void 0};le=l&&new a(x,ae);let ie=await(l?D(le,V):D(x,ae));const me=g&&(te==="stream"||te==="response");if(g&&(W||me&&ce)){const z={};["status","statusText","headers"].forEach(Se=>{z[Se]=ie[Se]});const Y=G.toFiniteNumber(ie.headers.get("content-length")),[se,ue]=W&&W0(Y,hu(Z0(W),!0))||[];ie=new r(J0(ie.body,eb,se,()=>{ue&&ue(),ce&&ce()}),z)}te=te||"text";let ge=await y[G.findKey(y,te)||"text"](ie,w);return!me&&ce&&ce(),await new Promise((z,Y)=>{r1(z,Y,{data:ge,headers:Wt.from(ie.headers),status:ie.status,statusText:ie.statusText,config:w,request:le})})}catch(L){throw ce&&ce(),L&&L.name==="TypeError"&&/Load failed|fetch/i.test(L.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,w,le),{cause:L.cause||L}):Te.from(L,L&&L.code,w,le)}}},qA=new Map,l1=t=>{let e=t&&t.env||{};const{fetch:a,Request:r,Response:i}=e,l=[r,i,a];let c=l.length,f=c,h,m,g=qA;for(;f--;)h=l[f],m=g.get(h),m===void 0&&g.set(h,m=f?new Map:FA(e)),g=m;return m};l1();const vd={http:rA,xhr:jA,fetch:{get:l1}};G.forEach(vd,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const sb=t=>`- ${t}`,HA=t=>G.isFunction(t)||t===null||t===!1;function VA(t,e){t=G.isArray(t)?t:[t];const{length:a}=t;let r,i;const l={};for(let c=0;c<a;c++){r=t[c];let f;if(i=r,!HA(r)&&(i=vd[(f=String(r)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${f}'`);if(i&&(G.isFunction(i)||(i=i.get(e))))break;l[f||"#"+c]=i}if(!i){const c=Object.entries(l).map(([h,m])=>`adapter ${h} `+(m===!1?"is not supported by the environment":"is not available in the build"));let f=a?c.length>1?`since :
`+c.map(sb).join(`
`):" "+sb(c[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+f,"ERR_NOT_SUPPORT")}return i}const u1={getAdapter:VA,adapters:vd};function Th(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Hr(null,t)}function rb(t){return Th(t),t.headers=Wt.from(t.headers),t.data=wh.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),u1.getAdapter(t.adapter||go.adapter,t)(t).then(function(r){return Th(t),r.data=wh.call(t,t.transformResponse,r),r.headers=Wt.from(r.headers),r},function(r){return s1(r)||(Th(t),r&&r.response&&(r.response.data=wh.call(t,t.transformResponse,r.response),r.response.headers=Wt.from(r.response.headers))),Promise.reject(r)})}const c1="1.13.2",ku={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ku[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const ib={};ku.transitional=function(e,a,r){function i(l,c){return"[Axios v"+c1+"] Transitional option '"+l+"'"+c+(r?". "+r:"")}return(l,c,f)=>{if(e===!1)throw new Te(i(c," has been removed"+(a?" in "+a:"")),Te.ERR_DEPRECATED);return a&&!ib[c]&&(ib[c]=!0,console.warn(i(c," has been deprecated since v"+a+" and will be removed in the near future"))),e?e(l,c,f):!0}};ku.spelling=function(e){return(a,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function GA(t,e,a){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const l=r[i],c=e[l];if(c){const f=t[l],h=f===void 0||c(f,l,t);if(h!==!0)throw new Te("option "+l+" must be "+h,Te.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Te("Unknown option "+l,Te.ERR_BAD_OPTION)}}const eu={assertOptions:GA,validators:ku},Ln=eu.validators;let $s=class{constructor(e){this.defaults=e||{},this.interceptors={request:new X0,response:new X0}}async request(e,a){try{return await this._request(e,a)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const l=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?l&&!String(r.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+l):r.stack=l}catch{}}throw r}}_request(e,a){typeof e=="string"?(a=a||{},a.url=e):a=e||{},a=Cs(this.defaults,a);const{transitional:r,paramsSerializer:i,headers:l}=a;r!==void 0&&eu.assertOptions(r,{silentJSONParsing:Ln.transitional(Ln.boolean),forcedJSONParsing:Ln.transitional(Ln.boolean),clarifyTimeoutError:Ln.transitional(Ln.boolean)},!1),i!=null&&(G.isFunction(i)?a.paramsSerializer={serialize:i}:eu.assertOptions(i,{encode:Ln.function,serialize:Ln.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),eu.assertOptions(a,{baseUrl:Ln.spelling("baseURL"),withXsrfToken:Ln.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let c=l&&G.merge(l.common,l[a.method]);l&&G.forEach(["delete","get","head","post","put","patch","common"],w=>{delete l[w]}),a.headers=Wt.concat(c,l);const f=[];let h=!0;this.interceptors.request.forEach(function(x){typeof x.runWhen=="function"&&x.runWhen(a)===!1||(h=h&&x.synchronous,f.unshift(x.fulfilled,x.rejected))});const m=[];this.interceptors.response.forEach(function(x){m.push(x.fulfilled,x.rejected)});let g,y=0,b;if(!h){const w=[rb.bind(this),void 0];for(w.unshift(...f),w.push(...m),b=w.length,g=Promise.resolve(a);y<b;)g=g.then(w[y++],w[y++]);return g}b=f.length;let N=a;for(;y<b;){const w=f[y++],x=f[y++];try{N=w(N)}catch(_){x.call(this,_);break}}try{g=rb.call(this,N)}catch(w){return Promise.reject(w)}for(y=0,b=m.length;y<b;)g=g.then(m[y++],m[y++]);return g}getUri(e){e=Cs(this.defaults,e);const a=i1(e.baseURL,e.url,e.allowAbsoluteUrls);return t1(a,e.params,e.paramsSerializer)}};G.forEach(["delete","get","head","options"],function(e){$s.prototype[e]=function(a,r){return this.request(Cs(r||{},{method:e,url:a,data:(r||{}).data}))}});G.forEach(["post","put","patch"],function(e){function a(r){return function(l,c,f){return this.request(Cs(f||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:l,data:c}))}}$s.prototype[e]=a(),$s.prototype[e+"Form"]=a(!0)});let KA=class f1{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(l){a=l});const r=this;this.promise.then(i=>{if(!r._listeners)return;let l=r._listeners.length;for(;l-- >0;)r._listeners[l](i);r._listeners=null}),this.promise.then=i=>{let l;const c=new Promise(f=>{r.subscribe(f),l=f}).then(i);return c.cancel=function(){r.unsubscribe(l)},c},e(function(l,c,f){r.reason||(r.reason=new Hr(l,c,f),a(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const a=this._listeners.indexOf(e);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const e=new AbortController,a=r=>{e.abort(r)};return this.subscribe(a),e.signal.unsubscribe=()=>this.unsubscribe(a),e.signal}static source(){let e;return{token:new f1(function(i){e=i}),cancel:e}}};function YA(t){return function(a){return t.apply(null,a)}}function XA(t){return G.isObject(t)&&t.isAxiosError===!0}const Bh={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Bh).forEach(([t,e])=>{Bh[e]=t});function h1(t){const e=new $s(t),a=Hb($s.prototype.request,e);return G.extend(a,$s.prototype,e,{allOwnKeys:!0}),G.extend(a,e,null,{allOwnKeys:!0}),a.create=function(i){return h1(Cs(t,i))},a}const ut=h1(go);ut.Axios=$s;ut.CanceledError=Hr;ut.CancelToken=KA;ut.isCancel=s1;ut.VERSION=c1;ut.toFormData=$u;ut.AxiosError=Te;ut.Cancel=ut.CanceledError;ut.all=function(e){return Promise.all(e)};ut.spread=YA;ut.isAxiosError=XA;ut.mergeConfig=Cs;ut.AxiosHeaders=Wt;ut.formToJSON=t=>a1(G.isHTMLForm(t)?new FormData(t):t);ut.getAdapter=u1.getAdapter;ut.HttpStatusCode=Bh;ut.default=ut;const{Axios:xI,AxiosError:AI,CanceledError:OI,isCancel:DI,CancelToken:$I,VERSION:kI,all:RI,Cancel:zI,isAxiosError:CI,spread:jI,toFormData:BI,AxiosHeaders:II,HttpStatusCode:LI,formToJSON:MI,getAdapter:UI,mergeConfig:FI}=ut,PA="http://localhost/proyectos-musicales";class WA{constructor(){this.client=ut.create({baseURL:PA,headers:{"Content-Type":"application/json"}})}async getProyectos(e={}){const a=new URLSearchParams;return a.append("action","proyectos"),e.nombre&&a.append("nombre",e.nombre),e.destino&&a.append("destino",e.destino),e.rubros&&a.append("rubros",e.rubros),(await this.client.get(`/api.php?${a}`)).data}async getProyecto(e){return(await this.getProyectos()).find(r=>r.id===e)}async getCriterios(){return(await this.client.get("/api.php?action=criterios")).data}async guardarEvaluacion(e){return(await this.client.post("/api.php?action=evaluar",e)).data}async getEvaluaciones(e){return(await this.client.get(`/api.php?action=evaluaciones&proyecto_id=${e}`)).data}async getRanking(e=50){return(await this.client.get(`/api.php?action=ranking&limit=${e}`)).data}}const Pi=new WA;function ZA({onSelectProject:t}){const[e,a]=tt.useState([]),[r,i]=tt.useState(!0),[l,c]=tt.useState({nombre:"",destino:"",rubros:""});tt.useEffect(()=>{f()},[]);const f=async()=>{try{i(!0);const m=await Pi.getProyectos(l);a(m)}catch(m){console.error("Error cargando proyectos:",m)}finally{i(!1)}},h=async()=>{await f()};return r?A.jsxs("div",{className:"loading-state",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Cargando proyectos..."})]}):A.jsxs("div",{className:"project-list-container",children:[A.jsxs("div",{className:"filters",children:[A.jsx("input",{type:"text",placeholder:"Buscar por nombre...",value:l.nombre,onChange:m=>c({...l,nombre:m.target.value}),onKeyUp:m=>m.key==="Enter"&&h()}),A.jsxs("select",{value:l.destino,onChange:m=>{c({...l,destino:m.target.value}),h()},children:[A.jsx("option",{value:"",children:"Todos los destinos"}),A.jsx("option",{value:"INAMU",children:"INAMU"}),A.jsx("option",{value:"Otro",children:"Otro"})]}),A.jsx("button",{onClick:h,className:"btn-filter",children:"Filtrar"})]}),A.jsx("div",{className:"projects-grid",children:e.length===0?A.jsx("p",{className:"no-results",children:"No se encontraron proyectos"}):e.map(m=>A.jsxs("div",{className:"project-card",onClick:()=>t(m),children:[A.jsxs("div",{className:"project-header",children:[A.jsx("h3",{className:"project-name",children:m.nombre}),A.jsx("p",{className:"project-musical",children:m.proyecto_musical})]}),m.antecedentes_artisticos&&A.jsxs("div",{className:"project-antecedentes",children:[A.jsx("i",{className:"fas fa-award"}),A.jsxs("span",{children:[m.antecedentes_artisticos.substring(0,100),"..."]})]}),A.jsxs("div",{className:"project-meta",children:[A.jsxs("span",{className:"meta-tag",children:[A.jsx("i",{className:"fas fa-tag"})," ",m.destino]}),A.jsxs("span",{className:"meta-tag",children:[A.jsx("i",{className:"fas fa-music"})," ",m.genero_musical]}),A.jsxs("span",{className:"meta-tag",children:[A.jsx("i",{className:"fas fa-map-marker-alt"})," ",m.ciudad,", ",m.provincia]})]})]},m.id))}),A.jsxs("div",{className:"project-count",children:[e.length," proyecto",e.length!==1?"s":""]})]})}function QA({proyecto:t}){const[e,a]=tt.useState([]),[r,i]=tt.useState({}),[l,c]=tt.useState(!0),[f,h]=tt.useState(!1),m=N=>{if(!N)return{name:"Audio",icon:"fa-music"};const w=N.toLowerCase();return w.includes("youtube.com")||w.includes("youtu.be")?{name:"YouTube",icon:"fa-brands fa-youtube",color:"#FF0000"}:w.includes("spotify.com")?{name:"Spotify",icon:"fa-brands fa-spotify",color:"#1DB954"}:w.includes("soundcloud.com")?{name:"SoundCloud",icon:"fa-brands fa-soundcloud",color:"#FF5500"}:w.includes("bandcamp.com")?{name:"Bandcamp",icon:"fa-brands fa-bandcamp",color:"#629aa9"}:w.includes("apple.com")||w.includes("music.apple")?{name:"Apple Music",icon:"fa-brands fa-apple",color:"#FA243C"}:w.includes("deezer.com")?{name:"Deezer",icon:"fa-brands fa-deezer",color:"#FF0092"}:{name:"Audio",icon:"fa-music",color:"#667eea"}};tt.useEffect(()=>{g()},[t]);const g=async()=>{try{c(!0);const[N,w]=await Promise.all([Pi.getCriterios(),Pi.getEvaluaciones(t.id)]);a(N);const x={};w.forEach(_=>{x[_.criterio_id]=_.puntaje}),i(x)}catch(N){console.error("Error cargando datos:",N)}finally{c(!1)}},y=async(N,w)=>{try{h(!0),await Pi.guardarEvaluacion({proyecto_id:t.id,criterio_id:N,puntaje:w}),i(x=>({...x,[N]:w})),b("Evaluacin guardada correctamente","success")}catch(x){console.error("Error guardando evaluacin:",x),b("Error al guardar la evaluacin","error")}finally{h(!1)}},b=(N,w)=>{const x=document.createElement("div");x.className=`toast toast-${w}`,x.textContent=N,document.body.appendChild(x),setTimeout(()=>x.remove(),3e3)};return l?A.jsx("div",{className:"loading",children:"Cargando evaluacin..."}):A.jsxs("div",{className:"evaluation-form",children:[A.jsxs("div",{className:"project-details",children:[A.jsx("h2",{children:t.proyecto_musical}),A.jsx("p",{className:"artist-name",children:t.nombre}),A.jsxs("div",{className:"detail-grid",children:[A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Destino"}),A.jsx("span",{className:"detail-value",children:t.destino})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Gnero Musical"}),A.jsx("span",{className:"detail-value",children:t.genero_musical})]}),A.jsxs("div",{className:"detail-item",children:[A.jsx("span",{className:"detail-label",children:"Ubicacin"}),A.jsxs("span",{className:"detail-value",children:[t.ciudad,", ",t.provincia]})]})]}),(t.otras_convocatorias>0||t.solicitudes_otorgadas>0)&&A.jsxs("div",{className:"historial-convocatorias",children:[A.jsxs("h4",{children:[A.jsx("i",{className:"fas fa-history"})," Historial de Convocatorias"]}),A.jsxs("div",{className:"historial-grid",children:[A.jsxs("div",{className:"historial-item",children:[A.jsx("div",{className:"historial-icon presentaciones",children:A.jsx("i",{className:"fas fa-file-alt"})}),A.jsxs("div",{className:"historial-info",children:[A.jsx("span",{className:"historial-label",children:"Veces Presentado"}),A.jsx("span",{className:"historial-value",children:t.otras_convocatorias||0}),A.jsxs("small",{className:"historial-note",children:["Bonus: +",Math.floor((t.otras_convocatorias||0)/3)," punto(s)"]})]})]}),A.jsxs("div",{className:"historial-item",children:[A.jsx("div",{className:"historial-icon premios",children:A.jsx("i",{className:"fas fa-trophy"})}),A.jsxs("div",{className:"historial-info",children:[A.jsx("span",{className:"historial-label",children:"Veces Ganador"}),A.jsx("span",{className:"historial-value",children:t.solicitudes_otorgadas||0}),A.jsxs("small",{className:"historial-note penalizacion",children:["Penalizacin: ",t.solicitudes_otorgadas?`-${t.solicitudes_otorgadas*2}`:"0"," punto(s)"]})]})]}),A.jsxs("div",{className:"historial-item ajuste-total",children:[A.jsx("div",{className:"historial-icon ajuste",children:A.jsx("i",{className:"fas fa-calculator"})}),A.jsxs("div",{className:"historial-info",children:[A.jsx("span",{className:"historial-label",children:"Ajuste Total"}),A.jsxs("span",{className:`historial-value ${Math.floor((t.otras_convocatorias||0)/3)-(t.solicitudes_otorgadas||0)*2>0?"positive":Math.floor((t.otras_convocatorias||0)/3)-(t.solicitudes_otorgadas||0)*2<0?"negative":""}`,children:[Math.floor((t.otras_convocatorias||0)/3)-(t.solicitudes_otorgadas||0)*2>0?"+":"",Math.floor((t.otras_convocatorias||0)/3)-(t.solicitudes_otorgadas||0)*2," puntos"]}),A.jsx("small",{className:"historial-note",children:"Se sumar al puntaje final"})]})]})]})]}),t.antecedentes_artisticos&&A.jsxs("div",{className:"detail-full",children:[A.jsxs("span",{className:"detail-label",children:[A.jsx("i",{className:"fas fa-award"})," Antecedentes Artsticos"]}),A.jsx("p",{className:"detail-value",children:t.antecedentes_artisticos})]}),t.sinopsis&&A.jsxs("div",{className:"detail-full",children:[A.jsx("span",{className:"detail-label",children:"Sinopsis"}),A.jsx("p",{className:"detail-value",children:t.sinopsis})]}),(t.link_audio||t.link_audio2)&&A.jsxs("div",{className:"detail-full",children:[A.jsxs("span",{className:"detail-label",children:[A.jsx("i",{className:"fas fa-headphones"})," Material de Audio"]}),A.jsxs("div",{className:"audio-links",children:[t.link_audio&&(()=>{const N=m(t.link_audio);return A.jsxs("a",{href:t.link_audio,target:"_blank",rel:"noopener noreferrer",className:"audio-link",style:{background:`linear-gradient(135deg, ${N.color||"#667eea"} 0%, ${N.color?N.color+"cc":"#764ba2"} 100%)`},children:[A.jsx("i",{className:N.icon}),A.jsxs("div",{className:"audio-link-info",children:[A.jsx("strong",{children:N.name}),A.jsx("small",{children:t.link_audio})]}),A.jsx("i",{className:"fas fa-external-link-alt"})]})})(),t.link_audio2&&(()=>{const N=m(t.link_audio2);return A.jsxs("a",{href:t.link_audio2,target:"_blank",rel:"noopener noreferrer",className:"audio-link",style:{background:`linear-gradient(135deg, ${N.color||"#667eea"} 0%, ${N.color?N.color+"cc":"#764ba2"} 100%)`},children:[A.jsx("i",{className:N.icon}),A.jsxs("div",{className:"audio-link-info",children:[A.jsx("strong",{children:N.name}),A.jsx("small",{children:t.link_audio2})]}),A.jsx("i",{className:"fas fa-external-link-alt"})]})})()]})]})]}),A.jsxs("div",{className:"criteria-evaluation",children:[A.jsxs("h3",{children:[A.jsx("i",{className:"fas fa-star"})," Evaluacin por Criterios"]}),e.map(N=>A.jsxs("div",{className:"criterion-group",children:[A.jsxs("div",{className:"criterion-header",children:[A.jsx("span",{className:"criterion-name",children:N.nombre}),A.jsxs("span",{className:"criterion-weight",children:["Peso: ",N.peso,"x"]})]}),A.jsx("p",{className:"criterion-description",children:N.descripcion}),A.jsx("div",{className:"score-buttons",children:[1,2,3,4,5,6,7,8,9,10].map(w=>A.jsx("button",{className:`score-btn ${r[N.id]===w?"selected":""} ${w<=4?"low":w>=8?"high":""}`,onClick:()=>y(N.id,w),disabled:f,children:w},w))}),A.jsx("div",{className:"current-score",children:r[N.id]?A.jsxs("span",{children:["Puntuacin actual: ",A.jsxs("strong",{children:[r[N.id],"/10"]})]}):A.jsx("span",{className:"no-score",children:"Sin puntuar"})})]},N.id))]})]})}function JA(){const[t,e]=tt.useState([]),[a,r]=tt.useState(!0),[i,l]=tt.useState(50);tt.useEffect(()=>{c()},[i]);const c=async()=>{try{r(!0);const h=await Pi.getRanking(i);e(h)}catch(h){console.error("Error cargando ranking:",h)}finally{r(!1)}},f=h=>h>=8?"score-high":h>=6?"score-medium":h>0?"score-low":"score-none";return a?A.jsxs("div",{className:"loading-state",children:[A.jsx("div",{className:"spinner"}),A.jsx("p",{children:"Cargando ranking..."})]}):A.jsxs("div",{className:"ranking-container",children:[A.jsxs("div",{className:"ranking-header",children:[A.jsxs("h2",{children:[A.jsx("i",{className:"fas fa-trophy"})," Ranking de Proyectos"]}),A.jsx("div",{className:"ranking-controls",children:A.jsxs("label",{children:["Mostrar:",A.jsxs("select",{value:i,onChange:h=>l(Number(h.target.value)),children:[A.jsx("option",{value:10,children:"Top 10"}),A.jsx("option",{value:25,children:"Top 25"}),A.jsx("option",{value:50,children:"Top 50"}),A.jsx("option",{value:100,children:"Top 100"})]})]})})]}),A.jsx("div",{className:"ranking-table-container",children:A.jsxs("table",{className:"ranking-table",children:[A.jsx("thead",{children:A.jsxs("tr",{children:[A.jsx("th",{children:"Pos."}),A.jsx("th",{children:"Proyecto Musical"}),A.jsx("th",{children:"Artista"}),A.jsx("th",{children:"Ubicacin"}),A.jsx("th",{children:"Puntaje Base"}),A.jsx("th",{children:"Ajuste Historial"}),A.jsx("th",{children:"Puntaje Final"}),A.jsx("th",{children:"Estado"})]})}),A.jsx("tbody",{children:t.map((h,m)=>A.jsxs("tr",{className:`ranking-row ${m<3?"top-three":""}`,children:[A.jsxs("td",{className:"ranking-position",children:[m+1,m===0&&A.jsx("i",{className:"fas fa-crown gold"}),m===1&&A.jsx("i",{className:"fas fa-medal silver"}),m===2&&A.jsx("i",{className:"fas fa-medal bronze"})]}),A.jsxs("td",{children:[A.jsx("strong",{children:h.proyecto_musical}),A.jsx("br",{}),A.jsx("small",{children:h.genero_musical})]}),A.jsx("td",{children:h.nombre}),A.jsxs("td",{children:[h.ciudad,", ",h.provincia]}),A.jsx("td",{children:A.jsx("span",{className:`score-badge ${f(h.puntaje_base||0)}`,children:h.puntaje_base&&h.puntaje_base>0?Number(h.puntaje_base).toFixed(2):"-"})}),A.jsxs("td",{children:[A.jsxs("span",{className:`adjustment ${(h.ajuste_historial||0)>0?"positive":(h.ajuste_historial||0)<0?"negative":""}`,children:[(h.ajuste_historial||0)>0?"+":"",Number(h.ajuste_historial||0).toFixed(2)]}),A.jsx("br",{}),A.jsxs("small",{children:[h.veces_presentado>0&&`${h.veces_presentado} presentaciones`,h.veces_ganador>0&&`, ${h.veces_ganador} premios`]})]}),A.jsx("td",{children:A.jsx("span",{className:`score-final ${f(h.puntaje_final||0)}`,children:h.puntaje_final&&h.puntaje_final>0?Number(h.puntaje_final).toFixed(2):"Sin evaluar"})}),A.jsxs("td",{children:[A.jsx("span",{className:`status-badge status-${h.estado_evaluacion.toLowerCase()}`,children:h.estado_evaluacion}),A.jsx("br",{}),A.jsxs("small",{children:[h.criterios_evaluados,"/",h.total_criterios," criterios"]})]})]},h.id))})]})}),t.length===0&&A.jsxs("div",{className:"no-data",children:[A.jsx("i",{className:"fas fa-info-circle"}),A.jsx("p",{children:"No hay proyectos evaluados an"})]})]})}var Ki={exports:{}};const e3=1e-7,t3=1e-4;class n3{constructor(e,a){this.backend=e,this.dataMover=a,this.data=new WeakMap,this.dataIdsCount=0}get(e){return this.data.has(e)||this.dataMover.moveData(this.backend,e),this.data.get(e)}set(e,a){this.dataIdsCount++,this.data.set(e,a)}has(e){return this.data.has(e)}delete(e){return this.dataIdsCount--,this.data.delete(e)}numDataIds(){return this.dataIdsCount}}class d1{refCount(e){return Gt("refCount")}incRef(e){return Gt("incRef")}timerAvailable(){return!0}time(e){return Gt("time")}read(e){return Gt("read")}readSync(e){return Gt("readSync")}readToGPU(e,a){return Gt("readToGPU")}numDataIds(){return Gt("numDataIds")}disposeData(e,a){return Gt("disposeData")}write(e,a,r){return Gt("write")}move(e,a,r,i,l){return Gt("move")}createTensorFromGPUData(e,a,r){return Gt("createTensorFromGPUData")}memory(){return Gt("memory")}floatPrecision(){return Gt("floatPrecision")}epsilon(){return this.floatPrecision()===32?e3:t3}dispose(){return Gt("dispose")}}function Gt(t){throw new Error(`'${t}' not yet implemented or not found in the registry. This kernel may not be supported by the tfjs backend you have chosen`)}function m1(t){let e=t.length,a=0;for(;e>0;)a=Math.random()*e|0,e--,du(t,e,a)}function a3(t,e){if(t.length!==e.length)throw new Error(`Array sizes must match to be shuffled together First array length was ${t.length}Second array length was ${e.length}`);let a=t.length,r=0;for(;a>0;)r=Math.random()*a|0,a--,du(t,a,r),du(e,a,r)}function Qi(t,e,a){return Math.max(t,Math.min(e,a))}function s3(t){return t%2===0?t:t+1}function du(t,e,a){const r=t[e];t[e]=t[a],t[a]=r}function r3(t){let e=0;for(let a=0;a<t.length;a++)e+=t[a];return e}function i3(t,e){const a=Math.random();return e*a+(1-a)*t}function o3(t,e){let a=0;for(let r=0;r<t.length;r++){const i=Number(t[r])-Number(e[r]);a+=i*i}return a}function O(t,e){if(!t)throw new Error(typeof e=="string"?e:e())}function Ct(t,e,a=""){O(kn(t,e),()=>a+` Shapes ${t} and ${e} must match`)}function qs(t){O(t!=null,()=>"The input to the tensor constructor must be a non-null value.")}function Fe(t){if(t.length===0)return 1;let e=t[0];for(let a=1;a<t.length;a++)e*=t[a];return e}function l3(t){return t.length===0}function p1(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==null&&e[a]!==null&&t[a]!==e[a])return!1;return!0}function kn(t,e){if(t===e)return!0;if(t==null||e==null||t.length!==e.length)return!1;for(let a=0;a<t.length;a++)if(t[a]!==e[a])return!1;return!0}function Cr(t){return t%1===0}function u3(t){if(Math.tanh!=null)return Math.tanh(t);if(t===1/0)return 1;if(t===-1/0)return-1;{const e=Math.exp(2*t);return(e-1)/(e+1)}}function c3(t){const e=Math.ceil(Math.sqrt(t));return[e,Math.ceil(t/e)]}function f3(t){const e=new Uint32Array(t);for(let a=0;a<t;++a)e[a]=a;return m1(e),e}function Wi(t,e){return e<=t.length?t:t+" ".repeat(e-t.length)}function h3(t,e=i=>0,a,r){return new Promise((i,l)=>{let c=0;const f=()=>{if(t()){i();return}c++;const h=e(c);if(a!=null&&c>=a){l();return}r!=null?r(f,h):setTimeout(f,h)};f()})}function d3(t,e){let a=1,r=-1;for(let l=0;l<t.length;++l)if(t[l]>=0)a*=t[l];else if(t[l]===-1){if(r!==-1)throw Error(`Shapes can only have 1 implicit size. Found -1 at dim ${r} and dim ${l}`);r=l}else if(t[l]<0)throw Error(`Shapes can not be < 0. Found ${t[l]} at dim ${l}`);if(r===-1){if(e>0&&e!==a)throw Error(`Size(${e}) must match the product of shape ${t}`);return t}if(a===0)throw Error(`Cannot infer the missing size in [${t}] when there are 0 elements`);if(e%a!==0)throw Error(`The implicit shape can't be a fractional number. Got ${e} / ${a}`);const i=t.slice();return i[r]=e/a,i}function yo(t,e){const a=e.length;return t=t==null?e.map((r,i)=>i):[].concat(t),O(t.every(r=>r>=-a&&r<a),()=>`All values in axis param must be in range [-${a}, ${a}) but got axis ${t}`),O(t.every(r=>Cr(r)),()=>`All values in axis param must be integers but got axis ${t}`),t.map(r=>r<0?a+r:r)}function g1(t,e){const a=[],r=[],i=e!=null&&Array.isArray(e)&&e.length===0,l=e==null||i?null:yo(e,t).sort();let c=0;for(let f=0;f<t.length;++f){if(l!=null){if(l[c]===f&&t[f]!==1)throw new Error(`Can't squeeze axis ${f} since its dim '${t[f]}' is not 1`);(l[c]==null||l[c]>f)&&t[f]===1&&(a.push(t[f]),r.push(f)),l[c]<=f&&c++}t[f]!==1&&(a.push(t[f]),r.push(f))}return{newShape:a,keptDims:r}}function y1(t,e){return Sd(t,e)}function Sd(t,e){let a=null;if(t==null||t==="float32")a=new Float32Array(e);else if(t==="int32")a=new Int32Array(e);else if(t==="bool")a=new Uint8Array(e);else if(t==="string")a=new Array(e);else throw new Error(`Unknown data type ${t}`);return a}function b1(t,e){for(let a=0;a<t.length;a++){const r=t[a];if(isNaN(r)||!isFinite(r))throw Error(`A tensor of type ${e} being uploaded contains ${r}.`)}}function v1(t){return t==="bool"||t==="complex64"||t==="float32"||t==="int32"||t==="string"}function m3(t,e){return!(e==="complex64"||e==="float32"&&t!=="complex64"||e==="int32"&&t!=="float32"&&t!=="complex64"||e==="bool"&&t==="bool")}function mu(t){if(t==="float32"||t==="int32")return 4;if(t==="complex64")return 8;if(t==="bool")return 1;throw new Error(`Unknown dtype ${t}`)}function S1(t){if(t==null)return 0;let e=0;return t.forEach(a=>e+=a.length),e}function Ga(t){return typeof t=="string"||t instanceof String}function N1(t){return typeof t=="boolean"}function w1(t){return typeof t=="number"}function bo(t){return Array.isArray(t)?bo(t[0]):t instanceof Float32Array?"float32":t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray?"int32":w1(t)?"float32":Ga(t)?"string":N1(t)?"bool":"float32"}function Pa(t){return!!(t&&t.constructor&&t.call&&t.apply)}function pu(t,e){for(let a=e;a<t;++a)if(t%a===0)return a;return t}function Vr(t){const e=t.length;if(e<2)return[];const a=new Array(e-1);a[e-2]=t[e-1];for(let r=e-3;r>=0;--r)a[r]=a[r+1]*t[r+1];return a}function T1(t,e,a,r=!1){const i=new Array;if(e.length===1){const l=e[0]*(r?2:1);for(let c=0;c<l;c++)i[c]=a[t+c]}else{const l=e[0],c=e.slice(1),f=c.reduce((h,m)=>h*m)*(r?2:1);for(let h=0;h<l;h++)i[h]=T1(t+h*f,c,a,r)}return i}function ks(t,e,a=!1){if(t.length===0)return e[0];const r=t.reduce((i,l)=>i*l)*(a?2:1);if(r===0)return[];if(r!==e.length)throw new Error(`[${t}] does not match the input size ${e.length}${a?" for a complex tensor":""}.`);return T1(0,t,e,a)}function p3(t,e){if(Array.isArray(t))return t;if(e==="float32")return t instanceof Float32Array?t:new Float32Array(t);if(e==="int32")return t instanceof Int32Array?t:new Int32Array(t);if(e==="bool"||e==="string")return Uint8Array.from(new Int32Array(t));throw new Error(`Unknown dtype ${e}`)}function Nd(t,e){const a=Ru(t,e);for(let r=0;r<a.length;r++)a[r]=1;return a}function Ru(t,e){if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool")return new Uint8Array(t);throw new Error(`Unknown data type ${e}`)}function g3(t,e){const a=t.reduce((r,i)=>r*i,1);if(e==null||e==="float32")return ks(t,new Float32Array(a));if(e==="int32")return ks(t,new Int32Array(a));if(e==="bool")return ks(t,new Uint8Array(a));throw new Error(`Unknown data type ${e}`)}function Qt(t){t.forEach(e=>{O(Number.isInteger(e)&&e>=0,()=>`Tensor must have a shape comprised of positive integers but got shape [${t}].`)})}function y3(t,e,a){if(e===0)return 0;if(e===1)return t[0];let r=t[t.length-1];for(let i=0;i<t.length-1;++i)r+=a[i]*t[i];return r}function b3(t,e,a){if(e===0)return[];if(e===1)return[t];const r=new Array(e);for(let i=0;i<r.length-1;++i)r[i]=Math.floor(t/a[i]),t-=r[i]*a[i];return r[r.length-1]=t,r}function Wa(t){return t&&t.then&&typeof t.then=="function"}const ob="tfjsflags";class E1{constructor(e){this.global=e,this.flags={},this.flagRegistry={},this.urlFlags={},this.getQueryParams=v3,this.populateURLFlags()}setPlatform(e,a){this.platform!=null&&(ve().getBool("IS_TEST")||ve().getBool("PROD")||console.warn(`Platform ${this.platformName} has already been set. Overwriting the platform with ${e}.`)),this.platformName=e,this.platform=a}registerFlag(e,a,r){if(this.flagRegistry[e]={evaluationFn:a,setHook:r},this.urlFlags[e]!=null){const i=this.urlFlags[e];ve().getBool("IS_TEST")||ve().getBool("PROD")||console.warn(`Setting feature override from URL ${e}: ${i}.`),this.set(e,i)}}async getAsync(e){return e in this.flags?this.flags[e]:(this.flags[e]=await this.evaluateFlag(e),this.flags[e])}get(e){if(e in this.flags)return this.flags[e];const a=this.evaluateFlag(e);if(Wa(a))throw new Error(`Flag ${e} cannot be synchronously evaluated. Please use getAsync() instead.`);return this.flags[e]=a,this.flags[e]}getNumber(e){return this.get(e)}getBool(e){return this.get(e)}getString(e){return this.get(e)}getFlags(){return this.flags}get features(){return this.flags}set(e,a){if(this.flagRegistry[e]==null)throw new Error(`Cannot set flag ${e} as it has not been registered.`);this.flags[e]=a,this.flagRegistry[e].setHook!=null&&this.flagRegistry[e].setHook(a)}evaluateFlag(e){if(this.flagRegistry[e]==null)throw new Error(`Cannot evaluate flag '${e}': no evaluation function found.`);return this.flagRegistry[e].evaluationFn()}setFlags(e){this.flags=Object.assign({},e)}reset(){this.flags={},this.urlFlags={},this.populateURLFlags()}populateURLFlags(){if(typeof this.global>"u"||typeof this.global.location>"u"||typeof this.global.location.search>"u")return;const e=this.getQueryParams(this.global.location.search);ob in e&&e[ob].split(",").forEach(r=>{const[i,l]=r.split(":");this.urlFlags[i]=N3(i,l)})}}function v3(t){const e={};return t.replace(/[?&]([^=?&]+)(?:=([^&]*))?/g,(a,...r)=>(S3(e,r[0],r[1]),r.join("="))),e}function S3(t,e,a){t[decodeURIComponent(e)]=decodeURIComponent(a||"")}function N3(t,e){const a=e.toLowerCase();return a==="true"||a==="false"?a==="true":`${+a}`===a?+a:e}function ve(){return wd}let wd=null;function w3(t){wd=t}let Eh;function _1(){if(Eh==null){let t;if(typeof window<"u")t=window;else if(typeof global<"u")t=global;else if(typeof process<"u")t=process;else if(typeof self<"u")t=self;else throw new Error("Could not find a global object");Eh=t}return Eh}function T3(){const t=_1();return t._tfGlobals==null&&(t._tfGlobals=new Map),t._tfGlobals}function Td(t,e){const a=T3();if(a.has(t))return a.get(t);{const r=e();return a.set(t,r),a.get(t)}}const x1="Abs",A1="Acos",O1="Acosh",Ed="Add",D1="AddN",$1="All",k1="Any",R1="ArgMax",z1="ArgMin",C1="Asin",j1="Asinh",B1="Atan",I1="Atanh",L1="Atan2",M1="AvgPool",E3="AvgPoolGrad",U1="AvgPool3D",_3="AvgPool3DGrad",F1="BatchMatMul",q1="BatchToSpaceND",H1="Bincount",V1="BitwiseAnd",x3="BroadcastTo",G1="BroadcastArgs",_d="Cast",K1="Ceil",Y1="ClipByValue",X1="Complex",P1="ComplexAbs",W1="Concat",Z1="Conv2D",Q1="Conv2DBackpropFilter",J1="Conv2DBackpropInput",ev="Conv3D",A3="Conv3DBackpropFilterV2",tv="Conv3DBackpropInputV2",nv="Cos",av="Cosh",sv="Cumprod",rv="Cumsum",iv="CropAndResize",ov="DenseBincount",lv="DepthToSpace",uv="DepthwiseConv2dNative",cv="DepthwiseConv2dNativeBackpropFilter",fv="DepthwiseConv2dNativeBackpropInput",hv="Diag",dv="Dilation2D",O3="Dilation2DBackpropInput",D3="Dilation2DBackpropFilter",xd="Draw",mv="RealDiv",pv="Einsum",gv="Elu",$3="EluGrad",yv="Erf",bv="Equal",vv="Exp",Sv="ExpandDims",Nv="Expm1",wv="FFT",Tv="Fill",Ev="FlipLeftRight",_v="Floor",xv="FloorDiv",Av="FusedBatchNorm",Ov="GatherV2",Dv="GatherNd",$v="Greater",kv="GreaterEqual",Ad="Identity",Rv="IFFT",zv="Imag",Cv="IsFinite",jv="IsInf",Bv="IsNan",Iv="LeakyRelu",Lv="Less",Mv="LessEqual",Uv="LinSpace",Fv="Log",qv="Log1p",Hv="LogicalAnd",Vv="LogicalNot",Gv="LogicalOr",k3="LogicalXor",R3="LogSoftmax",z3="LowerBound",Kv="LRN",C3="LRNGrad",j3="MatrixBandPart",Yv="Max",Xv="Maximum",Pv="MaxPool",B3="MaxPoolGrad",Wv="MaxPool3D",I3="MaxPool3DGrad",Zv="MaxPoolWithArgmax",Qv="Mean",Jv="Min",eS="Minimum",tS="MirrorPad",nS="Mod",aS="Multinomial",sS="Multiply",rS="Neg",iS="NotEqual",oS="NonMaxSuppressionV3",lS="NonMaxSuppressionV4",uS="NonMaxSuppressionV5",cS="OnesLike",fS="OneHot",hS="Pack",dS="PadV2",L3="Pool",mS="Pow",pS="Prelu",gS="Prod",yS="RaggedGather",bS="RaggedRange",vS="RaggedTensorToTensor",SS="Range",NS="Real",wS="Reciprocal",TS="Relu",ES="Reshape",_S="ResizeNearestNeighbor",M3="ResizeNearestNeighborGrad",xS="ResizeBilinear",U3="ResizeBilinearGrad",AS="Relu6",OS="Reverse",DS="Round",$S="Rsqrt",kS="ScatterNd",RS="TensorScatterUpdate",zS="SearchSorted",CS="Select",jS="Selu",BS="Slice",IS="Sin",LS="Sinh",MS="Sign",US="Sigmoid",FS="Softplus",qS="Sqrt",HS="Sum",VS="SpaceToBatchND",GS="SplitV",KS="Softmax",YS="SparseFillEmptyRows",XS="SparseReshape",PS="SparseSegmentMean",WS="SparseSegmentSum",ZS="SparseToDense",QS="SquaredDifference",F3="Square",JS="StaticRegexReplace",eN="StridedSlice",tN="StringNGrams",nN="StringSplit",aN="StringToHashBucketFast",sN="Sub",rN="Tan",iN="Tanh",Od="Tile",oN="TopK",lN="Transform",tu="Transpose",uN="Unique",cN="Unpack",fN="UnsortedSegmentSum",q3="UpperBound",hN="ZerosLike",dN="Step",Ih="FromPixels",mN="RotateWithOffset",Lh="_FusedMatMul",Mh="FusedConv2D",Uh="FusedDepthwiseConv2D";function Ha(...t){ve().getBool("IS_TEST")||ve().getBool("PROD")||console.warn(...t)}function H3(...t){ve().getBool("IS_TEST")||ve().getBool("PROD")||console.log(...t)}const jr=Td("kernelRegistry",()=>new Map),Ji=Td("gradRegistry",()=>new Map);function eo(t,e){const a=Dd(t,e);return jr.get(a)}function Fh(t){return Ji.get(t)}function gu(t){const e=jr.entries(),a=[];for(;;){const{done:r,value:i}=e.next();if(r)break;const[l,c]=i,[f]=l.split("_");f===t&&a.push(c)}return a}function pN(t){const{kernelName:e,backendName:a}=t,r=Dd(e,a);jr.has(r)&&Ha(`The kernel '${e}' for backend '${a}' is already registered`),jr.set(r,t)}function V3(t){const{kernelName:e}=t;Ji.has(e)&&ve().getBool("DEBUG")&&Ha(`Overriding the gradient for '${e}'`),Ji.set(e,t)}function G3(t,e){const a=Dd(t,e);if(!jr.has(a))throw new Error(`The kernel '${t}' for backend '${e}' is not registered`);jr.delete(a)}function K3(t){if(!Ji.has(t))throw new Error(`The gradient '${t}' for backend is not registered`);Ji.delete(t)}function Y3(t,e){gu(t).forEach(r=>{const i=Object.assign({},r,{backendName:e});pN(i)})}function Dd(t,e){return`${e}_${t}`}function gN(t){return t instanceof Float32Array||t instanceof Int32Array||t instanceof Uint8Array||t instanceof Uint8ClampedArray}var _h,lb;function X3(){if(lb)return _h;lb=1,_h=e;var t=null;try{t=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function e(V,D,J){this.low=V|0,this.high=D|0,this.unsigned=!!J}e.prototype.__isLong__,Object.defineProperty(e.prototype,"__isLong__",{value:!0});function a(V){return(V&&V.__isLong__)===!0}e.isLong=a;var r={},i={};function l(V,D){var J,le,ce;return D?(V>>>=0,(ce=0<=V&&V<256)&&(le=i[V],le)?le:(J=f(V,(V|0)<0?-1:0,!0),ce&&(i[V]=J),J)):(V|=0,(ce=-128<=V&&V<128)&&(le=r[V],le)?le:(J=f(V,V<0?-1:0,!1),ce&&(r[V]=J),J))}e.fromInt=l;function c(V,D){if(isNaN(V))return D?ee:C;if(D){if(V<0)return ee;if(V>=w)return te}else{if(V<=-x)return re;if(V+1>=x)return ne}return V<0?c(-V,D).neg():f(V%N|0,V/N|0,D)}e.fromNumber=c;function f(V,D,J){return new e(V,D,J)}e.fromBits=f;var h=Math.pow;function m(V,D,J){if(V.length===0)throw Error("empty string");if(V==="NaN"||V==="Infinity"||V==="+Infinity"||V==="-Infinity")return C;if(typeof D=="number"?(J=D,D=!1):D=!!D,J=J||10,J<2||36<J)throw RangeError("radix");var le;if((le=V.indexOf("-"))>0)throw Error("interior hyphen");if(le===0)return m(V.substring(1),D,J).neg();for(var ce=c(h(J,8)),de=C,L=0;L<V.length;L+=8){var ae=Math.min(8,V.length-L),ie=parseInt(V.substring(L,L+ae),J);if(ae<8){var me=c(h(J,ae));de=de.mul(me).add(c(ie))}else de=de.mul(ce),de=de.add(c(ie))}return de.unsigned=D,de}e.fromString=m;function g(V,D){return typeof V=="number"?c(V,D):typeof V=="string"?m(V,D):f(V.low,V.high,typeof D=="boolean"?D:V.unsigned)}e.fromValue=g;var y=65536,b=1<<24,N=y*y,w=N*N,x=w/2,_=l(b),C=l(0);e.ZERO=C;var ee=l(0,!0);e.UZERO=ee;var I=l(1);e.ONE=I;var F=l(1,!0);e.UONE=F;var W=l(-1);e.NEG_ONE=W;var ne=f(-1,2147483647,!1);e.MAX_VALUE=ne;var te=f(-1,-1,!0);e.MAX_UNSIGNED_VALUE=te;var re=f(0,-2147483648,!1);e.MIN_VALUE=re;var H=e.prototype;return H.toInt=function(){return this.unsigned?this.low>>>0:this.low},H.toNumber=function(){return this.unsigned?(this.high>>>0)*N+(this.low>>>0):this.high*N+(this.low>>>0)},H.toString=function(D){if(D=D||10,D<2||36<D)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(re)){var J=c(D),le=this.div(J),ce=le.mul(J).sub(this);return le.toString(D)+ce.toInt().toString(D)}else return"-"+this.neg().toString(D);for(var de=c(h(D,6),this.unsigned),L=this,ae="";;){var ie=L.div(de),me=L.sub(ie.mul(de)).toInt()>>>0,ge=me.toString(D);if(L=ie,L.isZero())return ge+ae;for(;ge.length<6;)ge="0"+ge;ae=""+ge+ae}},H.getHighBits=function(){return this.high},H.getHighBitsUnsigned=function(){return this.high>>>0},H.getLowBits=function(){return this.low},H.getLowBitsUnsigned=function(){return this.low>>>0},H.getNumBitsAbs=function(){if(this.isNegative())return this.eq(re)?64:this.neg().getNumBitsAbs();for(var D=this.high!=0?this.high:this.low,J=31;J>0&&(D&1<<J)==0;J--);return this.high!=0?J+33:J+1},H.isZero=function(){return this.high===0&&this.low===0},H.eqz=H.isZero,H.isNegative=function(){return!this.unsigned&&this.high<0},H.isPositive=function(){return this.unsigned||this.high>=0},H.isOdd=function(){return(this.low&1)===1},H.isEven=function(){return(this.low&1)===0},H.equals=function(D){return a(D)||(D=g(D)),this.unsigned!==D.unsigned&&this.high>>>31===1&&D.high>>>31===1?!1:this.high===D.high&&this.low===D.low},H.eq=H.equals,H.notEquals=function(D){return!this.eq(D)},H.neq=H.notEquals,H.ne=H.notEquals,H.lessThan=function(D){return this.comp(D)<0},H.lt=H.lessThan,H.lessThanOrEqual=function(D){return this.comp(D)<=0},H.lte=H.lessThanOrEqual,H.le=H.lessThanOrEqual,H.greaterThan=function(D){return this.comp(D)>0},H.gt=H.greaterThan,H.greaterThanOrEqual=function(D){return this.comp(D)>=0},H.gte=H.greaterThanOrEqual,H.ge=H.greaterThanOrEqual,H.compare=function(D){if(a(D)||(D=g(D)),this.eq(D))return 0;var J=this.isNegative(),le=D.isNegative();return J&&!le?-1:!J&&le?1:this.unsigned?D.high>>>0>this.high>>>0||D.high===this.high&&D.low>>>0>this.low>>>0?-1:1:this.sub(D).isNegative()?-1:1},H.comp=H.compare,H.negate=function(){return!this.unsigned&&this.eq(re)?re:this.not().add(I)},H.neg=H.negate,H.add=function(D){a(D)||(D=g(D));var J=this.high>>>16,le=this.high&65535,ce=this.low>>>16,de=this.low&65535,L=D.high>>>16,ae=D.high&65535,ie=D.low>>>16,me=D.low&65535,ge=0,z=0,Y=0,se=0;return se+=de+me,Y+=se>>>16,se&=65535,Y+=ce+ie,z+=Y>>>16,Y&=65535,z+=le+ae,ge+=z>>>16,z&=65535,ge+=J+L,ge&=65535,f(Y<<16|se,ge<<16|z,this.unsigned)},H.subtract=function(D){return a(D)||(D=g(D)),this.add(D.neg())},H.sub=H.subtract,H.multiply=function(D){if(this.isZero())return C;if(a(D)||(D=g(D)),t){var J=t.mul(this.low,this.high,D.low,D.high);return f(J,t.get_high(),this.unsigned)}if(D.isZero())return C;if(this.eq(re))return D.isOdd()?re:C;if(D.eq(re))return this.isOdd()?re:C;if(this.isNegative())return D.isNegative()?this.neg().mul(D.neg()):this.neg().mul(D).neg();if(D.isNegative())return this.mul(D.neg()).neg();if(this.lt(_)&&D.lt(_))return c(this.toNumber()*D.toNumber(),this.unsigned);var le=this.high>>>16,ce=this.high&65535,de=this.low>>>16,L=this.low&65535,ae=D.high>>>16,ie=D.high&65535,me=D.low>>>16,ge=D.low&65535,z=0,Y=0,se=0,ue=0;return ue+=L*ge,se+=ue>>>16,ue&=65535,se+=de*ge,Y+=se>>>16,se&=65535,se+=L*me,Y+=se>>>16,se&=65535,Y+=ce*ge,z+=Y>>>16,Y&=65535,Y+=de*me,z+=Y>>>16,Y&=65535,Y+=L*ie,z+=Y>>>16,Y&=65535,z+=le*ge+ce*me+de*ie+L*ae,z&=65535,f(se<<16|ue,z<<16|Y,this.unsigned)},H.mul=H.multiply,H.divide=function(D){if(a(D)||(D=g(D)),D.isZero())throw Error("division by zero");if(t){if(!this.unsigned&&this.high===-2147483648&&D.low===-1&&D.high===-1)return this;var J=(this.unsigned?t.div_u:t.div_s)(this.low,this.high,D.low,D.high);return f(J,t.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?ee:C;var le,ce,de;if(this.unsigned){if(D.unsigned||(D=D.toUnsigned()),D.gt(this))return ee;if(D.gt(this.shru(1)))return F;de=ee}else{if(this.eq(re)){if(D.eq(I)||D.eq(W))return re;if(D.eq(re))return I;var L=this.shr(1);return le=L.div(D).shl(1),le.eq(C)?D.isNegative()?I:W:(ce=this.sub(D.mul(le)),de=le.add(ce.div(D)),de)}else if(D.eq(re))return this.unsigned?ee:C;if(this.isNegative())return D.isNegative()?this.neg().div(D.neg()):this.neg().div(D).neg();if(D.isNegative())return this.div(D.neg()).neg();de=C}for(ce=this;ce.gte(D);){le=Math.max(1,Math.floor(ce.toNumber()/D.toNumber()));for(var ae=Math.ceil(Math.log(le)/Math.LN2),ie=ae<=48?1:h(2,ae-48),me=c(le),ge=me.mul(D);ge.isNegative()||ge.gt(ce);)le-=ie,me=c(le,this.unsigned),ge=me.mul(D);me.isZero()&&(me=I),de=de.add(me),ce=ce.sub(ge)}return de},H.div=H.divide,H.modulo=function(D){if(a(D)||(D=g(D)),t){var J=(this.unsigned?t.rem_u:t.rem_s)(this.low,this.high,D.low,D.high);return f(J,t.get_high(),this.unsigned)}return this.sub(this.div(D).mul(D))},H.mod=H.modulo,H.rem=H.modulo,H.not=function(){return f(~this.low,~this.high,this.unsigned)},H.and=function(D){return a(D)||(D=g(D)),f(this.low&D.low,this.high&D.high,this.unsigned)},H.or=function(D){return a(D)||(D=g(D)),f(this.low|D.low,this.high|D.high,this.unsigned)},H.xor=function(D){return a(D)||(D=g(D)),f(this.low^D.low,this.high^D.high,this.unsigned)},H.shiftLeft=function(D){return a(D)&&(D=D.toInt()),(D&=63)===0?this:D<32?f(this.low<<D,this.high<<D|this.low>>>32-D,this.unsigned):f(0,this.low<<D-32,this.unsigned)},H.shl=H.shiftLeft,H.shiftRight=function(D){return a(D)&&(D=D.toInt()),(D&=63)===0?this:D<32?f(this.low>>>D|this.high<<32-D,this.high>>D,this.unsigned):f(this.high>>D-32,this.high>=0?0:-1,this.unsigned)},H.shr=H.shiftRight,H.shiftRightUnsigned=function(D){if(a(D)&&(D=D.toInt()),D&=63,D===0)return this;var J=this.high;if(D<32){var le=this.low;return f(le>>>D|J<<32-D,J>>>D,this.unsigned)}else return D===32?f(J,0,this.unsigned):f(J>>>D-32,0,this.unsigned)},H.shru=H.shiftRightUnsigned,H.shr_u=H.shiftRightUnsigned,H.toSigned=function(){return this.unsigned?f(this.low,this.high,!1):this},H.toUnsigned=function(){return this.unsigned?this:f(this.low,this.high,!0)},H.toBytes=function(D){return D?this.toBytesLE():this.toBytesBE()},H.toBytesLE=function(){var D=this.high,J=this.low;return[J&255,J>>>8&255,J>>>16&255,J>>>24,D&255,D>>>8&255,D>>>16&255,D>>>24]},H.toBytesBE=function(){var D=this.high,J=this.low;return[D>>>24,D>>>16&255,D>>>8&255,D&255,J>>>24,J>>>16&255,J>>>8&255,J&255]},e.fromBytes=function(D,J,le){return le?e.fromBytesLE(D,J):e.fromBytesBE(D,J)},e.fromBytesLE=function(D,J){return new e(D[0]|D[1]<<8|D[2]<<16|D[3]<<24,D[4]|D[5]<<8|D[6]<<16|D[7]<<24,J)},e.fromBytesBE=function(D,J){return new e(D[4]<<24|D[5]<<16|D[6]<<8|D[7],D[0]<<24|D[1]<<16|D[2]<<8|D[3],J)},_h}var yN=X3();const bN=ux(yN),P3=lx({__proto__:null,default:bN},[yN]);const _s=bN||P3;function vo(t){return _s.fromString(t,!0,16)}const vN=vo("c3a5c85c97cb3127"),Es=vo("b492b66fbe98f273"),$t=vo("9ae16a3b2f90404f");function qh(t){return t.xor(t.shru(47))}function SN(t,e,a){const r=t.slice(e,e+a);return _s.fromBytes(Array.from(r),!0,!0)}function Ye(t,e){return SN(t,e,8)}function ub(t,e){return SN(t,e,4)}function gt(t,e){return e===0?t:t.shru(e).or(t.shl(64-e))}function Xa(t,e,a=vo("9ddfea08eb382d69")){let r=t.xor(e).mul(a);r=r.xor(r.shru(47));let i=e.xor(r).mul(a);return i=i.xor(i.shru(47)),i=i.mul(a),i}function W3(t,e,a,r,i,l){i=i.add(t),l=gt(l.add(i).add(r),21);const c=i;return i=i.add(e),i=i.add(a),l=l.add(gt(i,44)),[i.add(r),l.add(c)]}function Pl(t,e,a,r){return W3(Ye(t,e),Ye(t,e+8),Ye(t,e+16),Ye(t,e+24),a,r)}function Z3(t,e=t.length){if(e>=8){const a=$t.add(e*2),r=Ye(t,0).add($t),i=Ye(t,e-8),l=gt(i,37).mul(a).add(r),c=gt(r,25).add(i).mul(a);return Xa(l,c,a)}if(e>=4){const a=$t.add(e*2),r=ub(t,0);return Xa(r.shl(3).add(e),ub(t,e-4),a)}if(e>0){const a=t[0],r=t[e>>1],i=t[e-1],l=a+(r<<8),c=e+(i<<2);return qh($t.mul(l).xor(vN.mul(c))).mul($t)}return $t}function Q3(t,e=t.length){const a=$t.add(e*2),r=Ye(t,0).mul(Es),i=Ye(t,8),l=Ye(t,e-8).mul(a),c=Ye(t,e-16).mul($t);return Xa(gt(r.add(i),43).add(gt(l,30)).add(c),r.add(gt(i.add($t),18)).add(l),a)}function J3(t,e=t.length){const a=$t.add(e*2),r=Ye(t,0).mul($t),i=Ye(t,8),l=Ye(t,e-8).mul(a),c=Ye(t,e-16).mul($t),f=gt(r.add(i),43).add(gt(l,30)).add(c),h=Xa(f,r.add(gt(i.add($t),18)).add(l),a),m=Ye(t,16).mul(a),g=Ye(t,24),y=f.add(Ye(t,e-32)).mul(a),b=h.add(Ye(t,e-24)).mul(a);return Xa(gt(m.add(g),43).add(gt(y,30)).add(b),m.add(gt(g.add(r),18)).add(y),a)}function eO(t,e=t.length){const a=_s.fromNumber(81,!0);if(e<=32)return e<=16?Z3(t,e):Q3(t,e);if(e<=64)return J3(t,e);let r=a,i=a.mul(Es).add(113),l=qh(i.mul($t).add(113)).mul($t),c=[_s.UZERO,_s.UZERO],f=[_s.UZERO,_s.UZERO];r=r.mul($t).add(Ye(t,0));let h=0;const m=(e-1>>6)*64,g=m+(e-1&63)-63;do r=gt(r.add(i).add(c[0]).add(Ye(t,h+8)),37).mul(Es),i=gt(i.add(c[1]).add(Ye(t,h+48)),42).mul(Es),r=r.xor(f[1]),i=i.add(c[0]).add(Ye(t,h+40)),l=gt(l.add(f[0]),33).mul(Es),c=Pl(t,h,c[1].mul(Es),r.add(f[0])),f=Pl(t,h+32,l.add(f[1]),i.add(Ye(t,h+16))),[l,r]=[r,l],h+=64;while(h!==m);const y=Es.add(l.and(255).shl(1));return h=g,f[0]=f[0].add(e-1&63),c[0]=c[0].add(f[0]),f[0]=f[0].add(c[0]),r=gt(r.add(i).add(c[0]).add(Ye(t,h+8)),37).mul(y),i=gt(i.add(c[1]).add(Ye(t,h+48)),42).mul(y),r=r.xor(f[1].mul(9)),i=i.add(c[0].mul(9).add(Ye(t,h+40))),l=gt(l.add(f[0]),33).mul(y),c=Pl(t,h,c[1].mul(y),r.add(f[0])),f=Pl(t,h+32,l.add(f[1]),i.add(Ye(t,h+16))),[l,r]=[r,l],Xa(Xa(c[0],f[0],y).add(qh(i).mul(vN)).add(l),Xa(c[1],f[1],y).add(r),y)}function tO(t,e){return e==="string"?So(t):zu([t],e)}function nO(t,e){return t instanceof Float32Array&&e==="float32"||t instanceof Int32Array&&e==="int32"||t instanceof Uint8Array&&e==="bool"}function zu(t,e){if(e==="string")throw new Error("Cannot convert a string[] to a TypedArray");if(Array.isArray(t)&&(t=Za(t)),ve().getBool("DEBUG")&&b1(t,e),nO(t,e))return t;if(e==null||e==="float32"||e==="complex64")return new Float32Array(t);if(e==="int32")return new Int32Array(t);if(e==="bool"){const a=new Uint8Array(t.length);for(let r=0;r<a.length;++r)Math.round(t[r])!==0&&(a[r]=1);return a}else throw new Error(`Unknown data type ${e}`)}function to(){return ve().platform.now()}function aO(t,e){return ve().platform.fetch(t,e)}function So(t,e="utf-8"){return e=e||"utf-8",ve().platform.encode(t,e)}function yu(t,e="utf-8"){return e=e||"utf-8",ve().platform.decode(t,e)}function yt(t){return ve().platform.isTypedArray!=null?ve().platform.isTypedArray(t):gN(t)}function Za(t,e=[],a=!1){if(e==null&&(e=[]),typeof t=="boolean"||typeof t=="number"||typeof t=="string"||Wa(t)||t==null||yt(t)&&a)e.push(t);else if(Array.isArray(t)||yt(t))for(let r=0;r<t.length;++r)Za(t[r],e,a);else{let r=-1;for(const i of Object.keys(t))/^([1-9]+[0-9]*|0)$/.test(i)&&(r=Math.max(r,Number(i)));for(let i=0;i<=r;i++)Za(t[i],e,a)}return e}const sO=Object.freeze(Object.defineProperty({__proto__:null,arraysEqual:kn,arraysEqualWithNull:p1,assert:O,assertNonNegativeIntegerDimensions:Qt,assertNonNull:qs,assertShapesMatch:Ct,bytesFromStringArray:S1,bytesPerElement:mu,checkConversionForErrors:b1,clamp:Qi,computeStrides:Vr,convertBackendValuesAndArrayBuffer:p3,createScalarValue:tO,createShuffledIndices:f3,decodeString:yu,distSquared:o3,encodeString:So,fetch:aO,fingerPrint64:eO,flatten:Za,getArrayFromDType:Sd,getTypedArrayFromDType:y1,hasEncodingLoss:m3,hexToLong:vo,indexToLoc:b3,inferDtype:bo,inferFromImplicitShape:d3,isBoolean:N1,isFunction:Pa,isInt:Cr,isNumber:w1,isPromise:Wa,isScalarShape:l3,isString:Ga,isTypedArray:yt,isValidDtype:v1,locToIndex:y3,makeOnesTypedArray:Nd,makeZerosNestedTypedArray:g3,makeZerosTypedArray:Ru,nearestDivisor:pu,nearestLargerEven:s3,now:to,parseAxisParam:yo,randUniform:i3,repeatedTry:h3,rightPad:Wi,shuffle:m1,shuffleCombo:a3,sizeFromShape:Fe,sizeToSquarishShape:c3,squeezeShape:g1,sum:r3,swap:du,tanh:u3,toNestedArray:ks,toTypedArray:zu},Symbol.toStringTag,{value:"Module"}));class rO{constructor(e,a){this.backendTimer=e,this.logger=a,a==null&&(this.logger=new oO)}profileKernel(e,a,r){let i;const l=()=>{i=r()};let c;const f=to();if(this.backendTimer.timerAvailable())c=this.backendTimer.time(l);else{l();for(const m of i)m.dataSync();c=Promise.resolve({kernelMs:to()-f})}if(ve().getBool("CHECK_COMPUTATION_FOR_ERRORS"))for(let m=0;m<i.length;m++){const g=i[m];g.data().then(y=>{iO(y,g.dtype,e)})}return{kernelName:e,outputs:i,inputs:a,timeMs:c.then(m=>m.kernelMs),extraInfo:c.then(m=>m.getExtraProfileInfo!=null?m.getExtraProfileInfo():"")}}logKernelProfile(e){const{kernelName:a,outputs:r,timeMs:i,inputs:l,extraInfo:c}=e;r.forEach(f=>{Promise.all([f.data(),i,c]).then(h=>{this.logger.logKernelProfile(a,f,h[0],h[1],l,h[2])})})}}function iO(t,e,a){if(e!=="float32")return!1;for(let r=0;r<t.length;r++){const i=t[r];if(isNaN(i)||!isFinite(i))return console.warn(`Found ${i} in the result of '${a}'`),!0}return!1}class oO{logKernelProfile(e,a,r,i,l,c){const f=typeof i=="number"?Wi(`${i}ms`,9):i.error,h=Wi(e,25),m=a.rank,g=a.size,y=Wi(a.shape.toString(),14);let b="";for(const N in l){const w=l[N];if(w!=null){const x=w.shape||a.shape,_=x.length;b+=`${N}: ${_}D ${_>0?x:""} `}}console.log(`%c${h}	%c${f}	%c${m}D ${y}	%c${g}	%c${b}	%c${c}`,"font-weight:bold","color:red","color:blue","color: orange","color: green","color: steelblue")}}function lO(t,e,a){const r={},i={};for(let h=0;h<e.length;h++)r[e[h].id]=!0;for(let h=0;h<t.length;h++){const m=t[h],g=m.inputs;for(const y in g){const b=g[y];let N=!1;for(let w=0;w<e.length;w++)if(r[b.id]){m.outputs.forEach(x=>r[x.id]=!0),N=!0,i[m.id]=!0;break}if(N)break}}const l={};l[a.id]=!0;const c={};for(let h=t.length-1;h>=0;h--){const m=t[h],g=m.inputs;for(let y=0;y<m.outputs.length;y++)if(l[m.outputs[y].id]){for(const b in g)l[g[b].id]=!0,c[m.id]=!0;break}}const f=[];for(let h=0;h<t.length;h++){const m=t[h];if(i[m.id]&&c[m.id]){const g={};for(const b in m.inputs){const N=m.inputs[b];r[N.id]&&(g[b]=N)}const y=Object.assign({},m);y.inputs=g,y.outputs=m.outputs,f.push(y)}}return f}function uO(t,e,a,r){for(let i=e.length-1;i>=0;i--){const l=e[i],c=[];if(l.outputs.forEach(h=>{const m=t[h.id];m!=null?c.push(m):c.push(null)}),l.gradient==null)throw new Error(`Cannot compute gradient: gradient function not found for ${l.kernelName}.`);const f=l.gradient(c);for(const h in l.inputs){if(!(h in f))throw new Error(`Cannot backprop through input ${h}. Available gradients found: ${Object.keys(f)}.`);const m=a(()=>f[h]());if(m.dtype!=="float32")throw new Error(`Error in gradient for op ${l.kernelName}. The gradient of input ${h} must have 'float32' dtype, but has '${m.dtype}'`);const g=l.inputs[h];if(!kn(m.shape,g.shape))throw new Error(`Error in gradient for op ${l.kernelName}. The gradient of input '${h}' has shape '${m.shape}', which does not match the shape of the input '${g.shape}'`);if(t[g.id]==null)t[g.id]=m;else{const y=t[g.id];t[g.id]=r(y,m),y.dispose()}}}}const cb=20,Vi=3,xh=7;function cO(t,e,a,r){const i=Vr(e),l=fO(t,e,a,i),c=e.length,f=nu(t,e,a,i,l),h=["Tensor"];return r&&(h.push(`  dtype: ${a}`),h.push(`  rank: ${c}`),h.push(`  shape: [${e}]`),h.push("  values:")),h.push(f.map(m=>"    "+m).join(`
`)),h.join(`
`)}function fO(t,e,a,r){const i=Fe(e),l=r[r.length-1],c=new Array(l).fill(0),f=e.length,h=a==="complex64"?Xi(t):t;if(f>1)for(let m=0;m<i/l;m++){const g=m*l;for(let y=0;y<l;y++)c[y]=Math.max(c[y],Yi(h[g+y],0,a).length)}return c}function Yi(t,e,a){let r;return Array.isArray(t)?r=`${parseFloat(t[0].toFixed(xh))} + ${parseFloat(t[1].toFixed(xh))}j`:Ga(t)?r=`'${t}'`:a==="bool"?r=NN(t):r=parseFloat(t.toFixed(xh)).toString(),Wi(r,e)}function NN(t){return t===0?"false":"true"}function nu(t,e,a,r,i,l=!0){const c=a==="complex64"?2:1,f=e[0],h=e.length;if(h===0){if(a==="complex64"){const x=Xi(t);return[Yi(x[0],0,a)]}return a==="bool"?[NN(t[0])]:[t[0].toString()]}if(h===1){if(f>cb){const _=Vi*c;let C=Array.from(t.slice(0,_)),ee=Array.from(t.slice((f-Vi)*c,f*c));return a==="complex64"&&(C=Xi(C),ee=Xi(ee)),["["+C.map((I,F)=>Yi(I,i[F],a)).join(", ")+", ..., "+ee.map((I,F)=>Yi(I,i[f-Vi+F],a)).join(", ")+"]"]}return["["+(a==="complex64"?Xi(t):Array.from(t)).map((_,C)=>Yi(_,i[C],a)).join(", ")+"]"]}const m=e.slice(1),g=r.slice(1),y=r[0]*c,b=[];if(f>cb){for(let x=0;x<Vi;x++){const _=x*y,C=_+y;b.push(...nu(t.slice(_,C),m,a,g,i,!1))}b.push("...");for(let x=f-Vi;x<f;x++){const _=x*y,C=_+y;b.push(...nu(t.slice(_,C),m,a,g,i,x===f-1))}}else for(let x=0;x<f;x++){const _=x*y,C=_+y;b.push(...nu(t.slice(_,C),m,a,g,i,x===f-1))}const N=h===2?",":"";b[0]="["+(f>0?b[0]+N:"");for(let x=1;x<b.length-1;x++)b[x]=" "+b[x]+N;let w=`,
`;for(let x=2;x<h;x++)w+=`
`;return b[b.length-1]=" "+b[b.length-1]+"]"+(l?"":w),b}function Xi(t){const e=[];for(let a=0;a<t.length;a+=2)e.push([t[a],t[a+1]]);return e}class bu{constructor(e,a,r){if(this.dtype=a,this.shape=e.slice(),this.size=Fe(e),r!=null){const i=r.length;O(i===this.size,()=>`Length of values '${i}' does not match the size inferred by the shape '${this.size}'.`)}if(a==="complex64")throw new Error("complex64 dtype TensorBuffers are not supported. Please create a TensorBuffer for the real and imaginary parts separately and call tf.complex(real, imag).");this.values=r||Sd(a,this.size),this.strides=Vr(e)}set(e,...a){a.length===0&&(a=[0]),O(a.length===this.rank,()=>`The number of provided coordinates (${a.length}) must match the rank (${this.rank})`);const r=this.locToIndex(a);this.values[r]=e}get(...e){e.length===0&&(e=[0]);let a=0;for(const i of e){if(i<0||i>=this.shape[a]){const l=`Requested out of range element at ${e}.   Buffer shape=${this.shape}`;throw new Error(l)}a++}let r=e[e.length-1];for(let i=0;i<e.length-1;++i)r+=this.strides[i]*e[i];return this.values[r]}locToIndex(e){if(this.rank===0)return 0;if(this.rank===1)return e[0];let a=e[e.length-1];for(let r=0;r<e.length-1;++r)a+=this.strides[r]*e[r];return a}indexToLoc(e){if(this.rank===0)return[];if(this.rank===1)return[e];const a=new Array(this.shape.length);for(let r=0;r<a.length-1;++r)a[r]=Math.floor(e/this.strides[r]),e-=a[r]*this.strides[r];return a[a.length-1]=e,a}get rank(){return this.shape.length}toTensor(){return An().makeTensor(this.values,this.shape,this.dtype)}}let An=null,Ar=null;function hO(t){An=t}function dO(t){Ar=t}class at{constructor(e,a,r,i){this.kept=!1,this.isDisposedInternal=!1,this.shape=e.slice(),this.dtype=a||"float32",this.size=Fe(e),this.strides=Vr(e),this.dataId=r,this.id=i,this.rankType=this.rank<5?this.rank.toString():"higher"}get rank(){return this.shape.length}async buffer(){const e=await this.data();return Ar.buffer(this.shape,this.dtype,e)}bufferSync(){return Ar.buffer(this.shape,this.dtype,this.dataSync())}async array(){const e=await this.data();return ks(this.shape,e,this.dtype==="complex64")}arraySync(){return ks(this.shape,this.dataSync(),this.dtype==="complex64")}async data(){this.throwIfDisposed();const e=An().read(this.dataId);if(this.dtype==="string"){const a=await e;try{return a.map(r=>yu(r))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}}return e}dataToGPU(e){return this.throwIfDisposed(),An().readToGPU(this.dataId,e)}dataSync(){this.throwIfDisposed();const e=An().readSync(this.dataId);if(this.dtype==="string")try{return e.map(a=>yu(a))}catch{throw new Error("Failed to decode the string bytes into utf-8. To get the original bytes, call tensor.bytes().")}return e}async bytes(){this.throwIfDisposed();const e=await An().read(this.dataId);return this.dtype==="string"?e:new Uint8Array(e.buffer)}dispose(){this.isDisposed||(this.kerasMask&&this.kerasMask.dispose(),An().disposeTensor(this),this.isDisposedInternal=!0)}get isDisposed(){return this.isDisposedInternal}throwIfDisposed(){if(this.isDisposed)throw new Error("Tensor is disposed.")}print(e=!1){return Ar.print(this,e)}clone(){return this.throwIfDisposed(),Ar.clone(this)}toString(e=!1){const a=this.dataSync();return cO(a,this.shape,this.dtype,e)}cast(e){return this.throwIfDisposed(),Ar.cast(this,e)}variable(e=!0,a,r){return this.throwIfDisposed(),An().makeVariable(this,e,a,r)}}Object.defineProperty(at,Symbol.hasInstance,{value:t=>!!t&&t.data!=null&&t.dataSync!=null&&t.throwIfDisposed!=null});function wN(){return Td("Tensor",()=>at)}wN();class no extends at{constructor(e,a,r,i){super(e.shape,e.dtype,e.dataId,i),this.trainable=a,this.name=r}assign(e){if(e.dtype!==this.dtype)throw new Error(`dtype of the new value (${e.dtype}) and previous value (${this.dtype}) must match`);if(!kn(e.shape,this.shape))throw new Error(`shape of the new value (${e.shape}) and previous value (${this.shape}) must match`);An().disposeTensor(this),this.dataId=e.dataId,An().incRef(this,null)}dispose(){An().disposeVariable(this),this.isDisposedInternal=!0}}Object.defineProperty(no,Symbol.hasInstance,{value:t=>t instanceof at&&t.assign!=null&&t.assign instanceof Function});var Hh;(function(t){t.R0="R0",t.R1="R1",t.R2="R2",t.R3="R3",t.R4="R4",t.R5="R5",t.R6="R6"})(Hh||(Hh={}));var Vh;(function(t){t.float32="float32",t.int32="int32",t.bool="int32",t.complex64="complex64"})(Vh||(Vh={}));var Gh;(function(t){t.float32="float32",t.int32="int32",t.bool="bool",t.complex64="complex64"})(Gh||(Gh={}));var Kh;(function(t){t.float32="float32",t.int32="float32",t.bool="float32",t.complex64="complex64"})(Kh||(Kh={}));var Yh;(function(t){t.float32="complex64",t.int32="complex64",t.bool="complex64",t.complex64="complex64"})(Yh||(Yh={}));const mO={float32:Kh,int32:Vh,bool:Gh,complex64:Yh};function Cu(t,e){if(t==="string"||e==="string"){if(t==="string"&&e==="string")return"string";throw new Error(`Can not upcast ${t} with ${e}`)}return mO[t][e]}function pO(t){return Cu(t,"int32")}function TN(t){return t!=null&&typeof t=="object"&&"texture"in t&&t.texture instanceof WebGLTexture}function EN(t){return typeof GPUBuffer<"u"&&t!=null&&typeof t=="object"&&"buffer"in t&&t.buffer instanceof GPUBuffer}function nt(t,e){if(t.dtype===e.dtype)return[t,e];const a=Cu(t.dtype,e.dtype);return[t.cast(a),e.cast(a)]}function _N(t,e){O(t.dtype===e.dtype,()=>`The dtypes of the first(${t.dtype}) and second(${e.dtype}) input must match`)}function gO(t,e){return e.some(a=>a.id===t.id)}function $d(t){const e=[];return xN(t,e,new Set),e}function xN(t,e,a){if(t==null)return;if(t instanceof at){e.push(t);return}if(!yO(t))return;const r=t;for(const i in r){const l=r[i];a.has(l)||(a.add(l),xN(l,e,a))}}function yO(t){return Array.isArray(t)||typeof t=="object"}const bO=Object.freeze(Object.defineProperty({__proto__:null,assertTypesMatch:_N,getTensorsInContainer:$d,isTensorInList:gO,makeTypesMatch:nt},Symbol.toStringTag,{value:"Module"}));function Ah(t){return t.kernelName!=null}class fb{constructor(){this.registeredVariables={},this.nextTapeNodeId=0,this.numBytes=0,this.numTensors=0,this.numStringTensors=0,this.numDataBuffers=0,this.gradientDepth=0,this.kernelDepth=0,this.scopeStack=[],this.numDataMovesStack=[],this.nextScopeId=0,this.tensorInfo=new WeakMap,this.profiling=!1,this.activeProfile={newBytes:0,newTensors:0,peakBytes:0,kernels:[],result:null,get kernelNames(){return Array.from(new Set(this.kernels.map(e=>e.name)))}}}dispose(){for(const e in this.registeredVariables)this.registeredVariables[e].dispose()}}class Br{constructor(e){this.ENV=e,this.registry={},this.registryFactory={},this.pendingBackendInitId=0,this.state=new fb}async ready(){if(this.pendingBackendInit!=null)return this.pendingBackendInit.then(()=>{});if(this.backendInstance!=null)return;const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const r=e[a];if(await this.initializeBackend(r).success){await this.setBackend(r);return}}throw new Error("Could not initialize any backends, all backend initializations failed.")}get backend(){if(this.pendingBackendInit!=null)throw new Error(`Backend '${this.backendName}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);if(this.backendInstance==null){const{name:e,asyncInit:a}=this.initializeBackendsAndReturnBest();if(a)throw new Error(`The highest priority backend '${e}' has not yet been initialized. Make sure to await tf.ready() or await tf.setBackend() before calling other methods`);this.setBackend(e)}return this.backendInstance}backendNames(){return Object.keys(this.registryFactory)}findBackend(e){if(!(e in this.registry))if(e in this.registryFactory){const{asyncInit:a}=this.initializeBackend(e);if(a)return null}else return null;return this.registry[e]}findBackendFactory(e){return e in this.registryFactory?this.registryFactory[e].factory:null}registerBackend(e,a,r=1){return e in this.registryFactory?(Ha(`${e} backend was already registered. Reusing existing backend factory.`),!1):(this.registryFactory[e]={factory:a,priority:r},!0)}async setBackend(e){if(this.registryFactory[e]==null)throw new Error(`Backend name '${e}' not found in registry`);if(this.backendName=e,this.registry[e]==null){this.backendInstance=null;const{success:a,asyncInit:r}=this.initializeBackend(e);if(!(r?await a:a))return!1}return this.backendInstance=this.registry[e],this.setupRegisteredKernels(),this.profiler=new rO(this.backendInstance),!0}setupRegisteredKernels(){gu(this.backendName).forEach(a=>{a.setupFunc!=null&&a.setupFunc(this.backendInstance)})}disposeRegisteredKernels(e){gu(e).forEach(r=>{r.disposeFunc!=null&&r.disposeFunc(this.registry[e])})}initializeBackend(e){const a=this.registryFactory[e];if(a==null)throw new Error(`Cannot initialize backend ${e}, no registration found.`);try{const r=a.factory();if(r&&!(r instanceof d1)&&typeof r.then=="function"){const i=++this.pendingBackendInitId,l=r.then(c=>i<this.pendingBackendInitId?!1:(this.registry[e]=c,this.pendingBackendInit=null,!0)).catch(c=>(i<this.pendingBackendInitId||(this.pendingBackendInit=null,Ha(`Initialization of backend ${e} failed`),Ha(c.stack||c.message)),!1));return this.pendingBackendInit=l,{success:l,asyncInit:!0}}else return this.registry[e]=r,{success:!0,asyncInit:!1}}catch(r){return Ha(`Initialization of backend ${e} failed`),Ha(r.stack||r.message),{success:!1,asyncInit:!1}}}removeBackend(e){if(!(e in this.registryFactory))throw new Error(`${e} backend not found in registry`);this.backendName===e&&this.pendingBackendInit!=null&&this.pendingBackendInitId++,e in this.registry&&(this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e]),delete this.registryFactory[e],this.backendName===e&&(this.pendingBackendInit=null,this.backendName=null,this.backendInstance=null)}getSortedBackends(){if(Object.keys(this.registryFactory).length===0)throw new Error("No backend found in registry.");return Object.keys(this.registryFactory).sort((e,a)=>this.registryFactory[a].priority-this.registryFactory[e].priority)}initializeBackendsAndReturnBest(){const e=this.getSortedBackends();for(let a=0;a<e.length;a++){const r=e[a],{success:i,asyncInit:l}=this.initializeBackend(r);if(l||i)return{name:r,asyncInit:l}}throw new Error("Could not initialize any backends, all backend initializations failed.")}moveData(e,a){const r=this.state.tensorInfo.get(a),i=r.backend,l=this.readSync(a),c=i.refCount(a);i.disposeData(a,!0),r.backend=e,e.move(a,l,r.shape,r.dtype,c),this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack[this.state.numDataMovesStack.length-1]++}tidy(e,a){let r=null;if(a==null){if(typeof e!="function")throw new Error("Please provide a function to tidy()");a=e}else{if(typeof e!="string"&&!(e instanceof String))throw new Error("When calling with two arguments, the first argument to tidy() must be a string");if(typeof a!="function")throw new Error("When calling with two arguments, the 2nd argument to tidy() must be a function");r=e}let i;return this.scopedRun(()=>this.startScope(r),()=>this.endScope(i),()=>(i=a(),i instanceof Promise&&console.error("Cannot return a Promise inside of tidy."),i))}scopedRun(e,a,r){e();try{const i=r();return a(),i}catch(i){throw a(),i}}nextTensorId(){return Br.nextTensorId++}nextVariableId(){return Br.nextVariableId++}clone(e){const a=k.runKernel(Ad,{x:e}),r={x:e},i=c=>({x:()=>{const f="float32",h={x:c},m={dtype:f};return k.runKernel(_d,h,m)}}),l=[];return this.addTapeNode(this.state.activeScope.name,r,[a],i,l,{}),a}runKernel(e,a,r){if(this.backendName==null&&this.backend,!(eo(e,this.backendName)!=null))throw new Error(`Kernel '${e}' not registered for backend '${this.backendName}'`);return this.runKernelFunc({kernelName:e,inputs:a,attrs:r})}shouldCheckForMemLeaks(){return this.ENV.getBool("IS_TEST")}checkKernelForMemLeak(e,a,r){const i=this.backend.numDataIds();let l=0;r.forEach(h=>{l+=h.dtype==="complex64"?3:1});const c=this.state.numDataMovesStack[this.state.numDataMovesStack.length-1],f=i-a-l-c;if(f>0)throw new Error(`Backend '${this.backendName}' has an internal memory leak (${f} data ids) after running '${e}'`)}runKernelFunc(e){let a,r=[];const i=this.isTapeOn(),l=this.state.numBytes,c=this.state.numTensors;this.shouldCheckForMemLeaks()&&this.state.numDataMovesStack.push(0);let f;this.backendName==null&&this.backend;let h;const m=Ah(e)?e.kernelName:this.state.activeScope!=null?this.state.activeScope.name:"";if(Ah(e)){const{kernelName:w,inputs:x,attrs:_}=e;this.backendName==null&&this.backend;const C=eo(w,this.backendName);O(C!=null,()=>`Cannot find registered kernel '${w}' for backend '${this.backendName}'`),f=()=>{const ee=this.backend.numDataIds();h=C.kernelFunc({inputs:x,attrs:_,backend:this.backend});const I=Array.isArray(h)?h:[h];this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(w,ee,I);const F=I.map(W=>W.rank!=null?W:this.makeTensorFromTensorInfo(W));if(i){const W=this.getTensorsForGradient(w,x,F);r=this.saveTensorsForBackwardMode(W)}return F}}else{const{forwardFunc:w}=e,x=_=>{i&&(r=_.map(C=>this.keep(this.clone(C))))};f=()=>{const _=this.backend.numDataIds();h=this.tidy(()=>w(this.backend,x));const C=Array.isArray(h)?h:[h];return this.shouldCheckForMemLeaks()&&this.checkKernelForMemLeak(m,_,C),C}}const{inputs:g,attrs:y}=e,b=Ah(e)?null:e.backwardsFunc;let N;return this.scopedRun(()=>this.state.kernelDepth++,()=>this.state.kernelDepth--,()=>{!this.ENV.getBool("DEBUG")&&!this.state.profiling?a=f():(N=this.profiler.profileKernel(m,g,()=>f()),this.ENV.getBool("DEBUG")&&this.profiler.logKernelProfile(N),a=N.outputs)}),i&&this.addTapeNode(m,g,a,b,r,y),this.state.profiling&&this.state.activeProfile.kernels.push({name:m,bytesAdded:this.state.numBytes-l,totalBytesSnapshot:this.state.numBytes,tensorsAdded:this.state.numTensors-c,totalTensorsSnapshot:this.state.numTensors,inputShapes:Object.keys(g).map(w=>g[w]!=null?g[w].shape:null),outputShapes:a.map(w=>w.shape),kernelTimeMs:N.timeMs,extraInfo:N.extraInfo}),Array.isArray(h)?a:a[0]}saveTensorsForBackwardMode(e){return e.map(r=>this.keep(this.clone(r)))}getTensorsForGradient(e,a,r){const i=Fh(e);if(i!=null){const l=i.inputsToSave||[],c=i.outputsToSave||[];let f;i.saveAllInputs?(O(Array.isArray(a),()=>"saveAllInputs is true, expected inputs to be an array."),f=Object.keys(a).map(m=>a[m])):f=l.map(m=>a[m]);const h=r.filter((m,g)=>c[g]);return f.concat(h)}return[]}makeTensor(e,a,r,i){if(e==null)throw new Error("Values passed to engine.makeTensor() are null");r=r||"float32",i=i||this.backend;let l=e;r==="string"&&Ga(e[0])&&(l=e.map(h=>So(h)));const c=i.write(l,a,r),f=new at(a,r,c,this.nextTensorId());if(this.trackTensor(f,i),r==="string"){const h=this.state.tensorInfo.get(c),m=S1(l);this.state.numBytes+=m-h.bytes,h.bytes=m}return f}makeTensorFromDataId(e,a,r,i){r=r||"float32";const l={dataId:e,shape:a,dtype:r};return this.makeTensorFromTensorInfo(l,i)}makeTensorFromTensorInfo(e,a){const{dataId:r,shape:i,dtype:l}=e,c=new at(i,l,r,this.nextTensorId());return this.trackTensor(c,a),c}makeVariable(e,a=!0,r,i){r=r||this.nextVariableId().toString(),i!=null&&i!==e.dtype&&(e=e.cast(i));const l=new no(e,a,r,this.nextTensorId());if(this.state.registeredVariables[l.name]!=null)throw new Error(`Variable with name ${l.name} was already registered`);return this.state.registeredVariables[l.name]=l,this.incRef(l,this.backend),l}trackTensor(e,a){this.state.numTensors++,e.dtype==="string"&&this.state.numStringTensors++;let r=0;e.dtype!=="complex64"&&e.dtype!=="string"&&(r=e.size*mu(e.dtype)),this.state.numBytes+=r,this.state.tensorInfo.has(e.dataId)||(this.state.numDataBuffers++,this.state.tensorInfo.set(e.dataId,{backend:a||this.backend,dtype:e.dtype,shape:e.shape,bytes:r})),e instanceof no||this.track(e)}incRef(e,a){this.trackTensor(e,a),this.backend.incRef(e.dataId)}removeDataId(e,a){this.state.tensorInfo.has(e)&&this.state.tensorInfo.get(e).backend===a&&(this.state.tensorInfo.delete(e),this.state.numDataBuffers--)}disposeTensor(e){if(!this.state.tensorInfo.has(e.dataId))return;const a=this.state.tensorInfo.get(e.dataId);if(this.state.numTensors--,e.dtype==="string"&&(this.state.numStringTensors--,this.state.numBytes-=a.bytes),e.dtype!=="complex64"&&e.dtype!=="string"){const r=e.size*mu(e.dtype);this.state.numBytes-=r}a.backend.disposeData(e.dataId)&&this.removeDataId(e.dataId,a.backend)}disposeVariables(){for(const e in this.state.registeredVariables){const a=this.state.registeredVariables[e];this.disposeVariable(a)}}disposeVariable(e){this.disposeTensor(e),this.state.registeredVariables[e.name]!=null&&delete this.state.registeredVariables[e.name]}memory(){const e=this.backend.memory();return e.numTensors=this.state.numTensors,e.numDataBuffers=this.state.numDataBuffers,e.numBytes=this.state.numBytes,this.state.numStringTensors>0&&(e.unreliable=!0,e.reasons==null&&(e.reasons=[]),e.reasons.push("Memory usage by string tensors is approximate (2 bytes per character)")),e}async profile(e){this.state.profiling=!0;const a=this.state.numBytes,r=this.state.numTensors;this.state.activeProfile.kernels=[],this.state.activeProfile.result=await e(),this.state.profiling=!1,this.state.activeProfile.peakBytes=Math.max(...this.state.activeProfile.kernels.map(i=>i.totalBytesSnapshot)),this.state.activeProfile.newBytes=this.state.numBytes-a,this.state.activeProfile.newTensors=this.state.numTensors-r;for(const i of this.state.activeProfile.kernels)i.kernelTimeMs=await i.kernelTimeMs,i.extraInfo=await i.extraInfo;return this.state.activeProfile}isTapeOn(){return this.state.gradientDepth>0&&this.state.kernelDepth===0}addTapeNode(e,a,r,i,l,c){const f={id:this.state.nextTapeNodeId++,kernelName:e,inputs:a,outputs:r,saved:l},h=Fh(e);h!=null&&(i=h.gradFunc),i!=null&&(f.gradient=m=>(m=m.map((g,y)=>{if(g==null){const b=r[y],N=Ru(b.size,b.dtype);return this.makeTensor(N,b.shape,b.dtype)}return g}),i(m.length>1?m:m[0],l,c))),this.state.activeTape.push(f)}keep(e){return e.kept=!0,e}startTape(){this.state.gradientDepth===0&&(this.state.activeTape=[]),this.state.gradientDepth++}endTape(){this.state.gradientDepth--}startScope(e){const a={track:[],name:"unnamed scope",id:this.state.nextScopeId++};e&&(a.name=e),this.state.scopeStack.push(a),this.state.activeScope=a}endScope(e){const a=$d(e),r=new Set(a.map(l=>l.id));for(let l=0;l<this.state.activeScope.track.length;l++){const c=this.state.activeScope.track[l];!c.kept&&!r.has(c.id)&&c.dispose()}const i=this.state.scopeStack.pop();this.state.activeScope=this.state.scopeStack.length===0?null:this.state.scopeStack[this.state.scopeStack.length-1],a.forEach(l=>{!l.kept&&l.scopeId===i.id&&this.track(l)})}gradients(e,a,r,i=!1){if(O(a.length>0,()=>"gradients() received an empty list of xs."),r!=null&&r.dtype!=="float32")throw new Error(`dy must have 'float32' dtype, but has '${r.dtype}'`);const l=this.scopedRun(()=>this.startTape(),()=>this.endTape(),()=>this.tidy("forward",e));O(l instanceof at,()=>"The result y returned by f() must be a tensor.");const c=lO(this.state.activeTape,a,l);if(!i&&c.length===0&&a.length>0)throw new Error("Cannot compute gradient of y=f(x) with respect to x. Make sure that the f you passed encloses all operations that lead from x to y.");return this.tidy("backward",()=>{const f={};f[l.id]=r??vO(l.shape),uO(f,c,m=>this.tidy(m),SO);const h=a.map(m=>f[m.id]);return this.state.gradientDepth===0&&(this.state.activeTape.forEach(m=>{for(const g of m.saved)g.dispose()}),this.state.activeTape=null),{value:l,grads:h}})}customGrad(e){return O(Pa(e),()=>"The f passed in customGrad(f) must be a function."),(...a)=>{O(a.every(f=>f instanceof at),()=>"The args passed in customGrad(f)(x1, x2,...) must all be tensors");let r;const i={};a.forEach((f,h)=>{i[h]=f});const l=(f,h)=>(r=e(...a,h),O(r.value instanceof at,()=>"The function f passed in customGrad(f) must return an object where `obj.value` is a tensor"),O(Pa(r.gradFunc),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function."),r.value),c=(f,h)=>{const m=r.gradFunc(f,h),g=Array.isArray(m)?m:[m];O(g.length===a.length,()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns the same number of tensors as inputs passed to f(...)."),O(g.every(b=>b instanceof at),()=>"The function f passed in customGrad(f) must return an object where `obj.gradFunc` is a function that returns a list of only tensors.");const y={};return g.forEach((b,N)=>{y[N]=()=>b}),y};return this.runKernelFunc({forwardFunc:l,backwardsFunc:c,inputs:i})}}readSync(e){return this.state.tensorInfo.get(e).backend.readSync(e)}read(e){return this.state.tensorInfo.get(e).backend.read(e)}readToGPU(e,a){return this.state.tensorInfo.get(e).backend.readToGPU(e,a)}async time(e){const a=to(),r=await this.backend.time(e);return r.wallMs=to()-a,r}track(e){return this.state.activeScope!=null&&(e.scopeId=this.state.activeScope.id,this.state.activeScope.track.push(e)),e}get registeredVariables(){return this.state.registeredVariables}reset(){this.pendingBackendInitId++,this.state.dispose(),this.ENV.reset(),this.state=new fb;for(const e in this.registry)this.disposeRegisteredKernels(e),this.registry[e].dispose(),delete this.registry[e];this.backendName=null,this.backendInstance=null,this.pendingBackendInit=null}}Br.nextTensorId=0;Br.nextVariableId=0;function vO(t){const e=Nd(Fe(t),"float32");return k.makeTensor(e,t,"float32")}function AN(){const t=_1();if(t._tfengine==null){const e=new E1(t);t._tfengine=new Br(e)}return w3(t._tfengine.ENV),hO(()=>t._tfengine),t._tfengine}const k=AN();function SO(t,e){const a={a:t,b:e};return k.runKernel(Ed,a)}function NO(){return typeof navigator<"u"&&navigator!=null}let Xh;function wO(t){Xh=t}function TO(t){if(Xh!==void 0)return Xh;if(t||NO()){if(t||(t=navigator),t.product==="ReactNative")return!0;const e=t.userAgent||t.vendor||(typeof window<"u"?window.opera:"");if(!e){const a=t;return a.userAgentData&&a.userAgentData.mobile}return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4))}return!1}function ON(){return typeof window<"u"&&window.document!=null||typeof WorkerGlobalScope<"u"}const EO=Object.freeze(Object.defineProperty({__proto__:null,isBrowser:ON,isMobile:TO,mockIsMobile:wO},Symbol.toStringTag,{value:"Module"}));const It=ve();It.registerFlag("DEBUG",()=>!1,t=>{t&&console.warn("Debugging mode is ON. The output of every math call will be downloaded to CPU and checked for NaNs. This significantly impacts performance.")});It.registerFlag("IS_BROWSER",()=>ON());It.registerFlag("IS_NODE",()=>typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u");It.registerFlag("IS_CHROME",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor));It.registerFlag("IS_SAFARI",()=>typeof navigator<"u"&&navigator!=null&&navigator.userAgent!=null&&/Safari/.test(navigator.userAgent)&&/Apple/.test(navigator.vendor));It.registerFlag("PROD",()=>!1);It.registerFlag("TENSORLIKE_CHECK_SHAPE_CONSISTENCY",()=>It.getBool("DEBUG"));It.registerFlag("DEPRECATION_WARNINGS_ENABLED",()=>!0);It.registerFlag("IS_TEST",()=>!1);It.registerFlag("CHECK_COMPUTATION_FOR_ERRORS",()=>It.getBool("DEBUG"));It.registerFlag("WRAP_TO_IMAGEBITMAP",()=>!1);It.registerFlag("CANVAS2D_WILL_READ_FREQUENTLY_FOR_GPU",()=>!1);It.registerFlag("USE_SETTIMEOUTCUSTOM",()=>!1);function Un(t,e){let a=t;if(yt(t))return e==="string"?[]:[t.length];if(TN(t)){const i=t.channels||"RGBA";return[t.height,t.width*i.length]}else if(EN(t))return[t.buffer.size/(e==null?4:mu(e))];if(!Array.isArray(t))return[];const r=[];for(;Array.isArray(a)||yt(a)&&e!=="string";)r.push(a.length),a=a[0];return Array.isArray(t)&&ve().getBool("TENSORLIKE_CHECK_SHAPE_CONSISTENCY")&&DN(t,r,[]),r}function DN(t,e,a){if(a=a||[],!Array.isArray(t)&&!yt(t)){O(e.length===0,()=>`Element arr[${a.join("][")}] is a primitive, but should be an array/TypedArray of ${e[0]} elements`);return}O(e.length>0,()=>`Element arr[${a.join("][")}] should be a primitive, but is an array of ${t.length} elements`),O(t.length===e[0],()=>`Element arr[${a.join("][")}] should have ${e[0]} elements, but has ${t.length} elements`);const r=e.slice(1);for(let i=0;i<t.length;++i)DN(t[i],r,a.concat(i))}function hb(t,e,a,r){if(t!=="string_or_numeric"){if(t==null)throw new Error("Expected dtype cannot be null.");if(t!=="numeric"&&t!==e||t==="numeric"&&e==="string")throw new Error(`Argument '${a}' passed to '${r}' must be ${t} tensor, but got ${e} tensor`)}}function E(t,e,a,r="numeric"){if(t instanceof wN())return hb(r,t.dtype,e,a),t;let i=bo(t);if(i!=="string"&&["bool","int32","float32"].indexOf(r)>=0&&(i=r),hb(r,i,e,a),t==null||!yt(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string"){const h=t==null?"null":t.constructor.name;throw new Error(`Argument '${e}' passed to '${a}' must be a Tensor or TensorLike, but got '${h}'`)}const l=Un(t,i);!yt(t)&&!Array.isArray(t)&&(t=[t]);const f=i!=="string"?zu(t,i):Za(t,[],!0);return k.makeTensor(f,l,i)}function ao(t,e,a,r="numeric"){if(!Array.isArray(t))throw new Error(`Argument ${e} passed to ${a} must be a \`Tensor[]\` or \`TensorLike[]\``);return t.map((l,c)=>E(l,`${e}[${c}]`,a,r))}const kd="__op";function $(t){const e=Object.keys(t);if(e.length!==1)throw new Error(`Please provide an object with a single key (operation name) mapping to a function. Got an object with ${e.length} keys.`);let a=e[0];const r=t[a];a.endsWith("_")&&(a=a.substring(0,a.length-1)),a=a+kd;const i=(...l)=>{k.startScope(a);try{const c=r(...l);return Wa(c)&&console.error("Cannot return a Promise inside of tidy."),k.endScope(c),c}catch(c){throw k.endScope(null),c}};return Object.defineProperty(i,"name",{value:a,configurable:!0}),i}function _O(t,e){const a=E(t,"real","complex"),r=E(e,"imag","complex");Ct(a.shape,r.shape,`real and imag shapes, ${a.shape} and ${r.shape}, must match in call to tf.complex().`);const i={real:a,imag:r};return k.runKernel(X1,i)}const pa=$({complex_:_O});function ts(t,e,a,r){if(r==null)r=bo(t);else if(r==="complex64")throw new Error("Cannot construct a complex64 tensor directly. Please use tf.complex(real, imag).");if(EN(t)||TN(t)){if(r!=="float32"&&r!=="int32")throw new Error(`Creating tensor from GPU data only supports 'float32'|'int32' dtype, while the dtype is ${r}.`);return k.backend.createTensorFromGPUData(t,e||a,r)}if(!yt(t)&&!Array.isArray(t)&&typeof t!="number"&&typeof t!="boolean"&&typeof t!="string")throw new Error("values passed to tensor(values) must be a number/boolean/string or an array of numbers/booleans/strings, or a TypedArray");if(e!=null){Qt(e);const i=Fe(e),l=Fe(a);O(i===l,()=>`Based on the provided shape, [${e}], the tensor should have ${i} values but has ${l}`);for(let c=0;c<a.length;++c){const f=a[c],h=c===a.length-1?f!==Fe(e.slice(c)):!0;O(a[c]===e[c]||!h,()=>`Error creating a new Tensor. Inferred shape (${a}) does not match the provided shape (${e}). `)}}return!yt(t)&&!Array.isArray(t)&&(t=[t]),e=e||a,t=r!=="string"?zu(t,r):Za(t,[],!0),k.makeTensor(t,e,r)}function Dn(t,e,a){const r=Un(t,a);return ts(t,e,r,a)}const js={float32:4,float16:2,int32:4,uint16:2,uint8:1,bool:1,complex64:8};class zn{static join(e){return new zn(e).slice()}constructor(e){if(this.shards=[],this.previousShardIndex=0,e==null||(e instanceof Array||(e=[e]),e=e.map(r=>yt(r)?r.buffer:r),e.length===0))return;this.bufferUniformSize=e[0].byteLength;let a=0;for(let r=0;r<e.length;r++){const i=e[r];r!==e.length-1&&i.byteLength!==this.bufferUniformSize&&(this.bufferUniformSize=void 0);const l=a+i.byteLength;this.shards.push({buffer:i,start:a,end:l}),a=l}this.shards.length===0&&(this.byteLength=0),this.byteLength=this.shards[this.shards.length-1].end}slice(e=0,a=this.byteLength){if(this.shards.length===0)return new ArrayBuffer(0);if(e=isNaN(Number(e))?0:e,a=isNaN(Number(a))?0:a,e=Math.max(0,e),a=Math.min(this.byteLength,a),a<=e)return new ArrayBuffer(0);const r=this.findShardForByte(e);if(r===-1)throw new Error(`Could not find start shard for byte ${e}`);const i=a-e,l=new ArrayBuffer(i),c=new Uint8Array(l);let f=0;for(let h=r;h<this.shards.length;h++){const m=this.shards[h],y=e+f-m.start,b=f,w=Math.min(a,m.end)-m.start,x=new Uint8Array(m.buffer,y,w-y);if(c.set(x,b),f+=x.length,a<m.end)break}return l}findShardForByte(e){if(this.shards.length===0||e<0||e>=this.byteLength)return-1;if(this.bufferUniformSize!=null)return this.previousShardIndex=Math.floor(e/this.bufferUniformSize),this.previousShardIndex;function a(i){return e<i.start?-1:e>=i.end?1:0}if(a(this.shards[this.previousShardIndex])===0)return this.previousShardIndex;const r=xO(this.shards,a);return r===-1?-1:(this.previousShardIndex=r,this.previousShardIndex)}}function xO(t,e){let a=0,r=t.length;for(;a<=r;){const i=Math.floor((r-a)/2)+a,l=e(t[i]);if(l===0)return i;l<0?r=i:a=i+1}return-1}function AO(){ve().set("PROD",!0)}function OO(){ve().set("DEBUG",!0)}function DO(){ve().set("DEPRECATION_WARNINGS_ENABLED",!1),console.warn("TensorFlow.js deprecation warnings have been disabled.")}function $O(t){ve().getBool("DEPRECATION_WARNINGS_ENABLED")&&console.warn(t+" You can disable deprecation warnings with tf.disableDeprecationWarnings().")}function kO(){k.disposeVariables()}function RO(){return k}function zO(){return k.memory()}function CO(t){return k.profile(t)}function Ie(t,e){return k.tidy(t,e)}function zt(t){$d(t).forEach(a=>a.dispose())}function On(t){return k.keep(t)}function jO(t){return k.time(t)}function BO(t){return k.setBackend(t)}function IO(){return k.ready()}function $N(){return k.backendName}function LO(t){k.removeBackend(t)}function MO(t){return k.findBackend(t)}function UO(t){return k.findBackendFactory(t)}function FO(t,e,a=1){return k.registerBackend(t,e,a)}function kN(){return k.backend}function qO(t,e){ve().setPlatform(t,e)}const Qa=4;async function HO(t,e){const a=[],r=[],i=Array.isArray(t)?t.map(c=>c.name):Object.keys(t);for(let c=0;c<i.length;++c){const f=i[c],h=Array.isArray(t)?t[c].tensor:t[f];if(h.dtype!=="float32"&&h.dtype!=="int32"&&h.dtype!=="bool"&&h.dtype!=="string"&&h.dtype!=="complex64")throw new Error(`Unsupported dtype in weight '${f}': ${h.dtype}`);const m={name:f,shape:h.shape,dtype:h.dtype};if(h.dtype==="string"){const g=new Promise(async y=>{const b=await h.bytes(),N=b.reduce((_,C)=>_+C.length,0)+Qa*b.length,w=new Uint8Array(N);let x=0;for(let _=0;_<b.length;_++){const C=b[_],ee=new Uint8Array(new Uint32Array([C.length]).buffer);w.set(ee,x),x+=Qa,w.set(C,x),x+=C.length}y(w)});r.push(g)}else r.push(h.data());e!=null&&(m.group=e),a.push(m)}const l=await Promise.all(r);return{data:KO(l),specs:a}}function RN(t,e){const a=new zn(t),r={};let i=0;for(const l of e){const c=VO(l,(f,h)=>a.slice(i+f,i+h));r[l.name]=zN(l,a.slice(i,i+c)),i+=c}return r}function VO(t,e){const a=Fe(t.shape);let r;if("quantization"in t){const i=t.quantization;r=js[i.dtype]}else if(t.dtype==="string"){let i=0;for(let l=0;l<a;l++)i+=Qa+new Uint32Array(e(i,i+Qa))[0];return i}else r=js[t.dtype];return a*r}async function GO(t,e){const a=Fe(t.shape);let r;if("quantization"in t){const i=t.quantization;r=js[i.dtype]}else if(t.dtype==="string"){let i=0;for(let l=0;l<a;l++)i+=Qa+new Uint32Array(await e(i,i+Qa))[0];return i}else r=js[t.dtype];return a*r}function zN(t,e){const a=t.name,r=t.dtype,i=t.shape,l=Fe(i);let c,f=0;if("quantization"in t){const h=t.quantization;if(h.dtype==="uint8"||h.dtype==="uint16"){if(!("min"in h&&"scale"in h))throw new Error(`Weight ${t.name} with quantization ${h.dtype} doesn't have corresponding metadata min and scale.`)}else if(h.dtype==="float16"){if(r!=="float32")throw new Error(`Weight ${t.name} is quantized with ${h.dtype} which only supports weights of type float32 not ${r}.`)}else throw new Error(`Weight ${t.name} has unknown quantization dtype ${h.dtype}. Supported quantization dtypes are: 'uint8', 'uint16', and 'float16'.`);const m=js[h.dtype],g=h.dtype==="uint8"?new Uint8Array(e):new Uint16Array(e);if(r==="float32")if(h.dtype==="uint8"||h.dtype==="uint16"){c=new Float32Array(g.length);for(let y=0;y<g.length;y++){const b=g[y];c[y]=b*h.scale+h.min}}else if(h.dtype==="float16")c=JO()(g);else throw new Error(`Unsupported quantization type ${h.dtype} for weight type float32.`);else if(r==="int32"){if(h.dtype!=="uint8"&&h.dtype!=="uint16")throw new Error(`Unsupported quantization type ${h.dtype} for weight type int32.`);c=new Int32Array(g.length);for(let y=0;y<g.length;y++){const b=g[y];c[y]=Math.round(b*h.scale+h.min)}}else throw new Error(`Unsupported dtype in weight '${a}': ${r}`);f+=l*m}else if(r==="string"){const h=Fe(t.shape);c=[];for(let m=0;m<h;m++){const g=new Uint32Array(e.slice(f,f+Qa))[0];f+=Qa;const y=new Uint8Array(e.slice(f,f+g));c.push(y),f+=g}}else{const h=js[r];if(r==="float32")c=new Float32Array(e);else if(r==="int32")c=new Int32Array(e);else if(r==="bool")c=new Uint8Array(e);else if(r==="complex64"){c=new Float32Array(e);const m=new Float32Array(c.length/2),g=new Float32Array(c.length/2);for(let w=0;w<m.length;w++)m[w]=c[w*2],g[w]=c[w*2+1];const y=Dn(m,i,"float32"),b=Dn(g,i,"float32"),N=pa(y,b);return y.dispose(),b.dispose(),N}else throw new Error(`Unsupported dtype in weight '${a}': ${r}`);f+=l*h}return Dn(c,i,r)}async function db(t,e,a){let r=new Uint8Array(e);for(;r.byteLength<a;){const{done:i,value:l}=await t.read();if(i&&l==null){const f=a-r.byteLength;throw new Error(`Reader is done but ${f} bytes are still expected`)}const c=new Uint8Array(r.length+l.byteLength);c.set(r,0),c.set(new Uint8Array(l),r.length),r=c}return r.buffer}async function CN(t,e){const a={},r=t.getReader();let i=new ArrayBuffer(0);for(const l of e){const c=await GO(l,async(m,g)=>(i=await db(r,i,g),i.slice(m,g)));i=await db(r,i,c);const f=i.slice(0,c);i=i.slice(c);const h=zN(l,f);if(a[l.name]=h,$N()==="webgpu"){const m=kN();"uploadToGPU"in m&&Fe(h.shape)>=ve().get("WEBGPU_CPU_HANDOFF_SIZE_THRESHOLD")&&m.uploadToGPU(h.dataId)}}return a}function KO(t){if(t===null)throw new Error(`Invalid input value: ${JSON.stringify(t)}`);let e=0;const a=[];t.forEach(l=>{if(e+=l.byteLength,a.push(l.byteLength===l.buffer.byteLength?l:new l.constructor(l)),!(l instanceof Float32Array||l instanceof Int32Array||l instanceof Uint8Array))throw new Error(`Unsupported TypedArray subtype: ${l.constructor.name}`)});const r=new Uint8Array(e);let i=0;return a.forEach(l=>{r.set(new Uint8Array(l.buffer),i),i+=l.byteLength}),r.buffer}const Rd=typeof Buffer<"u"&&(typeof Blob>"u"||typeof atob>"u"||typeof btoa>"u");function mb(t){return Rd?Buffer.byteLength(t,"utf8"):new Blob([t]).size}function YO(t){if(Rd)return Buffer.from(t).toString("base64");const e=new Uint8Array(t);let a="";for(let r=0,i=e.length;r<i;r++)a+=String.fromCharCode(e[r]);return btoa(a)}function XO(t){if(Rd){const r=Buffer.from(t,"base64");return r.buffer.slice(r.byteOffset,r.byteOffset+r.byteLength)}const e=atob(t),a=new Uint8Array(e.length);for(let r=0;r<e.length;++r)a.set([e.charCodeAt(r)],r);return a.buffer}function PO(t){return zn.join(t)}function pb(t){for(t=t.trim();t.endsWith("/");)t=t.slice(0,t.length-1);const a=t.split("/");return a[a.length-1]}function jN(t,e){const a={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy,weightsManifest:e};return t.signature!=null&&(a.signature=t.signature),t.userDefinedMetadata!=null&&(a.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(a.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(a.initializerSignature=t.initializerSignature),t.trainingConfig!=null&&(a.trainingConfig=t.trainingConfig),a}function zd(t,e,a){const r={modelTopology:t.modelTopology,format:t.format,generatedBy:t.generatedBy,convertedBy:t.convertedBy};if(t.trainingConfig!=null&&(r.trainingConfig=t.trainingConfig),t.weightsManifest!=null){if(!e)throw new Error("modelJSON has weightsManifest but weightSpecs is null");if(!a)throw new Error("modelJSON has weightsManifest but weightData is null");r.weightSpecs=e,r.weightData=a}return t.signature!=null&&(r.signature=t.signature),t.userDefinedMetadata!=null&&(r.userDefinedMetadata=t.userDefinedMetadata),t.modelInitializer!=null&&(r.modelInitializer=t.modelInitializer),t.initializerSignature!=null&&(r.initializerSignature=t.initializerSignature),r}async function Cd(t,e){let a,r;return t.weightsManifest!=null&&([a,r]=await e(t.weightsManifest)),zd(t,a,r)}function No(t){if(t.modelTopology instanceof ArrayBuffer)throw new Error("Expected JSON model topology, received ArrayBuffer.");return{dateSaved:new Date,modelTopologyType:"JSON",modelTopologyBytes:t.modelTopology==null?0:mb(JSON.stringify(t.modelTopology)),weightSpecsBytes:t.weightSpecs==null?0:mb(JSON.stringify(t.weightSpecs)),weightDataBytes:t.weightData==null?0:new zn(t.weightData).byteLength}}function vu(t){const e=[];for(const a of t)e.push(...a.weights);return e}function WO(){const t=a=>{let r=a<<13,i=0;for(;(r&8388608)===0;)i-=8388608,r<<=1;return r&=-8388609,i+=947912704,r|i},e=new Uint32Array(2048);e[0]=0;for(let a=1;a<1024;a++)e[a]=t(a);for(let a=1024;a<2048;a++)e[a]=939524096+(a-1024<<13);return e}function ZO(){const t=new Uint32Array(64);t[0]=0,t[31]=1199570944,t[32]=2147483648,t[63]=3347054592;for(let e=1;e<31;e++)t[e]=e<<23;for(let e=33;e<63;e++)t[e]=2147483648+(e-32<<23);return t}function QO(){const t=new Uint32Array(64);for(let e=0;e<64;e++)t[e]=1024;return t[0]=t[32]=0,t}function JO(){const t=WO(),e=ZO(),a=QO();return r=>{const i=new ArrayBuffer(4*r.length),l=new Uint32Array(i);for(let c=0;c<r.length;c++){const f=r[c],h=t[a[f>>10]+(f&1023)]+e[f>>10];l[c]=h}return new Float32Array(i)}}class et{constructor(){this.saveRouters=[],this.loadRouters=[]}static getInstance(){return et.instance==null&&(et.instance=new et),et.instance}static registerSaveRouter(e){et.getInstance().saveRouters.push(e)}static registerLoadRouter(e){et.getInstance().loadRouters.push(e)}static getSaveHandlers(e){return et.getHandlers(e,"save")}static getLoadHandlers(e,a){return et.getHandlers(e,"load",a)}static getHandlers(e,a,r){const i=[];return(a==="load"?et.getInstance().loadRouters:et.getInstance().saveRouters).forEach(c=>{const f=c(e,r);f!==null&&i.push(f)}),i}}const eD=t=>et.registerSaveRouter(t),tD=t=>et.registerLoadRouter(t),nD=t=>et.getSaveHandlers(t),aD=(t,e)=>et.getLoadHandlers(t,e);const Ph="tensorflowjs",Wh=1,Ds="models_store",Ka="model_info_store";function BN(){if(!ve().getBool("IS_BROWSER"))throw new Error("Failed to obtain IndexedDB factory because the current environmentis not a web browser.");const t=typeof window>"u"?self:window,e=t.indexedDB||t.mozIndexedDB||t.webkitIndexedDB||t.msIndexedDB||t.shimIndexedDB;if(e==null)throw new Error("The current browser does not appear to support IndexedDB.");return e}function Zh(t){const e=t.result;e.createObjectStore(Ds,{keyPath:"modelPath"}),e.createObjectStore(Ka,{keyPath:"modelPath"})}class Bs{constructor(e){if(this.indexedDB=BN(),e==null||!e)throw new Error("For IndexedDB, modelPath must not be null, undefined or empty.");this.modelPath=e}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");return this.databaseAction(this.modelPath,e)}async load(){return this.databaseAction(this.modelPath)}databaseAction(e,a){return new Promise((r,i)=>{const l=this.indexedDB.open(Ph,Wh);l.onupgradeneeded=()=>Zh(l),l.onsuccess=()=>{const c=l.result;if(a==null){const f=c.transaction(Ds,"readonly"),m=f.objectStore(Ds).get(this.modelPath);m.onsuccess=()=>{if(m.result==null)return c.close(),i(new Error(`Cannot find model with path '${this.modelPath}' in IndexedDB.`));r(m.result.modelArtifacts)},m.onerror=g=>(c.close(),i(m.error)),f.oncomplete=()=>c.close()}else{a.weightData=zn.join(a.weightData);const f=No(a),h=c.transaction(Ka,"readwrite");let m=h.objectStore(Ka),g;try{g=m.put({modelPath:this.modelPath,modelArtifactsInfo:f})}catch(b){return i(b)}let y;g.onsuccess=()=>{y=c.transaction(Ds,"readwrite");const b=y.objectStore(Ds);let N;try{N=b.put({modelPath:this.modelPath,modelArtifacts:a,modelArtifactsInfo:f})}catch(w){return i(w)}N.onsuccess=()=>r({modelArtifactsInfo:f}),N.onerror=w=>{m=h.objectStore(Ka);const x=m.delete(this.modelPath);x.onsuccess=()=>(c.close(),i(N.error)),x.onerror=_=>(c.close(),i(N.error))}},g.onerror=b=>(c.close(),i(g.error)),h.oncomplete=()=>{y==null?c.close():y.oncomplete=()=>c.close()}}},l.onerror=c=>i(l.error)})}}Bs.URL_SCHEME="indexeddb://";const IN=t=>ve().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Bs.URL_SCHEME)?sD(t.slice(Bs.URL_SCHEME.length)):null;et.registerSaveRouter(IN);et.registerLoadRouter(IN);function sD(t){return new Bs(t)}function rD(t){return t.startsWith(Bs.URL_SCHEME)?t.slice(Bs.URL_SCHEME.length):t}class iD{constructor(){this.indexedDB=BN()}async listModels(){return new Promise((e,a)=>{const r=this.indexedDB.open(Ph,Wh);r.onupgradeneeded=()=>Zh(r),r.onsuccess=()=>{const i=r.result,l=i.transaction(Ka,"readonly"),f=l.objectStore(Ka).getAll();f.onsuccess=()=>{const h={};for(const m of f.result)h[m.modelPath]=m.modelArtifactsInfo;e(h)},f.onerror=h=>(i.close(),a(f.error)),l.oncomplete=()=>i.close()},r.onerror=i=>a(r.error)})}async removeModel(e){return e=rD(e),new Promise((a,r)=>{const i=this.indexedDB.open(Ph,Wh);i.onupgradeneeded=()=>Zh(i),i.onsuccess=()=>{const l=i.result,c=l.transaction(Ka,"readwrite"),f=c.objectStore(Ka),h=f.get(e);let m;h.onsuccess=()=>{if(h.result==null)return l.close(),r(new Error(`Cannot find model with path '${e}' in IndexedDB.`));{const g=f.delete(e),y=()=>{m=l.transaction(Ds,"readwrite");const N=m.objectStore(Ds).delete(e);N.onsuccess=()=>a(h.result.modelArtifactsInfo),N.onerror=w=>r(h.error)};g.onsuccess=y,g.onerror=b=>(y(),l.close(),r(h.error))}},h.onerror=g=>(l.close(),r(h.error)),c.oncomplete=()=>{m==null?l.close():m.oncomplete=()=>l.close()}},i.onerror=l=>r(i.error)})}}const ha="/",Or="tensorflowjs_models",LN="info",oD="model_topology",lD="weight_specs",uD="weight_data",cD="model_metadata";function MN(t){return{info:[Or,t,LN].join(ha),topology:[Or,t,oD].join(ha),weightSpecs:[Or,t,lD].join(ha),weightData:[Or,t,uD].join(ha),modelMetadata:[Or,t,cD].join(ha)}}function UN(t){for(const e of Object.values(t))window.localStorage.removeItem(e)}function fD(t){const e=t.split(ha);if(e.length<3)throw new Error(`Invalid key format: ${t}`);return e.slice(1,e.length-1).join(ha)}function hD(t){return t.startsWith(Is.URL_SCHEME)?t.slice(Is.URL_SCHEME.length):t}class Is{constructor(e){if(!ve().getBool("IS_BROWSER")||typeof window>"u"||typeof window.localStorage>"u")throw new Error("The current environment does not support local storage.");if(this.LS=window.localStorage,e==null||!e)throw new Error("For local storage, modelPath must not be null, undefined or empty.");this.modelPath=e,this.keys=MN(this.modelPath)}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserLocalStorage.save() does not support saving model topology in binary formats yet.");{const a=JSON.stringify(e.modelTopology),r=JSON.stringify(e.weightSpecs),i=No(e),l=zn.join(e.weightData);try{this.LS.setItem(this.keys.info,JSON.stringify(i)),this.LS.setItem(this.keys.topology,a),this.LS.setItem(this.keys.weightSpecs,r),this.LS.setItem(this.keys.weightData,YO(l));const c={format:e.format,generatedBy:e.generatedBy,convertedBy:e.convertedBy,signature:e.signature!=null?e.signature:void 0,userDefinedMetadata:e.userDefinedMetadata!=null?e.userDefinedMetadata:void 0,modelInitializer:e.modelInitializer!=null?e.modelInitializer:void 0,initializerSignature:e.initializerSignature!=null?e.initializerSignature:void 0,trainingConfig:e.trainingConfig!=null?e.trainingConfig:void 0};return this.LS.setItem(this.keys.modelMetadata,JSON.stringify(c)),{modelArtifactsInfo:i}}catch{throw UN(this.keys),new Error(`Failed to save model '${this.modelPath}' to local storage: size quota being exceeded is a possible cause of this failure: modelTopologyBytes=${i.modelTopologyBytes}, weightSpecsBytes=${i.weightSpecsBytes}, weightDataBytes=${i.weightDataBytes}.`)}}}async load(){const e=JSON.parse(this.LS.getItem(this.keys.info));if(e==null)throw new Error(`In local storage, there is no model with name '${this.modelPath}'`);if(e.modelTopologyType!=="JSON")throw new Error("BrowserLocalStorage does not support loading non-JSON model topology yet.");const a={},r=JSON.parse(this.LS.getItem(this.keys.topology));if(r==null)throw new Error(`In local storage, the topology of model '${this.modelPath}' is missing.`);a.modelTopology=r;const i=JSON.parse(this.LS.getItem(this.keys.weightSpecs));if(i==null)throw new Error(`In local storage, the weight specs of model '${this.modelPath}' are missing.`);a.weightSpecs=i;const l=this.LS.getItem(this.keys.modelMetadata);if(l!=null){const f=JSON.parse(l);a.format=f.format,a.generatedBy=f.generatedBy,a.convertedBy=f.convertedBy,f.signature!=null&&(a.signature=f.signature),f.userDefinedMetadata!=null&&(a.userDefinedMetadata=f.userDefinedMetadata),f.modelInitializer!=null&&(a.modelInitializer=f.modelInitializer),f.initializerSignature!=null&&(a.initializerSignature=f.initializerSignature),f.trainingConfig!=null&&(a.trainingConfig=f.trainingConfig)}const c=this.LS.getItem(this.keys.weightData);if(c==null)throw new Error(`In local storage, the binary weight values of model '${this.modelPath}' are missing.`);return a.weightData=XO(c),a}}Is.URL_SCHEME="localstorage://";const FN=t=>ve().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Is.URL_SCHEME)?dD(t.slice(Is.URL_SCHEME.length)):null;et.registerSaveRouter(FN);et.registerLoadRouter(FN);function dD(t){return new Is(t)}class mD{constructor(){O(ve().getBool("IS_BROWSER"),()=>"Current environment is not a web browser"),O(typeof window>"u"||typeof window.localStorage<"u",()=>"Current browser does not appear to support localStorage"),this.LS=window.localStorage}async listModels(){const e={},a=Or+ha,r=ha+LN;for(let i=0;i<this.LS.length;++i){const l=this.LS.key(i);if(l.startsWith(a)&&l.endsWith(r)){const c=fD(l);e[c]=JSON.parse(this.LS.getItem(l))}}return e}async removeModel(e){e=hD(e);const a=MN(e);if(this.LS.getItem(a.info)==null)throw new Error(`Cannot find model at path '${e}'`);const r=JSON.parse(this.LS.getItem(a.info));return UN(a),r}}const Dr="://";class Dt{constructor(){this.managers={}}static getInstance(){return Dt.instance==null&&(Dt.instance=new Dt),Dt.instance}static registerManager(e,a){O(e!=null,()=>"scheme must not be undefined or null."),e.endsWith(Dr)&&(e=e.slice(0,e.indexOf(Dr))),O(e.length>0,()=>"scheme must not be an empty string.");const r=Dt.getInstance();O(r.managers[e]==null,()=>`A model store manager is already registered for scheme '${e}'.`),r.managers[e]=a}static getManager(e){const a=Dt.getInstance().managers[e];if(a==null)throw new Error(`Cannot find model manager for scheme '${e}'`);return a}static getSchemes(){return Object.keys(Dt.getInstance().managers)}}function au(t){if(t.indexOf(Dr)===-1)throw new Error(`The url string provided does not contain a scheme. Supported schemes are: ${Dt.getSchemes().join(",")}`);return{scheme:t.split(Dr)[0],path:t.split(Dr)[1]}}async function qN(t,e,a=!1){O(t!==e,()=>`Old path and new path are the same: '${t}'`);const r=et.getLoadHandlers(t);O(r.length>0,()=>`Copying failed because no load handler is found for source URL ${t}.`),O(r.length<2,()=>`Copying failed because more than one (${r.length}) load handlers for source URL ${t}.`);const i=r[0],l=et.getSaveHandlers(e);O(l.length>0,()=>`Copying failed because no save handler is found for destination URL ${e}.`),O(l.length<2,()=>`Copying failed because more than one (${r.length}) save handlers for destination URL ${e}.`);const c=l[0],f=au(t).scheme,h=au(t).path,m=f===au(t).scheme,g=await i.load();a&&m&&await Dt.getManager(f).removeModel(h);const y=await c.save(g);return a&&!m&&await Dt.getManager(f).removeModel(h),y.modelArtifactsInfo}async function pD(){const t=Dt.getSchemes(),e={};for(const a of t){const r=await Dt.getManager(a).listModels();for(const i in r){const l=a+Dr+i;e[l]=r[i]}}return e}async function gD(t){const e=au(t);return Dt.getManager(e.scheme).removeModel(e.path)}async function yD(t,e){return qN(t,e,!1)}async function bD(t,e){return qN(t,e,!0)}class vD{constructor(){this.messageName="setTimeoutCustom",this.functionRefs=[],this.handledMessageCount=0,this.hasEventListener=!1}fetch(e,a){return fetch(e,a)}now(){return performance.now()}encode(e,a){if(a!=="utf-8"&&a!=="utf8")throw new Error(`Browser's encoder only supports utf-8, but got ${a}`);return this.textEncoder==null&&(this.textEncoder=new TextEncoder),this.textEncoder.encode(e)}decode(e,a){return new TextDecoder(a).decode(e)}setTimeoutCustom(e,a){if(typeof window>"u"||!ve().getBool("USE_SETTIMEOUTCUSTOM")){setTimeout(e,a);return}this.functionRefs.push(e),setTimeout(()=>{window.postMessage({name:this.messageName,index:this.functionRefs.length-1},"*")},a),this.hasEventListener||(this.hasEventListener=!0,window.addEventListener("message",r=>{if(r.source===window&&r.data.name===this.messageName){r.stopPropagation();const i=this.functionRefs[r.data.index];i(),this.handledMessageCount++,this.handledMessageCount===this.functionRefs.length&&(this.functionRefs=[],this.handledMessageCount=0)}},!0))}isTypedArray(e){return gN(e)}}if(ve().get("IS_BROWSER")){ve().setPlatform("browser",new vD);try{Dt.registerManager(Is.URL_SCHEME,new mD)}catch{}try{Dt.registerManager(Bs.URL_SCHEME,new iD)}catch{}}const SD={importFetch:()=>require("node-fetch")};let Oh;class ND{constructor(){this.util=require("util"),this.textEncoder=new this.util.TextEncoder}fetch(e,a){return ve().global.fetch!=null?ve().global.fetch(e,a):(Oh==null&&(Oh=SD.importFetch()),Oh(e,a))}now(){const e=process.hrtime();return e[0]*1e3+e[1]/1e6}encode(e,a){if(a!=="utf-8"&&a!=="utf8")throw new Error(`Node built-in encoder only supports utf-8, but got ${a}`);return this.textEncoder.encode(e)}decode(e,a){return e.length===0?"":new this.util.TextDecoder(a).decode(e)}isTypedArray(e){return this.util.types.isFloat32Array(e)||this.util.types.isInt32Array(e)||this.util.types.isUint8Array(e)||this.util.types.isUint8ClampedArray(e)}}ve().get("IS_NODE")&&!ve().get("IS_BROWSER")&&ve().setPlatform("node",new ND);function Fn(t,e="float32",a){return e=e||"float32",Qt(t),new bu(t,e,a)}function wD(t,e){const a=E(t,"x","cast");if(!v1(e))throw new Error(`Failed to cast to unknown dtype ${e}`);if(e==="string"&&a.dtype!=="string"||e!=="string"&&a.dtype==="string")throw new Error("Only strings can be casted to strings");const r={x:a},i={dtype:e};return k.runKernel(_d,r,i)}const We=$({cast_:wD});function TD(t){const a={x:E(t,"x","clone","string_or_numeric")};return k.runKernel(Ad,a)}const da=$({clone_:TD});function jd(t,e=!1){console.log(t.toString(e))}AN();const ED={buffer:Fn,cast:We,clone:da,print:jd};dO(ED);function _D(t,e){let a=E(t,"a","add"),r=E(e,"b","add");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(Ed,i)}const be=$({add_:_D});function xD(t,e){let a=E(t,"a","floorDiv"),r=E(e,"b","floorDiv");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(xv,i)}const Bd=$({floorDiv_:xD});function AD(t,e){let a=E(t,"a","div"),r=E(e,"b","div");if([a,r]=nt(a,r),a.dtype==="int32"&&r.dtype==="int32")return Bd(a,r);const i={a,b:r},l={};return k.runKernel(mv,i,l)}const Pe=$({div_:AD});function OD(t,e){let a=E(t,"a","mul"),r=E(e,"b","mul");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(sS,i)}const oe=$({mul_:OD});function DD(t){const e=E(t,"x","abs");if(e.dtype==="complex64"){const a={x:e};return k.runKernel(P1,a)}else{const a={x:e};return k.runKernel(x1,a)}}const Xt=$({abs_:DD});function $D(t){const a={x:E(t,"x","acos")};return k.runKernel(A1,a)}const HN=$({acos_:$D});function kD(t){const a={x:E(t,"x","acosh")};return k.runKernel(O1,a)}const VN=$({acosh_:kD});function RD(t){O(Array.isArray(t),()=>"The argument passed to tf.addN() must be a list of tensors"),O(t.length>=1,()=>`Must pass at least one tensor to tf.addN(), but got ${t.length}`);const e=t.map((i,l)=>E(i,`tensors${l}`,"addN")),a=e[0];e.forEach(i=>{if(i.dtype!==a.dtype)throw new Error("All tensors passed to tf.addN() must have the same dtype")}),e.forEach(i=>{if(!kn(i.shape,a.shape))throw new Error("All tensors passed to tf.addN() must have the same shape")});const r=e;return k.runKernel(D1,r)}const GN=$({addN_:RD});function zD(t,e=null,a=!1){const i={x:E(t,"x","all","bool")},l={axis:e,keepDims:a};return k.runKernel($1,i,l)}const KN=$({all_:zD});function CD(t,e=null,a=!1){const i={x:E(t,"x","any","bool")},l={axis:e,keepDims:a};return k.runKernel(k1,i,l)}const YN=$({any_:CD});function jD(t,e=0){const r={x:E(t,"x","argMax")},i={axis:e};return k.runKernel(R1,r,i)}const XN=$({argMax_:jD});function BD(t,e=0){const r={x:E(t,"x","argMin")},i={axis:e};return k.runKernel(z1,r,i)}const PN=$({argMin_:BD});function ID(t){const a={x:E(t,"x","asin")};return k.runKernel(C1,a)}const WN=$({asin_:ID});function LD(t){const a={x:E(t,"x","asinh")};return k.runKernel(j1,a)}const ZN=$({asinh_:LD});function MD(t){const a={x:E(t,"x","atan")};return k.runKernel(B1,a)}const QN=$({atan_:MD});function UD(t,e){let a=E(t,"a","atan2"),r=E(e,"b","atan2");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(L1,i)}const JN=$({atan2_:UD});function FD(t){const a={x:E(t,"x","atanh")};return k.runKernel(I1,a)}const ew=$({atanh_:FD});function qD(t,e,a,r,i="NHWC",l){const c=t[3],f=[...e,c],h=aw(i);return wo(t,f,a,l,r,null,null,h)}function tw(t,e,a,r,i,l,c="channelsLast"){const[f,h]=so(e);let m;if(c==="channelsLast")m=[f,h,t[3],t[3]];else if(c==="channelsFirst")m=[f,h,t[1],t[1]];else throw new Error(`Unknown dataFormat ${c}`);return wo(t,m,a,r,i,l,!1,c)}function HD(t,e,a,r,i,l,c="NDHWC"){const[f,h,m]=Qh(e);let g,y;if(c==="NDHWC")y="channelsLast",g=[f,h,m,t[4],t[4]];else if(c==="NCDHW")y="channelsFirst",g=[f,h,m,t[1],t[1]];else throw new Error(`Unknown dataFormat ${c}`);return nw(t,g,a,r,i,!1,y,l)}function wo(t,e,a,r,i,l,c=!1,f="channelsLast"){let[h,m,g,y]=[-1,-1,-1,-1];if(f==="channelsLast")[h,m,g,y]=t;else if(f==="channelsFirst")[h,y,m,g]=t;else throw new Error(`Unknown dataFormat ${f}`);const[b,N,,w]=e,[x,_]=so(a),[C,ee]=so(r),I=$r(b,C),F=$r(N,ee),{padInfo:W,outHeight:ne,outWidth:te}=KD(i,m,g,x,_,I,F,l,f),re=c?w*y:w;let H;return f==="channelsFirst"?H=[h,re,ne,te]:f==="channelsLast"&&(H=[h,ne,te,re]),{batchSize:h,dataFormat:f,inHeight:m,inWidth:g,inChannels:y,outHeight:ne,outWidth:te,outChannels:re,padInfo:W,strideHeight:x,strideWidth:_,filterHeight:b,filterWidth:N,effectiveFilterHeight:I,effectiveFilterWidth:F,dilationHeight:C,dilationWidth:ee,inShape:t,outShape:H,filterShape:e}}function nw(t,e,a,r,i,l=!1,c="channelsLast",f){let[h,m,g,y,b]=[-1,-1,-1,-1,-1];if(c==="channelsLast")[h,m,g,y,b]=t;else if(c==="channelsFirst")[h,b,m,g,y]=t;else throw new Error(`Unknown dataFormat ${c}`);const[N,w,x,,_]=e,[C,ee,I]=Qh(a),[F,W,ne]=Qh(r),te=$r(N,F),re=$r(w,W),H=$r(x,ne),{padInfo:V,outDepth:D,outHeight:J,outWidth:le}=YD(i,m,g,y,C,ee,I,te,re,H,f),ce=l?_*b:_;let de;return c==="channelsFirst"?de=[h,ce,D,J,le]:c==="channelsLast"&&(de=[h,D,J,le,ce]),{batchSize:h,dataFormat:c,inDepth:m,inHeight:g,inWidth:y,inChannels:b,outDepth:D,outHeight:J,outWidth:le,outChannels:ce,padInfo:V,strideDepth:C,strideHeight:ee,strideWidth:I,filterDepth:N,filterHeight:w,filterWidth:x,effectiveFilterDepth:te,effectiveFilterHeight:re,effectiveFilterWidth:H,dilationDepth:F,dilationHeight:W,dilationWidth:ne,inShape:t,outShape:de,filterShape:e}}function VD(t,e,a,r,i){r==null&&(r=Id(t,e,a));const l=t[0],c=t[1],f=ro((l-e+2*r)/a+1,i),h=ro((c-e+2*r)/a+1,i);return[f,h]}function GD(t,e,a,r,i,l){i==null&&(i=Id(t,e[0],r[0]));const c=[0,0,0,a];for(let f=0;f<3;f++)t[f]+2*i>=e[f]&&(c[f]=ro((t[f]-e[f]+2*i)/r[f]+1,l));return c}function Id(t,e,a,r=1){const i=$r(e,r);return Math.floor((t[0]*(a-1)-a+i)/2)}function so(t){return typeof t=="number"?[t,t,t]:t.length===2?[t[0],t[1],1]:t}function Qh(t){return typeof t=="number"?[t,t,t]:t}function $r(t,e){return e<=1?t:t+(t-1)*(e-1)}function KD(t,e,a,r,i,l,c,f,h){let m,g,y;if(typeof t=="number"){m={top:t,bottom:t,left:t,right:t,type:t===0?"VALID":"NUMBER"};const N=VD([e,a],l,r,t,f);g=N[0],y=N[1]}else if(t==="same"){g=Math.ceil(e/r),y=Math.ceil(a/i);const b=Math.max(0,(g-1)*r+l-e),N=Math.max(0,(y-1)*i+c-a),w=Math.floor(b/2),x=b-w,_=Math.floor(N/2),C=N-_;m={top:w,bottom:x,left:_,right:C,type:"SAME"}}else if(t==="valid")m={top:0,bottom:0,left:0,right:0,type:"VALID"},g=Math.ceil((e-l+1)/r),y=Math.ceil((a-c+1)/i);else if(typeof t=="object"){const b=h==="channelsLast"?t[1][0]:t[2][0],N=h==="channelsLast"?t[1][1]:t[2][1],w=h==="channelsLast"?t[2][0]:t[3][0],x=h==="channelsLast"?t[2][1]:t[3][1];m={top:b,bottom:N,left:w,right:x,type:b===0&&N===0&&w===0&&x===0?"VALID":"EXPLICIT"},g=ro((e-l+b+N)/r+1,f),y=ro((a-c+w+x)/i+1,f)}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:m,outHeight:g,outWidth:y}}function YD(t,e,a,r,i,l,c,f,h,m,g){let y,b,N,w;if(t==="valid"&&(t=0),typeof t=="number"){y={top:t,bottom:t,left:t,right:t,front:t,back:t,type:t===0?"VALID":"NUMBER"};const _=GD([e,a,r,1],[f,h,m],1,[i,l,c],t,g);b=_[0],N=_[1],w=_[2]}else if(t==="same"){b=Math.ceil(e/i),N=Math.ceil(a/l),w=Math.ceil(r/c);const x=(b-1)*i+f-e,_=(N-1)*l+h-a,C=(w-1)*c+m-r,ee=Math.floor(x/2),I=x-ee,F=Math.floor(_/2),W=_-F,ne=Math.floor(C/2),te=C-ne;y={top:F,bottom:W,left:ne,right:te,front:ee,back:I,type:"SAME"}}else throw Error(`Unknown padding parameter: ${t}`);return{padInfo:y,outDepth:b,outHeight:N,outWidth:w}}function ro(t,e){if(!e)return Math.trunc(t);switch(e){case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"floor":return Math.floor(t);default:throw new Error(`Unknown roundingMode ${e}`)}}function io(t){const[e,a,r]=so(t);return e===1&&a===1&&r===1}function ga(t,e){return io(t)||io(e)}function Ls(t){return so(t).every(e=>e>0)}function aw(t){if(t==="NHWC")return"channelsLast";if(t==="NCHW")return"channelsFirst";throw new Error(`Unknown dataFormat ${t}`)}function Tn(t,e,a){if(a!=null){if(typeof e=="string")throw Error(`Error in ${t}: pad must be an integer when using dimRoundingMode ${a} but got pad ${e}.`);if(typeof e=="number")O(Cr(e),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${a} but got pad ${e}.`);else if(typeof e=="object")e.forEach(r=>{r.forEach(i=>{O(Cr(i),()=>`Error in ${t}: pad must be an integer when using dimRoundingMode ${a} but got pad ${i}.`)})});else throw Error(`Error in ${t}: Unknown padding parameter: ${e}`)}}function XD(t,e){const r={x:E(t,"x","reshape","string_or_numeric")},i={shape:e};return k.runKernel(ES,r,i)}const Q=$({reshape_:XD});function PD(t,e,a,r,i){const l=E(t,"x","avgPool","float32"),c=1;O(ga(a,c),()=>`Error in avgPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`);let f=l,h=!1;l.rank===3&&(h=!0,f=Q(l,[1,l.shape[0],l.shape[1],l.shape[2]])),O(f.rank===4,()=>`Error in avgPool: x must be rank 4 but got rank ${f.rank}.`),Tn("avgPool",r,i);const m={x:f},g={filterSize:e,strides:a,pad:r,dimRoundingMode:i};let y=k.runKernel(M1,m,g);return y=We(y,l.dtype),h?Q(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const Ld=$({avgPool_:PD});function WD(t,e,a,r,i,l="NDHWC"){const c=E(t,"x","avgPool3d","float32");let f=c,h=!1;c.rank===4&&(h=!0,f=Q(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),O(f.rank===5,()=>`Error in avgPool3d: x must be rank 5 but got rank ${f.rank}.`),O(l==="NDHWC",()=>`Error in avgPool3d: Only NDHWC is currently supported, but got dataFormat of ${l}`),O(typeof a=="number"&&a>0||Array.isArray(a)&&a[0]>0&&a[1]>0&&a[2]>0,()=>`Error in avgPool3d: Stride must be > 0, but got '${a}'`),Tn("avgPool3d",r,i);const m={x:f},g={filterSize:e,strides:a,pad:r,dimRoundingMode:i,dataFormat:l};let y=k.runKernel(U1,m,g);return y=We(y,f.dtype),h?Q(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const sw=$({avgPool3d_:WD});function ZD(t,e=0){O(t.length>=1,()=>"Pass at least one tensor to concat");const a=ao(t,"tensors","concat","string_or_numeric");if(a[0].dtype==="complex64"&&a.forEach(l=>{if(l.dtype!=="complex64")throw new Error(`Cannot concatenate complex64 tensors with a tensor
          with dtype ${l.dtype}. `)}),a.length===1)return da(a[0]);const r=a,i={axis:e};return k.runKernel(W1,r,i)}const At=$({concat_:ZD});function QD(t,e,a=!1,r=!1){let i=E(t,"a","matMul"),l=E(e,"b","matMul");[i,l]=nt(i,l);const c={a:i,b:l},f={transposeA:a,transposeB:r};return k.runKernel(F1,c,f)}const Be=$({matMul_:QD});function JD(t){const a={x:E(t,"x","sigmoid","float32")};return k.runKernel(US,a)}const Rs=$({sigmoid_:JD});function e$(t,e,a){const r=E(t,"x","slice","string_or_numeric");if(r.rank===0)throw new Error("Slicing scalar is not possible");const i={x:r},l={begin:e,size:a};return k.runKernel(BS,i,l)}const Ge=$({slice_:e$});function t$(t){const a={x:E(t,"x","tanh","float32")};return k.runKernel(iN,a)}const Su=$({tanh_:t$});function n$(t,e,a,r,i,l){const c=E(t,"forgetBias","basicLSTMCell"),f=E(e,"lstmKernel","basicLSTMCell"),h=E(a,"lstmBias","basicLSTMCell"),m=E(r,"data","basicLSTMCell"),g=E(i,"c","basicLSTMCell"),y=E(l,"h","basicLSTMCell"),b=At([m,y],1),N=Be(b,f),w=be(N,h),x=w.shape[0],_=w.shape[1]/4,C=[x,_],ee=Ge(w,[0,0],C),I=Ge(w,[0,_],C),F=Ge(w,[0,_*2],C),W=Ge(w,[0,_*3],C),ne=be(oe(Rs(ee),Su(I)),oe(g,Rs(be(c,F)))),te=oe(Su(ne),Rs(W));return[ne,te]}const rw=$({basicLSTMCell_:n$});function a$(t,e,a){const r=E(t,"x","batchToSpaceND"),i=e.reduce((f,h)=>f*h);O(r.rank>=1+e.length,()=>`input rank is ${r.rank} but should be > than blockShape.length ${e.length}`),O(a.length===e.length,()=>`crops.length is ${a.length} but should be equal to blockShape.length  ${e.length}`),O(r.shape[0]%i===0,()=>`input tensor batch is ${r.shape[0]} but is not divisible by the product of the elements of blockShape ${e.join(" * ")} === ${i}`);const l={x:r},c={blockShape:e,crops:a};return k.runKernel(q1,l,c)}const Md=$({batchToSpaceND_:a$});function s$(t){let e;return t.rank===0||t.rank===1?e=Q(t,[1,1,1,t.size]):t.rank===2?e=Q(t,[1,1,t.shape[0],t.shape[1]]):t.rank===3?e=Q(t,[1,t.shape[0],t.shape[1],t.shape[2]]):e=t,e}function r$(t,e,a,r,i,l){l==null&&(l=.001);const c=E(t,"x","batchNorm"),f=E(e,"mean","batchNorm"),h=E(a,"variance","batchNorm");let m;i!=null&&(m=E(i,"scale","batchNorm"));let g;r!=null&&(g=E(r,"offset","batchNorm")),O(f.rank===h.rank,()=>"Batch normalization gradient requires mean and variance to have equal ranks."),O(g==null||f.rank===g.rank,()=>"Batch normalization gradient requires mean and offset to have equal ranks."),O(m==null||f.rank===m.rank,()=>"Batch normalization gradient requires mean and scale to have equal ranks.");const b={x:s$(c),scale:m,offset:g,mean:f,variance:h},N={varianceEpsilon:l},w=k.runKernel(Av,b,N);return Q(w,c.shape)}const To=$({batchNorm_:r$});function i$(t,e,a,r,i,l){const c=E(t,"x","batchNorm"),f=E(e,"mean","batchNorm"),h=E(a,"variance","batchNorm");let m;i!=null&&(m=E(i,"scale","batchNorm"));let g;return r!=null&&(g=E(r,"offset","batchNorm")),O(c.rank===2,()=>`Error in batchNorm2D: x must be rank 2 but got rank ${c.rank}.`),O(f.rank===2||f.rank===1,()=>`Error in batchNorm2D: mean must be rank 2 or rank 1 but got rank ${f.rank}.`),O(h.rank===2||h.rank===1,()=>`Error in batchNorm2D: variance must be rank 2 or rank 1 but got rank ${h.rank}.`),m!=null&&O(m.rank===2||m.rank===1,()=>`Error in batchNorm2D: scale must be rank 2 or rank 1 but got rank ${m.rank}.`),g!=null&&O(g.rank===2||g.rank===1,()=>`Error in batchNorm2D: offset must be rank 2 or rank 1 but got rank ${g.rank}.`),To(c,f,h,g,m,l)}const iw=$({batchNorm2d_:i$});function o$(t,e,a,r,i,l){const c=E(t,"x","batchNorm"),f=E(e,"mean","batchNorm"),h=E(a,"variance","batchNorm");let m;i!=null&&(m=E(i,"scale","batchNorm"));let g;return r!=null&&(g=E(r,"offset","batchNorm")),O(c.rank===3,()=>`Error in batchNorm3D: x must be rank 3 but got rank ${c.rank}.`),O(f.rank===3||f.rank===1,()=>`Error in batchNorm3D: mean must be rank 3 or rank 1 but got rank ${f.rank}.`),O(h.rank===3||h.rank===1,()=>`Error in batchNorm3D: variance must be rank 3 or rank 1 but got rank ${h.rank}.`),m!=null&&O(m.rank===3||m.rank===1,()=>`Error in batchNorm3D: scale must be rank 3 or rank 1 but got rank ${m.rank}.`),g!=null&&O(g.rank===3||g.rank===1,()=>`Error in batchNorm3D: offset must be rank 3 or rank 1 but got rank ${g.rank}.`),To(c,f,h,g,m,l)}const ow=$({batchNorm3d_:o$});function l$(t,e,a,r,i,l){const c=E(t,"x","batchNorm"),f=E(e,"mean","batchNorm"),h=E(a,"variance","batchNorm");let m;i!=null&&(m=E(i,"scale","batchNorm"));let g;return r!=null&&(g=E(r,"offset","batchNorm")),O(c.rank===4,()=>`Error in batchNorm4D: x must be rank 4 but got rank ${c.rank}.`),O(f.rank===4||f.rank===1,()=>`Error in batchNorm4D: mean must be rank 4 or rank 1 but got rank ${f.rank}.`),O(h.rank===4||h.rank===1,()=>`Error in batchNorm4D: variance must be rank 4 or rank 1 but got rank ${h.rank}.`),m!=null&&O(m.rank===4||m.rank===1,()=>`Error in batchNorm4D: scale must be rank 4 or rank 1 but got rank ${m.rank}.`),g!=null&&O(g.rank===4||g.rank===1,()=>`Error in batchNorm4D: offset must be rank 4 or rank 1 but got rank ${g.rank}.`),To(c,f,h,g,m,l)}const lw=$({batchNorm4d_:l$});function u$(t,e,a){const r=E(t,"x","bincount"),i=E(e,"weights","bincount");O(r.dtype==="int32",()=>`Error in bincount: input dtype must be int32, but got ${r.dtype}`),O(a>=0,()=>`size must be non-negative, but got ${a}.`),O(i.size===r.size||i.size===0,()=>`Error in bincount: weights must have the same size as input or0-length, but got input shape: ${r.shape}, weights shape: ${i.shape}.`);const l={x:r,weights:i},c={size:a};return k.runKernel(H1,l,c)}const Ud=$({bincount_:u$});function c$(t,e){const a=E(t,"x","bitwiseAnd"),r=E(e,"y","bitwiseAnd");if(!kn(a.shape,r.shape))throw new Error(`BitwiseAnd: Tensors must have the same shape. x: ${a.shape}, y: ${r.shape}`);if(a.dtype!=="int32"||r.dtype!=="int32")throw new Error(`BitwiseAnd: Only supports 'int32' values in tensor, found type of x: ${a.dtype} and type of y: ${r.dtype}`);const i={a,b:r};return k.runKernel(V1,i)}const uw=$({bitwiseAnd_:c$});function f$(t,e){const a=E(t,"s0","broadcastArgs","int32"),r=E(e,"s1","broadcastArgs","int32");if(a.rank!==1)throw new Error(`broadcastArgs(): first input must be a vector (rank=1). Has rank ${a.rank}`);if(r.rank!==1)throw new Error(`broadcastArgs(): second input must be a vector (rank=1). Has rank ${r.rank}`);const i={s0:a,s1:r};return k.runKernel(G1,i)}const cw=$({broadcastArgs_:f$});function h$(t,e){let a=E(t,"broadcastTo","x");const r=a.shape;if(Qt(e),e.length<a.rank)throw new Error(`broadcastTo(): shape.length=${e.length} < input.rank=${a.rank}.`);if(e.length>a.rank){const m=a.shape.slice();for(;m.length<e.length;)m.unshift(1);a=Q(a,m)}const i=a.shape,l=Array.from(e);for(let m=e.length-1;m>=0;m--)if(i[m]===e[m])l[m]=1;else if(a.shape[m]!==1)throw new Error(`broadcastTo(): [${r}] cannot be broadcast to [${e}].`);if(l.map((m,g)=>m>1?g:-1).filter(m=>m>=0).length===0)return da(a);const f={x:a},h={reps:l};return k.runKernel(Od,f,h)}const Zi=$({broadcastTo_:h$});function d$(t){const a={x:E(t,"x","ceil","float32")};return k.runKernel(K1,a)}const fw=$({ceil_:d$});function Gr(t,e,a){Qt(t),a=a||bo(e);const r={shape:t,value:e,dtype:a};return k.runKernel(Tv,{},r)}function m$(t,e,a){const r=E(t,"x","clipByValue");if(O(e<=a,()=>`Error in clip: min (${e}) must be less than or equal to max (${a}).`),e===a)return Gr(r.shape,e,r.dtype);const i={x:r},l={clipValueMin:e,clipValueMax:a};return k.runKernel(Y1,i,l)}const hw=$({clipByValue_:m$});function p$(t){return At(t,0)}const dw=$({concat1d_:p$});function g$(t,e){return At(t,e)}const mw=$({concat2d_:g$});function y$(t,e){return At(t,e)}const pw=$({concat3d_:y$});function b$(t,e){return At(t,e)}const gw=$({concat4d_:b$});function v$(t,e,a,r,i="NHWC",l=[1,1],c){const f=E(t,"x","conv2d","float32"),h=E(e,"filter","conv2d","float32");let m=f,g=!1;f.rank===3&&(g=!0,m=Q(f,[1,f.shape[0],f.shape[1],f.shape[2]])),O(m.rank===4,()=>`Error in conv2d: input must be rank 4, but got rank ${m.rank}.`),O(h.rank===4,()=>`Error in conv2d: filter must be rank 4, but got rank ${h.rank}.`),Tn("conv2d",r,c);const y=i==="NHWC"?m.shape[3]:m.shape[1];O(y===h.shape[2],()=>`Error in conv2d: depth of input (${y}) must match input depth for filter ${h.shape[2]}.`),O(ga(a,l),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${a} and dilations '${l}'`),O(Ls(l),()=>"Error in conv2D: Dilated rates should be larger than 0."),O(Ls(a),()=>"Error in conv2D: Strides should be larger than 0.");const b={x:m,filter:h},N={strides:a,pad:r,dataFormat:i,dilations:l,dimRoundingMode:c},w=k.runKernel(Z1,b,N);return g?Q(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const Eo=$({conv2d_:v$});function S$(t,e,a,r,i="NWC",l=1,c){const f=E(t,"x","conv1d"),h=E(e,"filter","conv1d");let m=f,g=!1;f.rank===2&&(g=!0,m=Q(f,[1,f.shape[0],f.shape[1]])),O(m.rank===3,()=>`Error in conv1d: input must be rank 3, but got rank ${m.rank}.`),O(h.rank===3,()=>`Error in conv1d: filter must be rank 3, but got rank ${h.rank}.`),Tn("conv1d",r,c),O(m.shape[2]===h.shape[1],()=>`Error in conv1d: depth of input (${m.shape[2]}) must match input depth for filter ${h.shape[1]}.`),O(ga(a,l),()=>`Error in conv1D: Either stride or dilation must be 1. Got stride ${a} and dilation '${l}'`),O(Ls(l),()=>"Error in conv1D: Dilated rates should be larger than 0."),O(Ls(a),()=>"Error in conv1D: Stride should be larger than 0."),O(i==="NWC",()=>`Error in conv1d: got dataFormat of ${i} but only NWC is currently supported.`);const y=Q(h,[1,h.shape[0],h.shape[1],h.shape[2]]),b=Q(m,[m.shape[0],1,m.shape[1],m.shape[2]]),_=Eo(b,y,[1,a],r,"NHWC",[1,l],c);return g?Q(_,[_.shape[2],_.shape[3]]):Q(_,[_.shape[0],_.shape[2],_.shape[3]])}const yw=$({conv1d_:S$});function N$(t,e,a,r,i,l="NHWC",c){O(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let f=t,h=e,m=!1;e.rank===3&&(m=!0,h=Q(e,[1,e.shape[0],e.shape[1],e.shape[2]]),f=[1,t[0],t[1],t[2]]),O(f.length===4,()=>`Error in conv2dDerInput: inShape must be length 4, but got length ${f.length}.`),O(h.rank===4,()=>`Error in conv2dDerInput: dy must be rank 4, but got rank ${h.rank}`),O(a.rank===4,()=>`Error in conv2dDerInput: filter must be rank 4, but got rank ${a.rank}`);const g=l==="NHWC"?f[3]:f[1],y=l==="NHWC"?h.shape[3]:h.shape[1];O(g===a.shape[2],()=>`Error in conv2dDerInput: depth of input (${g}) must match input depth for filter ${a.shape[2]}.`),O(y===a.shape[3],()=>`Error in conv2dDerInput: depth of output (${y}) must match output depth for filter ${a.shape[3]}.`),Tn("conv2dDerInput",i,c);const b={dy:h,filter:a},N={strides:r,pad:i,dataFormat:l,dimRoundingMode:c,inputShape:f},w=k.runKernel(J1,b,N);return m?Q(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const bw=$({conv2DBackpropInput_:N$});function w$(t,e,a,r,i,l){const c=E(t,"x","conv2dTranspose"),f=E(e,"filter","conv2dTranspose");return bw(a,c,f,r,i,"NHWC",l)}const vw=$({conv2dTranspose_:w$});function T$(t,e,a,r,i="NDHWC",l=[1,1,1]){const c=E(t,"x","conv3d"),f=E(e,"filter","conv3d");let h=c,m=!1;c.rank===4&&(m=!0,h=Q(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),O(h.rank===5,()=>`Error in conv3d: input must be rank 5, but got rank ${h.rank}.`),O(f.rank===5,()=>`Error in conv3d: filter must be rank 5, but got rank ${f.rank}.`),O(h.shape[4]===f.shape[3],()=>`Error in conv3d: depth of input (${h.shape[4]}) must match input depth for filter ${f.shape[3]}.`),O(ga(a,l),()=>`Error in conv3D: Either strides or dilations must be 1. Got strides ${a} and dilations '${l}'`),O(i==="NDHWC",()=>`Error in conv3d: got dataFormat of ${i} but only NDHWC is currently supported.`),O(Ls(l),()=>"Error in conv3D: Dilated rates should be larger than 0."),O(Ls(a),()=>"Error in conv3D: Strides should be larger than 0.");const g={x:h,filter:f},y={strides:a,pad:r,dataFormat:i,dilations:l},b=k.runKernel(ev,g,y);return m?Q(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const Sw=$({conv3d_:T$});function E$(t,e,a,r,i){O(t.length===e.rank,()=>`Length of inShape (${t.length}) and rank of dy (${e.rank}) must match`);let l=t,c=e,f=!1;e.rank===4&&(f=!0,c=Q(e,[1,e.shape[0],e.shape[1],e.shape[2],e.shape[3]]),l=[1,t[0],t[1],t[2],t[3]]);const h=l[4],m=c.shape[4];O(l.length===5,()=>`Error in conv3dDerInput: inShape must be length 5, but got length ${l.length}.`),O(c.rank===5,()=>`Error in conv3dDerInput: dy must be rank 5, but got rank ${c.rank}`),O(a.rank===5,()=>`Error in conv3dDerInput: filter must be rank 5, but got rank ${a.rank}`),O(h===a.shape[3],()=>`Error in conv3dDerInput: depth of input (${h}) must match input depth for filter ${a.shape[3]}.`),O(m===a.shape[4],()=>`Error in conv3dDerInput: depth of output (${m}) must match output depth for filter ${a.shape[4]}.`);const g={dy:c,filter:a},y={pad:i,strides:r,inputShape:l},b=k.runKernel(tv,g,y);return f?Q(b,[b.shape[1],b.shape[2],b.shape[3],b.shape[4]]):b}const _$=$({conv3DBackpropInput_:E$});function x$(t,e,a,r,i){const l=E(t,"x","conv3dTranspose"),c=E(e,"filter","conv3dTranspose");return _$(a,l,c,r,i)}const Nw=$({conv3dTranspose_:x$});function A$(t){const a={x:E(t,"x","cos","float32")};return k.runKernel(nv,a)}const ww=$({cos_:A$});function O$(t){const a={x:E(t,"x","cosh","float32")};return k.runKernel(av,a)}const Tw=$({cosh_:O$});function D$(t,e=0,a=!1,r=!1){const l={x:E(t,"x","cumprod")},c={axis:e,exclusive:a,reverse:r};return k.runKernel(sv,l,c)}const Ew=$({cumprod_:D$});function $$(t,e=0,a=!1,r=!1){const l={x:E(t,"x","cumsum")},c={axis:e,exclusive:a,reverse:r};return k.runKernel(rv,l,c)}const _w=$({cumsum_:$$});function k$(t,e,a,r=!1){const i=E(t,"x","denseBincount"),l=E(e,"weights","denseBincount");O(i.dtype==="int32",()=>`Error in denseBincount: input dtype must be int32, but got ${i.dtype}`),O(i.rank<=2,()=>`Error in denseBincount: input must be at most rank 2, but got rank ${i.rank}.`),O(a>=0,()=>`size must be non-negative, but got ${a}.`),O(l.size===i.size||l.size===0,()=>`Error in denseBincount: weights must have the same shape as x or 0-length, but got x shape: ${i.shape}, weights shape: ${l.shape}.`);const c={x:i,weights:l},f={size:a,binaryOutput:r};return k.runKernel(ov,c,f)}const xw=$({denseBincount_:k$});function R$(t,e,a="NHWC"){const r=E(t,"x","depthToSpace","float32"),i=a==="NHWC"?r.shape[1]:r.shape[2],l=a==="NHWC"?r.shape[2]:r.shape[3],c=a==="NHWC"?r.shape[3]:r.shape[1];O(e>1,()=>`blockSize should be > 1 for depthToSpace, but was: ${e}`),O(i*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${i} and ${e}  for depthToSpace with input shape
    ${r.shape}`),O(l*e>=0,()=>`Negative dimension size caused by overflow when multiplying
    ${l} and ${e} for depthToSpace with input shape
        ${r.shape}`),O(c%(e*e)===0,()=>`Dimension size must be evenly divisible by ${e*e} but is ${c} for depthToSpace with input shape ${r.shape}`);const f={x:r},h={blockSize:e,dataFormat:a};return k.runKernel(lv,f,h)}const Aw=$({depthToSpace_:R$});function z$(t,e,a,r,i="NHWC",l=[1,1],c){const f=E(t,"x","depthwiseConv2d","float32"),h=E(e,"filter","depthwiseConv2d","float32");let m=f,g=!1;f.rank===3&&(g=!0,m=Q(f,[1,f.shape[0],f.shape[1],f.shape[2]])),O(m.rank===4,()=>`Error in depthwiseConv2d: input must be rank 4, but got rank ${m.rank}.`),O(h.rank===4,()=>`Error in depthwiseConv2d: filter must be rank 4, but got rank ${h.rank}.`);const y=i==="NHWC"?m.shape[3]:m.shape[1];O(y===h.shape[2],()=>`Error in depthwiseConv2d: number of input channels (${y}) must match the inChannels dimension in filter ${h.shape[2]}.`),Tn("depthwiseConv2d",r,c);const b={x:m,filter:h},N={strides:a,pad:r,dataFormat:i,dilations:l,dimRoundingMode:c},w=k.runKernel(uv,b,N);return g?Q(w,[w.shape[1],w.shape[2],w.shape[3]]):w}const ju=$({depthwiseConv2d_:z$});function C$(t){const a={x:E(t,"x","diag")};return k.runKernel(hv,a)}const Ow=$({diag_:C$});function j$(t,e,a,r,i=[1,1],l="NHWC"){const c=E(t,"x","dilation2d"),f=E(e,"filter","dilation2d");O(c.rank===3||c.rank===4,()=>`Error in dilation2d: input must be rank 3 or 4, but got rank ${c.rank}.`),O(f.rank===3,()=>`Error in dilation2d: filter must be rank 3, but got rank ${f.rank}.`),O(l==="NHWC",()=>`Error in dilation2d: Only NHWC is currently supported, but got dataFormat of ${l}`);let h=c,m=!1;c.rank===3&&(h=Q(c,[1,c.shape[0],c.shape[1],c.shape[2]]),m=!0),O(h.shape[3]===f.shape[2],()=>`Error in dilation2d:  input and filter must have the same depth: ${h.shape[3]} vs ${f.shape[2]}`);const g={x:h,filter:f},y={strides:a,pad:r,dilations:i},b=k.runKernel(dv,g,y);return m?Q(b,[b.shape[1],b.shape[2],b.shape[3]]):b}const Dw=$({dilation2d_:j$});function $w(t,e){const a=t.length,r=[];for(let i=0;i<a;i++){const l=a-1-i,c=t[l]||1;(e[e.length-1-i]||1)>1&&c===1&&r.unshift(l)}return r}function Fd(t,e){const a=[];for(let r=0;r<e.length;r++){const i=t[t.length-r-1],l=e.length-r-1,c=e[l];(i==null||i===1&&c>1)&&a.unshift(l)}return a}function ct(t,e){const a=Math.max(t.length,e.length),r=new Array(a);for(let i=0;i<a;i++){let l=t[t.length-i-1];l==null&&(l=1);let c=e[e.length-i-1];if(c==null&&(c=1),l===1)r[a-i-1]=c;else if(c===1)r[a-i-1]=l;else if(l!==c){const f=`Operands could not be broadcast together with shapes ${t} and ${e}.`;throw Error(f)}else r[a-i-1]=l}return r}const B$=Object.freeze(Object.defineProperty({__proto__:null,assertAndGetBroadcastShape:ct,getBroadcastDims:$w,getReductionAxes:Fd},Symbol.toStringTag,{value:"Module"}));function I$(t,e){let a=E(t,"a","equal","string_or_numeric"),r=E(e,"b","equal","string_or_numeric");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(bv,i)}const qd=$({equal_:I$});function L$(t,e,a){const r=E(e,"a","where"),i=E(a,"b","where"),l=E(t,"condition","where","bool"),c=ct(ct(l.shape,r.shape),i.shape),f=Zi(l,c),h=Zi(r,c),m=Zi(i,c),g={condition:f,t:h,e:m};return k.runKernel(CS,g)}const ma=$({where_:L$});function M$(t){const a={x:E(t,"x","zerosLike")};return k.runKernel(hN,a)}const Zt=$({zerosLike_:M$});function U$(t,e){let a=E(t,"a","div"),r=E(e,"b","div");[a,r]=nt(a,r);const i=Pe(a,r),l=Zt(i),c=qd(r,l);return ma(c,l,i)}const kw=$({divNoNan_:U$});function F$(t,e){const a=E(t,"t1","dot"),r=E(e,"t2","dot");O((a.rank===1||a.rank===2)&&(r.rank===1||r.rank===2),()=>`Error in dot: inputs must all be rank 1 or 2, but got ranks ${a.rank} and ${r.rank}.`);const i=a.rank===1?a.size:a.shape[1],l=r.rank===1?r.size:r.shape[0];if(O(i===l,()=>`Error in dot: inner dimensions of inputs must match, but got ${i} and ${l}.`),a.rank===1&&r.rank===1){const c=Q(a,[1,-1]),f=Q(r,[-1,1]),h=Be(c,f);return Q(h,[])}else if(a.rank===1&&r.rank===2){const c=Q(a,[1,-1]),f=Q(r,[r.shape[0],r.shape[1]]),h=Be(c,f);return Q(h,[h.size])}else if(a.rank===2&&r.rank===1){const c=Q(r,[-1,1]),f=Be(a,c);return Q(f,[f.size])}else{const c=Q(r,[r.shape[0],r.shape[1]]);return Be(a,c)}}const Rw=$({dot_:F$});function q$(t,...e){const a=e.map((i,l)=>E(i,`tensors${l}`,"einsum")),r={equation:t};return k.runKernel(pv,a,r)}const xs=$({einsum_:q$});function H$(t){const a={x:E(t,"x","elu","float32")};return k.runKernel(gv,a)}const Hd=$({elu_:H$});function V$(t,e){const a=E(t,"x","ensureShape","string_or_numeric");if(!p1(a.shape,e))throw new Error(`EnsureShape: Shape of tensor ${a.shape} is not compatible with expected shape ${e}`);return t}const zw=$({ensureShape_:V$});function G$(t){let e=E(t,"x","erf");O(e.dtype==="int32"||e.dtype==="float32",()=>"Input dtype must be `int32` or `float32`."),e.dtype==="int32"&&(e=We(e,"float32"));const a={x:e};return k.runKernel(yv,a)}const Cw=$({erf_:G$});function Vd(t,e){for(let a=0;a<t.length;++a)if(t[t.length-a-1]!==e-1-a)return!1;return!0}function jw(t,e,a){const r=t.length+e.length,i=[];let l=0,c=0;for(let f=0;f<r;f++)a.indexOf(f)===-1?i.push(t[l++]):i.push(e[c++]);return i}function K$(t,e){const a=[],r=t.length;for(let l=0;l<r;l++)e.indexOf(l)===-1&&a.push(t[l]);const i=e.map(l=>t[l]);return[a,i]}function _o(t,e){const a=e.map(r=>1);return jw(t,a,e)}function Y$(t,e,a){O(Vd(e,a),()=>`${t} supports only inner-most axes for now. Got axes ${e} and rank-${a} input.`)}function X$(t,e){if(Vd(t,e))return null;const a=[];for(let r=0;r<e;++r)t.indexOf(r)===-1&&a.push(r);return t.forEach(r=>a.push(r)),a}function P$(t){return t.map((e,a)=>[a,e]).sort((e,a)=>e[1]-a[1]).map(e=>e[0])}function W$(t,e){const a=[];for(let r=e-t;r<e;++r)a.push(r);return a}function Z$(t,e=null,a=!1){const i={x:E(t,"x","max")},l={reductionIndices:e,keepDims:a};return k.runKernel(Yv,i,l)}const zs=$({max_:Z$});function Q$(t,e=null,a=!1){const i={x:E(t,"x","min")},l={axis:e,keepDims:a};return k.runKernel(Jv,i,l)}const Nu=$({min_:Q$});function J$(t,e){let a=E(t,"base","pow"),r=E(e,"exp","pow");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(mS,i)}const Ir=$({pow_:J$});function ke(t,e){if((yt(t)&&e!=="string"||Array.isArray(t))&&e!=="complex64")throw new Error("Error creating a new Scalar: value must be a primitive (number|boolean|string)");if(e==="string"&&yt(t)&&!(t instanceof Uint8Array))throw new Error("When making a scalar from encoded string, the value must be `Uint8Array`.");return ts(t,[],[],e)}function ek(t){const a={x:E(t,"x","sqrt","float32")};return k.runKernel(qS,a)}const qn=$({sqrt_:ek});function tk(t){const e=E(t,"x","square"),a={};return k.runKernel("Square",{x:e},a)}const wn=$({square_:tk});function nk(t,e=null,a=!1){let r=E(t,"x","sum");r.dtype==="bool"&&(r=We(r,"int32"));const i={x:r},l={axis:e,keepDims:a};return k.runKernel(HS,i,l)}const Xe=$({sum_:nk});function ak(t,e="euclidean",a=null,r=!1){t=E(t,"x","norm");const i=Bw(t,e,a);let l=i.shape;if(r){const c=yo(a,t.shape);l=_o(i.shape,c)}return Q(i,l)}function Bw(t,e,a=null){if(t.rank===0)return Xt(t);if(t.rank!==1&&a===null)return Bw(Q(t,[-1]),e,a);if(t.rank===1||typeof a=="number"||Array.isArray(a)&&a.length===1){if(e===1)return Xe(Xt(t),a);if(e===1/0)return zs(Xt(t),a);if(e===-1/0)return Nu(Xt(t),a);if(e==="euclidean"||e===2)return qn(Xe(Ir(Xt(t),ke(2,"int32")),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}if(Array.isArray(a)&&a.length===2){if(e===1)return zs(Xe(Xt(t),a[0]),a[1]-1);if(e===1/0)return zs(Xe(Xt(t),a[1]),a[0]);if(e===-1/0)return Nu(Xe(Xt(t),a[1]),a[0]);if(e==="fro"||e==="euclidean")return qn(Xe(wn(t),a));throw new Error(`Error in norm: invalid ord value: ${e}`)}throw new Error(`Error in norm: invalid axis: ${a}`)}const xo=$({norm_:ak});function sk(t,e=null,a=!1){return xo(t,"euclidean",e,a)}const Iw=$({euclideanNorm_:sk});function rk(t){const a={x:E(t,"x","exp")};return k.runKernel(vv,a)}const Ja=$({exp_:rk});function ik(t,e=0){const a=E(t,"x","expandDims","string_or_numeric");O(e<=a.rank,()=>"Axis must be <= rank of the tensor");const r={input:a},i={dim:e};return k.runKernel(Sv,r,i)}const ua=$({expandDims_:ik});function ok(t){const a={x:E(t,"x","expm1")};return k.runKernel(Nv,a)}const Lw=$({expm1_:ok});function lk(t,e){const a=E(t,"x","tile","string_or_numeric");O(a.rank===e.length,()=>`Error in transpose: rank of input ${a.rank} must match length of reps ${e}.`);const r={x:a},i={reps:e};return k.runKernel(Od,r,i)}const kr=$({tile_:lk});function uk(t,e,a,r="float32"){e==null&&(e=t);const i=Fn([t,e],r),l=t<=e?t:e;for(let f=0;f<l;++f)i.set(1,f,f);const c=Q(i.toTensor(),[t,e]);if(a==null)return c;if(a.length===1)return kr(ua(c,0),[a[0],1,1]);if(a.length===2)return kr(ua(ua(c,0),0),[a[0],a[1],1,1]);if(a.length===3)return kr(ua(ua(ua(c,0),0),0),[a[0],a[1],a[2],1,1]);throw new Error(`eye() currently supports only 1D and 2D batchShapes, but received ${a.length}D.`)}const Gd=$({eye_:uk});function ck(t){const a={x:E(t,"x","floor","float32")};return k.runKernel(_v,a)}const Kd=$({floor_:ck});function fk(t,e,a=0,r=0){const i=E(t,"x","gather"),l=E(e,"indices","gather","int32"),c={x:i,indices:l},f={axis:a,batchDims:r};return k.runKernel(Ov,c,f)}const Yd=$({gather_:fk});function hk(t,e){let a=E(t,"a","greater","string_or_numeric"),r=E(e,"b","greater","string_or_numeric");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel($v,i)}const Ao=$({greater_:hk});function dk(t,e){let a=E(t,"a","greaterEqual","string_or_numeric"),r=E(e,"b","greaterEqual","string_or_numeric");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(kv,i)}const Xd=$({greaterEqual_:dk});function mk(t){const a={input:E(t,"input","imag")};return k.runKernel(zv,a)}const Oo=$({imag_:mk});function pk(t){const a={x:E(t,"x","isFinite")};return k.runKernel(Cv,a)}const Mw=$({isFinite_:pk});function gk(t){const a={x:E(t,"x","isInf")};return k.runKernel(jv,a)}const Uw=$({isInf_:gk});function yk(t){const a={x:E(t,"x","isNaN")};return k.runKernel(Bv,a)}const Fw=$({isNaN_:yk});function bk(t,e=.2){const r={x:E(t,"x","leakyRelu")},i={alpha:e};return k.runKernel(Iv,r,i)}const Pd=$({leakyRelu_:bk});function vk(t,e){let a=E(t,"a","less","string_or_numeric"),r=E(e,"b","less","string_or_numeric");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(Lv,i)}const wu=$({less_:vk});function Sk(t,e){let a=E(t,"a","lessEqual","string_or_numeric"),r=E(e,"b","lessEqual","string_or_numeric");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(Mv,i)}const Bu=$({lessEqual_:Sk});function qw(t,e,a){if(a<=0)throw new Error("The number of values should be positive.");const r={start:t,stop:e,num:a};return k.runKernel(Uv,{},r)}function Nk(t,e=5,a=1,r=1,i=.5){const l=E(t,"x","localResponseNormalization");O(l.rank===4||l.rank===3,()=>`Error in localResponseNormalization: x must be rank 3 or 4 but got
               rank ${l.rank}.`),O(Cr(e),()=>`Error in localResponseNormalization: depthRadius must be an integer but got depthRadius ${e}.`);let c=l,f=!1;l.rank===3&&(f=!0,c=Q(l,[1,l.shape[0],l.shape[1],l.shape[2]]));const h={x:c},m={depthRadius:e,bias:a,alpha:r,beta:i},g=k.runKernel(Kv,h,m);return f?Q(g,[g.shape[1],g.shape[2],g.shape[3]]):g}const Hw=$({localResponseNormalization_:Nk});function wk(t){const a={x:E(t,"x","log","float32")};return k.runKernel(Fv,a)}const Lr=$({log_:wk});function Tk(t){const a={x:E(t,"x","log1p")};return k.runKernel(qv,a)}const Wd=$({log1p_:Tk});function Ek(t){return O(Pa(t),()=>"The f passed in grad(f) must be a function"),(e,a)=>{const r=E(e,"x","tf.grad","string_or_numeric"),i=a!=null?E(a,"dy","tf.grad"):null;return k.tidy(()=>{const{value:l,grads:c}=k.gradients(()=>t(r),[r],i);return i!=null&&Ct(l.shape,i.shape,"The shape of dy passed in grad(f)(x, dy) must match the shape returned by f(x)"),Iu(c),c[0]})}}function _k(t){return O(Pa(t),()=>"The f passed in grads(f) must be a function"),(e,a)=>{O(Array.isArray(e),()=>"The args passed in grads(f)(args) must be an array of `Tensor`s or `TensorLike`s");const r=ao(e,"args","tf.grads","string_or_numeric"),i=a!=null?E(a,"dy","tf.grads"):null;return k.tidy(()=>{const{value:l,grads:c}=k.gradients(()=>t(...r),r,i);return i!=null&&Ct(l.shape,i.shape,"The shape of dy passed in grads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Iu(c),c})}}function xk(t){return O(Pa(t),()=>"The f passed in valueAndGrad(f) must be a function"),(e,a)=>{O(e instanceof at,()=>"The x passed in valueAndGrad(f)(x) must be a tensor"),O(a==null||a instanceof at,()=>"The dy passed in valueAndGrad(f)(x, dy) must be a tensor");const{grads:r,value:i}=k.gradients(()=>t(e),[e],a);return Iu(r),{grad:r[0],value:i}}}function Ak(t){return O(Pa(t),()=>"The f passed in valueAndGrads(f) must be a function"),(e,a)=>{O(Array.isArray(e)&&e.every(i=>i instanceof at),()=>"The args passed in valueAndGrads(f)(args) must be array of tensors"),O(a==null||a instanceof at,()=>"The dy passed in valueAndGrads(f)(args, dy) must be a tensor");const r=k.gradients(()=>t(...e),e,a);return a!=null&&Ct(r.value.shape,a.shape,"The shape of dy passed in valueAndGrads(f)([x1,...], dy) must match the shape returned by f([x1,...])"),Iu(r.grads),r}}function Vw(t,e){O(Pa(t),()=>"The f passed in variableGrads(f) must be a function"),O(e==null||Array.isArray(e)&&e.every(m=>m instanceof no),()=>"The varList passed in variableGrads(f, varList) must be an array of variables");const a=e!=null;if(!a){e=[];for(const m in k.registeredVariables)e.push(k.registeredVariables[m])}const r=a?e.filter(m=>!m.trainable):null,i=e.length;e=e.filter(m=>m.trainable),O(e.length>0,()=>`variableGrads() expects at least one of the input variables to be trainable, but none of the ${i} variables is trainable.`);const l=!0,{value:c,grads:f}=k.gradients(t,e,null,l);O(f.some(m=>m!=null),()=>"Cannot find a connection between any variable and the result of the loss function y=f(x). Please make sure the operations that use variables are inside the function f passed to minimize()."),O(c.rank===0,()=>`The f passed in variableGrads(f) must return a scalar, but it returned a rank-${c.rank} tensor`);const h={};return e.forEach((m,g)=>{f[g]!=null&&(h[m.name]=f[g])}),r?.forEach(m=>h[m.name]=null),{value:c,grads:h}}function Hn(t){return k.customGrad(t)}function Iu(t){if(t.filter(a=>a==null).length>0)throw new Error(`Cannot compute gradient of y=f(x) with respect to x. Make sure that
    the f you passed encloses all operations that lead from x to y.`)}function Ok(t){const a={x:E(t,"x","neg")};return k.runKernel(rS,a)}const $n=$({neg_:Ok});function Dk(t){const a={x:E(t,"x","softplus")};return k.runKernel(FS,a)}const Zd=$({softplus_:Dk});function $k(t){const e=E(t,"x","logSigmoid");return Hn(r=>({value:$n(Zd($n(r))),gradFunc:c=>oe(c,Rs($n(r)))}))(e)}const Gw=$({logSigmoid_:$k});function kk(t,e){let a=E(t,"a","sub"),r=E(e,"b","sub");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(sN,i)}const _e=$({sub_:kk});function Rk(t,e=-1){const a=E(t,"logits","logSoftmax");if(e===-1&&(e=a.rank-1),e!==a.rank-1)throw Error(`Log Softmax along a non-last dimension is not yet supported. Logits was rank ${a.rank} and axis was ${e}`);return Hn((i,l)=>{const f=zs(i,e,!0),h=_e(i,f),m=_e(We(h,"float32"),Lr(Xe(Ja(h),e,!0)));return l([m]),{value:m,gradFunc:(y,b)=>{const[N]=b,w=!0,x=Ja(N);return _e(y,oe(Xe(y,e,w),x))}}})(a)}const Kw=$({logSoftmax_:Rk});function zk(t,e=null,a=!1){const r=E(t,"x","logSumExp"),i=yo(e,r.shape),l=zs(r,i,!0),c=_e(r,l),f=Ja(c),h=Xe(f,i),m=Lr(h),g=be(Q(l,m.shape),m);if(a){const y=_o(g.shape,i);return Q(g,y)}return g}const Qd=$({logSumExp_:zk});function Ck(t,e){const a=E(t,"a","logicalAnd","bool"),r=E(e,"b","logicalAnd","bool");ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(Hv,i)}const oo=$({logicalAnd_:Ck});function jk(t){const a={x:E(t,"x","logicalNot","bool")};return k.runKernel(Vv,a)}const Jd=$({logicalNot_:jk});function Bk(t,e){const a=E(t,"a","logicalOr","bool"),r=E(e,"b","logicalOr","bool");ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(Gv,i)}const em=$({logicalOr_:Bk});function Ik(t,e){const a=E(t,"a","logicalXor","bool"),r=E(e,"b","logicalXor","bool");return ct(a.shape,r.shape),oo(em(t,e),Jd(oo(t,e)))}const Yw=$({logicalXor_:Ik});const Wl=2147483648;function Lk(t,e,a="left"){const r=E(t,"sortedSequence","searchSorted"),i=E(e,"values","searchSorted"),l=r.shape[r.shape.length-1],c=i.shape[i.shape.length-1],f=Q(r,[-1,l]),h=Q(i,[-1,c]);if(f.rank<2)throw new Error("Sorted input argument must be at least 2-dimensional");if(f.shape[0]!==h.shape[0])throw new Error("Leading dimension of 'sortedSequence' and 'values' must match.");if(Fe(h.shape)>=Wl)throw new Error(`values tensor size must less than ${Wl}`);if(f.shape[1]>=Wl)throw new Error(`trailing dim_size must less than ${Wl} for int32 output type, was ${f.shape[1]}`);const m={sortedSequence:f,values:h},g={side:a};return k.runKernel(zS,m,g)}const Lu=$({searchSorted_:Lk});function Xw(t,e){return Lu(t,e,"left")}function Mk(t,e,a,r,i){const l=E(t,"x","maxPool"),c=1;let f=l,h=!1;l.rank===3&&(h=!0,f=Q(l,[1,l.shape[0],l.shape[1],l.shape[2]])),O(f.rank===4,()=>`Error in maxPool: input must be rank 4 but got rank ${f.rank}.`),O(ga(a,c),()=>`Error in maxPool: Either strides or dilations must be 1. Got strides ${a} and dilations '${c}'`),Tn("maxPool",r,i);const m={x:f},g={filterSize:e,strides:a,pad:r,dimRoundingMode:i},y=k.runKernel(Pv,m,g);return h?Q(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const tm=$({maxPool_:Mk});function Uk(t,e=[1,1,1],a,r,i,l="NDHWC"){const c=E(t,"x","maxPool3d");let f=c,h=!1;c.rank===4&&(h=!0,f=Q(c,[1,c.shape[0],c.shape[1],c.shape[2],c.shape[3]])),O(f.rank===5,()=>`Error in maxPool3d: x must be rank 5 but got rank ${f.rank}.`),O(l==="NDHWC",()=>`Error in maxPool3d: Only NDHWC is currently supported, but got dataFormat of ${l}`),Tn("maxPool3d",r,i);const m={x:f},g={filterSize:e,strides:a,pad:r,dimRoundingMode:i,dataFormat:l},y=k.runKernel(Wv,m,g);return h?Q(y,[y.shape[1],y.shape[2],y.shape[3],y.shape[4]]):y}const Pw=$({maxPool3d_:Uk});function Fk(t,e,a,r,i=!1){const c={x:E(t,"x","maxPoolWithArgmax")},f={filterSize:e,strides:a,pad:r,includeBatchInIndex:i},h=k.runKernel(Zv,c,f);return{result:h[0],indexes:h[1]}}const Ww=$({maxPoolWithArgmax_:Fk});function qk(t,e){let a=E(t,"a","maximum"),r=E(e,"b","maximum");[a,r]=nt(a,r),a.dtype==="bool"&&(a=We(a,"int32"),r=We(r,"int32")),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(Xv,i)}const nm=$({maximum_:qk});function Hk(t,e=null,a=!1){const i={x:E(t,"x","mean")},l={axis:e,keepDims:a};return k.runKernel(Qv,i,l)}const lo=$({mean_:Hk});function Ms(t,e="float32"){if(Qt(t),e==="complex64"){const r=Ms(t,"float32"),i=Ms(t,"float32");return pa(r,i)}const a=Ru(Fe(t),e);return k.makeTensor(a,t,e)}function Ya(t,e="float32"){if(Qt(t),e==="complex64"){const r=Ya(t,"float32"),i=Ms(t,"float32");return pa(r,i)}const a=Nd(Fe(t),e);return k.makeTensor(a,t,e)}function Zw(t,e,{indexing:a="xy"}={}){if(a!=="xy"&&a!=="ij")throw new TypeError(`${a} is not a valid third argument to meshgrid`);if(t===void 0)return[];let r=E(t,"x","meshgrid",t instanceof at?t.dtype:"float32");if(e===void 0)return[r];let i=E(e,"y","meshgrid",e instanceof at?e.dtype:"float32");const l=Fe(r.shape),c=Fe(i.shape);return a==="xy"?(r=Q(r,[1,-1]),i=Q(i,[-1,1]),[Be(Ya([c,1],r.dtype),r),Be(i,Ya([1,l],i.dtype))]):(r=Q(r,[-1,1]),i=Q(i,[1,-1]),[Be(r,Ya([1,c],r.dtype)),Be(Ya([l,1],i.dtype),i)])}function Vk(t,e){let a=E(t,"a","minimum"),r=E(e,"b","minimum");[a,r]=nt(a,r),a.dtype==="bool"&&(a=We(a,"int32"),r=We(r,"int32")),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(eS,i)}const uo=$({minimum_:Vk});function Gk(t,e,a){O(a==="reflect"||a==="symmetric",()=>`Invalid mode. Mode must be either reflect or symmetric. Got ${a}.`);const r=E(t,"x","mirrorPad");if(r.rank===0)throw new Error("mirrorPad(scalar) is not defined. Pass non-scalar to mirrorPad");O(e.length===r.rank,()=>`Padding doesn't match input. Must be ${r.rank}. Got ${e.length}.`);const i=a==="reflect"?1:0;for(let f=0;f<r.rank;f++)O(e[f].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),O(e[f][0]>=0&&e[f][0]<=r.shape[f]-i&&e[f][1]>=0&&e[f][1]<=r.shape[f]-i,()=>`Padding in dimension ${f} cannot be greater than or equal to ${r.shape[f]-i} or less than 0 for input of shape ${r.shape}`);const l={paddings:e,mode:a},c={x:r};return k.runKernel(tS,c,l)}const Qw=$({mirrorPad_:Gk});function Kk(t,e){let a=E(t,"a","mod"),r=E(e,"b","mod");[a,r]=nt(a,r);const i={a,b:r};return k.runKernel(nS,i)}const Jw=$({mod_:Kk});function Yk(t,e=null,a=!1){t=E(t,"x","moments");const r=yo(e,t.shape),i=lo(t,r,a);let l=i.shape;a||(l=_o(i.shape,r));const c=wn(_e(We(t,"float32"),Q(i,l))),f=lo(c,r,a);return{mean:i,variance:f}}const e2=$({moments_:Yk});function Xk(t,e,a,r){const i=E(e,"data","multiRNNCell"),l=ao(a,"c","multiRNNCell"),c=ao(r,"h","multiRNNCell");let f=i;const h=[];for(let y=0;y<t.length;y++){const b=t[y](f,l[y],c[y]);h.push(b[0]),h.push(b[1]),f=b[1]}const m=[],g=[];for(let y=0;y<h.length;y+=2)m.push(h[y]),g.push(h[y+1]);return[m,g]}const t2=$({multiRNNCell_:Xk});function Pk(t,e,a,r=!1){const i=E(t,"logits","multinomial"),l=i.size,c=i.rank;if(l<2)throw new Error(`Error in multinomial: you need at least 2 outcomes, but got ${l}.`);if(c>2)throw new Error(`Rank of probabilities must be 1 or 2, but is ${c}`);a=a||Math.random();const h={logits:c===1?Q(i,[1,-1]):i},m={numSamples:e,seed:a,normalized:r},g=k.runKernel(aS,h,m);return c===1?Q(g,[g.size]):g}const n2=$({multinomial_:Pk});function Wk(t,e){let a=E(t,"a","notEqual","string_or_numeric"),r=E(e,"b","notEqual","string_or_numeric");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r};return k.runKernel(iS,i)}const am=$({notEqual_:Wk});function Zk(t,e,a=1,r=0,i="int32"){if(e<2)throw new Error(`Error in oneHot: depth must be >=2, but it is ${e}`);const c={indices:E(t,"indices","oneHot","int32")},f={dtype:i,depth:e,onValue:a,offValue:r};return k.runKernel(fS,c,f)}const Tu=$({oneHot_:Zk});function Qk(t){const a={x:E(t,"x","onesLike")};return k.runKernel(cS,a)}const a2=$({onesLike_:Qk});function Jk(t,e){const a=E(t,"v1","outerProduct"),r=E(e,"v2","outerProduct");O(a.rank===1&&r.rank===1,()=>`Error in outerProduct: inputs must be rank 1, but got ranks ${a.rank} and ${r.rank}.`);const i=Q(a,[-1,1]),l=Q(r,[1,-1]);return Be(i,l)}const s2=$({outerProduct_:Jk});function eR(t,e,a=0){const r=E(t,"x","pad");if(r.rank===0)throw new Error("pad(scalar) is not defined. Pass non-scalar to pad");const i={paddings:e,constantValue:a},l={x:r};return k.runKernel(dS,l,i)}const Kr=$({pad_:eR});function tR(t,e,a=0){return O(e.length===2,()=>"Invalid number of paddings. Must be length of 2."),Kr(t,[e],a)}const r2=$({pad1d_:tR});function nR(t,e,a=0){return O(e.length===2&&e[0].length===2&&e[1].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Kr(t,e,a)}const i2=$({pad2d_:nR});function aR(t,e,a=0){return O(e.length===3&&e[0].length===2&&e[1].length===2&&e[2].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Kr(t,e,a)}const o2=$({pad3d_:aR});function sR(t,e,a=0){return O(e.length===4&&e[0].length===2&&e[1].length===2&&e[2].length===2&&e[3].length===2,()=>"Invalid number of paddings. Must be length of 2 each."),Kr(t,e,a)}const l2=$({pad4d_:sR});function rR(t,e,a){const r=E(t,"x","spaceToBatchND");O(r.rank>=1+e.length,()=>`input rank ${r.rank} should be > than [blockShape] ${e.length}`),O(a.length===e.length,()=>`paddings.shape[0] ${a.length} must be equal to [blockShape] ${e.length}`),O(r.shape.reduce((c,f,h)=>h>0&&h<=e.length?c&&(f+a[h-1][0]+a[h-1][1])%e[h-1]===0:c,!0),()=>`input spatial dimensions ${r.shape.slice(1)} with paddings ${a.toString()} must be divisible by blockShapes ${e.toString()}`);const i={x:r},l={blockShape:e,paddings:a};return k.runKernel(VS,i,l)}const sm=$({spaceToBatchND_:rR});function iR(t,e,a,r,i,l,c){i==null&&(i=[1,1]),l==null&&(l=1),r===0&&(r="valid");const f=E(t,"x","maxPool");let h=f,m=!1;f.rank===3&&(m=!0,h=Q(f,[1,f.shape[0],f.shape[1],f.shape[2]])),O(ga(l,i),()=>`Error in pool: Either strides or dilations must be 1. Got strides ${l} and dilations '${i}'`);const g=tw(h.shape,e,l,i,r),y=[g.dilationHeight,g.dilationWidth];let b;r==="same"?b=lR([g.filterHeight,g.filterWidth],y):b=[[0,0],[0,0]];const N=y[0]===1&&y[1]===1,[w,x]=oR([g.inHeight,g.inWidth],y,b),_=N?r:"valid",C=N?h:sm(h,y,w),I=(a==="avg"?()=>Ld(C,e,l,_,c):()=>tm(C,e,l,_,c))(),F=N?I:Md(I,y,x);return m?Q(F,[F.shape[1],F.shape[2],F.shape[3]]):F}function oR(t,e,a){const r=a.map(g=>g[0]),i=a.map(g=>g[1]),l=t.concat(r,i),c=e.map((g,y)=>(g-l[y]%g)%g),f=i.map((g,y)=>g+c[y]),h=e.map((g,y)=>[r[y],f[y]]),m=e.map((g,y)=>[0,c[y]]);return[h,m]}function lR(t,e){const r=t.map((c,f)=>c+(c-1)*(e[f]-1)).map(c=>c-1),i=r.map(c=>Math.floor(c/2)),l=r.map((c,f)=>c-i[f]);return r.map((c,f)=>[i[f],l[f]])}const u2=$({pool_:iR});function uR(t,e){const a=E(t,"x","prelu"),r=E(e,"alpha","prelu"),i={x:a,alpha:r};return k.runKernel(pS,i)}const rm=$({prelu_:uR});function cR(t,e=null,a=!1){let r=E(t,"x","prod");r.dtype==="bool"&&(r=We(r,"int32"));const i={x:r},l={axis:e,keepDims:a};return k.runKernel(gS,i,l)}const c2=$({prod_:cR});function fR(t,e,a,r){const i=t.map((g,y)=>E(g,`tensors${y}`,"raggedGather","int32")),l=E(e,"paramsDenseValues","raggedGather"),c=E(a,"indices","raggedGather","int32"),f={paramsNestedSplits:i,paramsDenseValues:l,indices:c},h={outputRaggedRank:r},m=k.runKernel(yS,f,h);return{outputNestedSplits:m.slice(0,m.length-1),outputDenseValues:m[m.length-1]}}const f2=$({raggedGather_:fR});function hR(t,e,a){const r=E(t,"starts","raggedRange"),i=E(e,"limits","raggedRange",r.dtype),l=E(a,"deltas","raggedRange",r.dtype),c={starts:r,limits:i,deltas:l},f=k.runKernel(bS,c);return{rtNestedSplits:f[0],rtDenseValues:f[1]}}const h2=$({raggedRange_:hR});function dR(t,e,a,r,i){const l=E(t,"shape","raggedTensorToTensor","int32"),c=E(e,"values","raggedTensorToTensor"),f=E(a,"defaultValue","raggedTensorToTensor",c.dtype),h=r.map((y,b)=>E(y,`tensors${b}`,"raggedTensorToTensor","int32")),m={shape:l,values:c,defaultValue:f,rowPartitionTensors:h},g={rowPartitionTypes:i};return k.runKernel(vS,m,g)}const d2=$({raggedTensorToTensor_:dR});function mR(t,e,a){Qt(t);const r=Fe(t);let i=null;if(a==null||a==="float32")i=new Float32Array(r);else if(a==="int32")i=new Int32Array(r);else if(a==="bool")i=new Uint8Array(r);else throw new Error(`Unknown data type ${a}`);for(let l=0;l<r;l++)i[l]=e();return k.makeTensor(i,t,a)}const m2=$({rand_:mR});var su={exports:{}},pR=su.exports,gb;function gR(){return gb||(gb=1,(function(t){(function(e,a,r){function i(h){var m=this,g=f();m.next=function(){var y=2091639*m.s0+m.c*23283064365386963e-26;return m.s0=m.s1,m.s1=m.s2,m.s2=y-(m.c=y|0)},m.c=1,m.s0=g(" "),m.s1=g(" "),m.s2=g(" "),m.s0-=g(h),m.s0<0&&(m.s0+=1),m.s1-=g(h),m.s1<0&&(m.s1+=1),m.s2-=g(h),m.s2<0&&(m.s2+=1),g=null}function l(h,m){return m.c=h.c,m.s0=h.s0,m.s1=h.s1,m.s2=h.s2,m}function c(h,m){var g=new i(h),y=m&&m.state,b=g.next;return b.int32=function(){return g.next()*4294967296|0},b.double=function(){return b()+(b()*2097152|0)*11102230246251565e-32},b.quick=b,y&&(typeof y=="object"&&l(y,g),b.state=function(){return l(g,{})}),b}function f(){var h=4022871197,m=function(g){g=String(g);for(var y=0;y<g.length;y++){h+=g.charCodeAt(y);var b=.02519603282416938*h;h=b>>>0,b-=h,b*=h,h=b>>>0,b-=h,h+=b*4294967296}return(h>>>0)*23283064365386963e-26};return m}a&&a.exports?a.exports=c:this.alea=c})(pR,t)})(su)),su.exports}var ru={exports:{}},yR=ru.exports,yb;function bR(){return yb||(yb=1,(function(t){(function(e,a,r){function i(f){var h=this,m="";h.x=0,h.y=0,h.z=0,h.w=0,h.next=function(){var y=h.x^h.x<<11;return h.x=h.y,h.y=h.z,h.z=h.w,h.w^=h.w>>>19^y^y>>>8},f===(f|0)?h.x=f:m+=f;for(var g=0;g<m.length+64;g++)h.x^=m.charCodeAt(g)|0,h.next()}function l(f,h){return h.x=f.x,h.y=f.y,h.z=f.z,h.w=f.w,h}function c(f,h){var m=new i(f),g=h&&h.state,y=function(){return(m.next()>>>0)/4294967296};return y.double=function(){do var b=m.next()>>>11,N=(m.next()>>>0)/4294967296,w=(b+N)/(1<<21);while(w===0);return w},y.int32=m.next,y.quick=y,g&&(typeof g=="object"&&l(g,m),y.state=function(){return l(m,{})}),y}a&&a.exports?a.exports=c:this.xor128=c})(yR,t)})(ru)),ru.exports}var iu={exports:{}},vR=iu.exports,bb;function SR(){return bb||(bb=1,(function(t){(function(e,a,r){function i(f){var h=this,m="";h.next=function(){var y=h.x^h.x>>>2;return h.x=h.y,h.y=h.z,h.z=h.w,h.w=h.v,(h.d=h.d+362437|0)+(h.v=h.v^h.v<<4^(y^y<<1))|0},h.x=0,h.y=0,h.z=0,h.w=0,h.v=0,f===(f|0)?h.x=f:m+=f;for(var g=0;g<m.length+64;g++)h.x^=m.charCodeAt(g)|0,g==m.length&&(h.d=h.x<<10^h.x>>>4),h.next()}function l(f,h){return h.x=f.x,h.y=f.y,h.z=f.z,h.w=f.w,h.v=f.v,h.d=f.d,h}function c(f,h){var m=new i(f),g=h&&h.state,y=function(){return(m.next()>>>0)/4294967296};return y.double=function(){do var b=m.next()>>>11,N=(m.next()>>>0)/4294967296,w=(b+N)/(1<<21);while(w===0);return w},y.int32=m.next,y.quick=y,g&&(typeof g=="object"&&l(g,m),y.state=function(){return l(m,{})}),y}a&&a.exports?a.exports=c:this.xorwow=c})(vR,t)})(iu)),iu.exports}var ou={exports:{}},NR=ou.exports,vb;function wR(){return vb||(vb=1,(function(t){(function(e,a,r){function i(f){var h=this;h.next=function(){var g=h.x,y=h.i,b,N;return b=g[y],b^=b>>>7,N=b^b<<24,b=g[y+1&7],N^=b^b>>>10,b=g[y+3&7],N^=b^b>>>3,b=g[y+4&7],N^=b^b<<7,b=g[y+7&7],b=b^b<<13,N^=b^b<<9,g[y]=N,h.i=y+1&7,N};function m(g,y){var b,N=[];if(y===(y|0))N[0]=y;else for(y=""+y,b=0;b<y.length;++b)N[b&7]=N[b&7]<<15^y.charCodeAt(b)+N[b+1&7]<<13;for(;N.length<8;)N.push(0);for(b=0;b<8&&N[b]===0;++b);for(b==8?N[7]=-1:N[b],g.x=N,g.i=0,b=256;b>0;--b)g.next()}m(h,f)}function l(f,h){return h.x=f.x.slice(),h.i=f.i,h}function c(f,h){f==null&&(f=+new Date);var m=new i(f),g=h&&h.state,y=function(){return(m.next()>>>0)/4294967296};return y.double=function(){do var b=m.next()>>>11,N=(m.next()>>>0)/4294967296,w=(b+N)/(1<<21);while(w===0);return w},y.int32=m.next,y.quick=y,g&&(g.x&&l(g,m),y.state=function(){return l(m,{})}),y}a&&a.exports?a.exports=c:this.xorshift7=c})(NR,t)})(ou)),ou.exports}var lu={exports:{}},TR=lu.exports,Sb;function ER(){return Sb||(Sb=1,(function(t){(function(e,a,r){function i(f){var h=this;h.next=function(){var g=h.w,y=h.X,b=h.i,N,w;return h.w=g=g+1640531527|0,w=y[b+34&127],N=y[b=b+1&127],w^=w<<13,N^=N<<17,w^=w>>>15,N^=N>>>12,w=y[b]=w^N,h.i=b,w+(g^g>>>16)|0};function m(g,y){var b,N,w,x,_,C=[],ee=128;for(y===(y|0)?(N=y,y=null):(y=y+"\0",N=0,ee=Math.max(ee,y.length)),w=0,x=-32;x<ee;++x)y&&(N^=y.charCodeAt((x+32)%y.length)),x===0&&(_=N),N^=N<<10,N^=N>>>15,N^=N<<4,N^=N>>>13,x>=0&&(_=_+1640531527|0,b=C[x&127]^=N+_,w=b==0?w+1:0);for(w>=128&&(C[(y&&y.length||0)&127]=-1),w=127,x=512;x>0;--x)N=C[w+34&127],b=C[w=w+1&127],N^=N<<13,b^=b<<17,N^=N>>>15,b^=b>>>12,C[w]=N^b;g.w=_,g.X=C,g.i=w}m(h,f)}function l(f,h){return h.i=f.i,h.w=f.w,h.X=f.X.slice(),h}function c(f,h){f==null&&(f=+new Date);var m=new i(f),g=h&&h.state,y=function(){return(m.next()>>>0)/4294967296};return y.double=function(){do var b=m.next()>>>11,N=(m.next()>>>0)/4294967296,w=(b+N)/(1<<21);while(w===0);return w},y.int32=m.next,y.quick=y,g&&(g.X&&l(g,m),y.state=function(){return l(m,{})}),y}a&&a.exports?a.exports=c:this.xor4096=c})(TR,t)})(lu)),lu.exports}var uu={exports:{}},_R=uu.exports,Nb;function xR(){return Nb||(Nb=1,(function(t){(function(e,a,r){function i(f){var h=this,m="";h.next=function(){var y=h.b,b=h.c,N=h.d,w=h.a;return y=y<<25^y>>>7^b,b=b-N|0,N=N<<24^N>>>8^w,w=w-y|0,h.b=y=y<<20^y>>>12^b,h.c=b=b-N|0,h.d=N<<16^b>>>16^w,h.a=w-y|0},h.a=0,h.b=0,h.c=-1640531527,h.d=1367130551,f===Math.floor(f)?(h.a=f/4294967296|0,h.b=f|0):m+=f;for(var g=0;g<m.length+20;g++)h.b^=m.charCodeAt(g)|0,h.next()}function l(f,h){return h.a=f.a,h.b=f.b,h.c=f.c,h.d=f.d,h}function c(f,h){var m=new i(f),g=h&&h.state,y=function(){return(m.next()>>>0)/4294967296};return y.double=function(){do var b=m.next()>>>11,N=(m.next()>>>0)/4294967296,w=(b+N)/(1<<21);while(w===0);return w},y.int32=m.next,y.quick=y,g&&(typeof g=="object"&&l(g,m),y.state=function(){return l(m,{})}),y}a&&a.exports?a.exports=c:this.tychei=c})(_R,t)})(uu)),uu.exports}var cu={exports:{}};const AR={},OR=Object.freeze(Object.defineProperty({__proto__:null,default:AR},Symbol.toStringTag,{value:"Module"})),DR=md(OR);var $R=cu.exports,wb;function kR(){return wb||(wb=1,(function(t){(function(e,a,r){var i=256,l=6,c=52,f="random",h=r.pow(i,l),m=r.pow(2,c),g=m*2,y=i-1,b;function N(F,W,ne){var te=[];W=W==!0?{entropy:!0}:W||{};var re=C(_(W.entropy?[F,I(a)]:F??ee(),3),te),H=new w(te),V=function(){for(var D=H.g(l),J=h,le=0;D<m;)D=(D+le)*i,J*=i,le=H.g(1);for(;D>=g;)D/=2,J/=2,le>>>=1;return(D+le)/J};return V.int32=function(){return H.g(4)|0},V.quick=function(){return H.g(4)/4294967296},V.double=V,C(I(H.S),a),(W.pass||ne||function(D,J,le,ce){return ce&&(ce.S&&x(ce,H),D.state=function(){return x(H,{})}),le?(r[f]=D,J):D})(V,re,"global"in W?W.global:this==r,W.state)}function w(F){var W,ne=F.length,te=this,re=0,H=te.i=te.j=0,V=te.S=[];for(ne||(F=[ne++]);re<i;)V[re]=re++;for(re=0;re<i;re++)V[re]=V[H=y&H+F[re%ne]+(W=V[re])],V[H]=W;(te.g=function(D){for(var J,le=0,ce=te.i,de=te.j,L=te.S;D--;)J=L[ce=y&ce+1],le=le*i+L[y&(L[ce]=L[de=y&de+J])+(L[de]=J)];return te.i=ce,te.j=de,le})(i)}function x(F,W){return W.i=F.i,W.j=F.j,W.S=F.S.slice(),W}function _(F,W){var ne=[],te=typeof F,re;if(W&&te=="object")for(re in F)try{ne.push(_(F[re],W-1))}catch{}return ne.length?ne:te=="string"?F:F+"\0"}function C(F,W){for(var ne=F+"",te,re=0;re<ne.length;)W[y&re]=y&(te^=W[y&re]*19)+ne.charCodeAt(re++);return I(W)}function ee(){try{var F;return b&&(F=b.randomBytes)?F=F(i):(F=new Uint8Array(i),(e.crypto||e.msCrypto).getRandomValues(F)),I(F)}catch{var W=e.navigator,ne=W&&W.plugins;return[+new Date,e,ne,e.screen,I(a)]}}function I(F){return String.fromCharCode.apply(0,F)}if(C(r.random(),a),t.exports){t.exports=N;try{b=DR}catch{}}else r["seed"+f]=N})(typeof self<"u"?self:$R,[],Math)})(cu)),cu.exports}var Dh,Tb;function RR(){if(Tb)return Dh;Tb=1;var t=gR(),e=bR(),a=SR(),r=wR(),i=ER(),l=xR(),c=kR();return c.alea=t,c.xor128=e,c.xorwow=a,c.xorshift7=r,c.xor4096=i,c.tychei=l,Dh=c,Dh}var im=RR();const zR=.001,p2=.1;function CR(t,e,a){return a==null&&(a=om()),Jh(t,e,(r,i)=>lm(r,i,a))}function om(){return k.backend.floatPrecision()===32?zR:p2}function Jh(t,e,a){let r=!0;if((yt(t)||yt(e))&&(r=!1),yt(t)&&yt(e)&&(r=!0),r){const c=t.constructor.name,f=e.constructor.name;if(c!==f)throw new Error(`Arrays are of different type. Actual: ${c}. Expected: ${f}`)}if(Array.isArray(t)&&Array.isArray(e)){const c=Un(t),f=Un(e);if(!kn(c,f))throw new Error(`Arrays have different shapes. Actual: [${c}]. Expected: [${f}]`)}const i=yt(t)?t:Za(t),l=yt(e)?e:Za(e);if(i.length!==l.length)throw new Error(`Arrays have different lengths actual: ${i.length} vs expected: ${l.length}.
Actual:   ${i}.
Expected: ${l}.`);for(let c=0;c<l.length;++c){const f=i[c],h=l[c];if(!a(f,h))throw new Error(`Arrays differ: actual[${c}] = ${f}, expected[${c}] = ${h}.
Actual:   ${i}.
Expected: ${l}.`)}typeof expect<"u"&&expect().nothing()}function jR(t,e){t().then(()=>e.fail(),()=>e()),typeof expect<"u"&&expect().nothing()}function BR(t,e){const a=typeof e=="string"||typeof e=="number"||typeof e=="boolean"?[e]:e;return Ga(t)||Ga(t[0])||Ga(e)||Ga(e[0])?Jh(t,a,(r,i)=>r==i):Jh(t,e,(r,i)=>lm(r,i,0))}function IR(t,e,a){if(a==null&&(a=om()),!lm(t,e,a))throw new Error(`Numbers differ: actual === ${t}, expected === ${e}`);typeof expect<"u"&&expect().nothing()}function lm(t,e,a){return!isFinite(t)&&!isFinite(e)?!0:!(isNaN(t)||isNaN(e)||Math.abs(t-e)>a)}function LR(t,e,a){for(let r=0;r<t.length;r++)if(t[r]<e||t[r]>a)throw new Error(`Value out of range:${t[r]} low: ${e}, high: ${a}`)}function MR(t,e){const a=new Float32Array(t),r=new Float32Array(e);if(a.length!==r.length)throw new Error(`Expected ArrayBuffer to be of length ${r.length}, but it was ${a.length}`);for(let i=0;i<r.length;i++)if(a[i]!==r[i])throw new Error(`Expected ArrayBuffer value at ${i} to be ${r[i]} but got ${a[i]} instead`)}function g2(t){for(let e=0;e<t.length;e++){const a=t[e];Array.isArray(a)?g2(a):t[e]=So(a)}return t}function UR(t){const e=document.createElement("video");return"playsInline"in e&&(e.playsInline=!0),e.muted=!0,e.loop=!0,e.style.position="fixed",e.style.left="0px",e.style.top="0px",e.preload="auto",e.appendChild(t),new Promise(a=>{e.addEventListener("loadeddata",r=>a(e)),e.load()})}async function FR(t){await t.play(),"requestVideoFrameCallback"in t&&await new Promise(e=>{t.requestVideoFrameCallback(e)})}const qR=Object.freeze(Object.defineProperty({__proto__:null,TEST_EPSILON_FLOAT16:p2,createVideoElement:UR,encodeStrings:g2,expectArrayBuffersEqual:MR,expectArraysClose:CR,expectArraysEqual:BR,expectNumbersClose:IR,expectPromiseToFail:jR,expectValuesInRange:LR,play:FR,testEpsilon:om},Symbol.toStringTag,{value:"Module"}));class um{constructor(e,a,r,i,l){this.mean=e,this.stdDev=a,this.dtype=r,this.nextVal=NaN,this.truncated=i,this.truncated&&(this.upper=this.mean+this.stdDev*2,this.lower=this.mean-this.stdDev*2);const c=l||Math.random();this.random=im.alea(c.toString())}nextValue(){if(!isNaN(this.nextVal)){const i=this.nextVal;return this.nextVal=NaN,i}let e,a,r=!1;for(;!r;){let i,l,c;do i=2*this.random()-1,l=2*this.random()-1,c=i*i+l*l;while(c>=1||c===0);const f=Math.sqrt(-2*Math.log(c)/c);e=this.mean+this.stdDev*i*f,a=this.mean+this.stdDev*l*f,(!this.truncated||this.isValidTruncated(e))&&(r=!0)}return(!this.truncated||this.isValidTruncated(a))&&(this.nextVal=this.convertValue(a)),this.convertValue(e)}convertValue(e){return this.dtype==null||this.dtype==="float32"?e:Math.round(e)}isValidTruncated(e){return e<=this.upper&&e>=this.lower}}class HR{constructor(e,a,r,i){this.alpha=e,this.beta=1/a,this.dtype=r;const l=i||Math.random();this.randu=im.alea(l.toString()),this.randn=new um(0,1,r,!1,this.randu()),e<1?this.d=e+2/3:this.d=e-1/3,this.c=1/Math.sqrt(9*this.d)}nextValue(){let e,a,r,i,l,c;for(;;){do i=this.randn.nextValue(),c=1+this.c*i;while(c<=0);if(c*=c*c,e=i*i,a=1-.331*e*e,r=.5*e+this.d*(1-c+Math.log(c)),l=this.randu(),l<a||Math.log(l)<r)break}return c=1/this.beta*this.d*c,this.alpha<1&&(c*=Math.pow(this.randu(),1/this.alpha)),this.convertValue(c)}convertValue(e){return this.dtype==="float32"?e:Math.round(e)}}class VR{constructor(e=0,a=1,r,i){if(this.canReturnFloat=()=>this.dtype==null||this.dtype==="float32",this.min=e,this.range=a-e,this.dtype=r,i==null&&(i=Math.random()),typeof i=="number"&&(i=i.toString()),!this.canReturnFloat()&&this.range<=1)throw new Error(`The difference between ${e} - ${a} <= 1 and dtype is not float`);this.random=im.alea(i)}convertValue(e){return this.canReturnFloat()?e:Math.round(e)}nextValue(){return this.convertValue(this.min+this.range*this.random())}}function GR(t,e,a=1,r="float32",i){if(Qt(t),a==null&&(a=1),r==null&&(r="float32"),r!=="float32"&&r!=="int32")throw new Error(`Unsupported data type ${r}`);const l=new HR(e,a,r,i),c=Fn(t,r);for(let f=0;f<c.values.length;f++)c.values[f]=l.nextValue();return c.toTensor()}const y2=$({randomGamma_:GR});function KR(t,e=0,a=1,r,i){if(Qt(t),r!=null&&r==="bool")throw new Error(`Unsupported data type ${r}`);const l=new um(e,a,r,!1,i),c=Fn(t,r);for(let f=0;f<c.values.length;f++)c.values[f]=l.nextValue();return c.toTensor()}const cm=$({randomNormal_:KR});function YR(t,e,a){if(e!=null&&e==="bool")throw new Error(`Unsupported data type ${e}`);return cm(t,0,1,e,a)}const b2=$({randomStandardNormal_:YR});function XR(t,e=0,a=1,r="float32",i){Qt(t);const l=Fn(t,r),c=new VR(e,a,null,i);for(let f=0;f<l.values.length;f++)l.values[f]=c.nextValue();return l.toTensor()}const Mu=$({randomUniform_:XR});function PR(t,e,a,r){return Mu(t,e,a,"int32",r)}const v2=$({randomUniformInt_:PR});function Mr(t,e,a=1,r="float32"){if(a===0)throw new Error("Cannot have a step of zero");const i={start:t,stop:e,step:a,dtype:r};return k.runKernel(SS,{},i)}function WR(t){const a={input:E(t,"input","real")};return k.runKernel(NS,a)}const Ur=$({real_:WR});function ZR(t){const a={x:E(t,"x","reciprocal")};return k.runKernel(wS,a)}const S2=$({reciprocal_:ZR});function QR(t){const a={x:E(t,"x","relu")};return k.runKernel(TS,a)}const Do=$({relu_:QR});function JR(t){const a={x:E(t,"x","relu6")};return k.runKernel(AS,a)}const fm=$({relu6_:JR});function e4(t,e){const r={x:E(t,"x","reverse")},i={dims:e};return k.runKernel(OS,r,i)}const es=$({reverse_:e4});function t4(t){const e=E(t,"x","reverse");return O(e.rank===1,()=>`Error in reverse1D: x must be rank 1 but got rank ${e.rank}.`),es(e,0)}const N2=$({reverse1d_:t4});function n4(t,e){const a=E(t,"x","reverse");return O(a.rank===2,()=>`Error in reverse2D: x must be rank 2 but got rank ${a.rank}.`),es(a,e)}const w2=$({reverse2d_:n4});function a4(t,e){const a=E(t,"x","reverse");return O(a.rank===3,()=>`Error in reverse3D: x must be rank 3 but got rank ${a.rank}.`),es(a,e)}const T2=$({reverse3d_:a4});function s4(t,e){const a=E(t,"x","reverse");return O(a.rank===4,()=>`Error in reverse4D: x must be rank 4 but got rank ${a.rank}.`),es(a,e)}const E2=$({reverse4d_:s4});function r4(t){const a={x:E(t,"x","round")};return k.runKernel(DS,a)}const hm=$({round_:r4});function i4(t){const a={x:E(t,"x","rsqrt","float32")};return k.runKernel($S,a)}const _2=$({rsqrt_:i4});function o4(t){const a={x:E(t,"x","selu")};return k.runKernel(jS,a)}const x2=$({selu_:o4});function l4(t,e,a,r,i,l=[1,1],c="NHWC"){const f=E(t,"x","separableConv2d"),h=E(e,"depthwiseFilter","separableConv2d"),m=E(a,"pointwiseFilter","separableConv2d");let g=f,y=!1;if(f.rank===3&&(y=!0,g=Q(f,[1,f.shape[0],f.shape[1],f.shape[2]])),c==="NCHW")throw new Error("separableConv2d currently does not support dataFormat NCHW; only NHWC is supported");O(g.rank===4,()=>`Error in separableConv2d: input must be rank 4, but got rank ${g.rank}.`),O(h.rank===4,()=>`Error in separableConv2d: depthwise filter must be rank 4, but got rank ${h.rank}.`),O(m.rank===4,()=>`Error in separableConv2d: pointwise filter must be rank 4, but got rank ${h.rank}.`),O(m.shape[0]===1,()=>`Error in separableConv2d: the first dimension of pointwise filter  must be 1, but got ${m.shape[0]}.`),O(m.shape[1]===1,()=>`Error in separableConv2d: the second dimension of pointwise filter must be 1, but got ${m.shape[1]}.`);const b=h.shape[2],N=h.shape[3];O(m.shape[2]===b*N,()=>`Error in separableConv2d: the third dimension of pointwise filter must be ${b*N}, but got ${m.shape[2]}.`);const w=ju(g,h,r,i,c,l),_=Eo(w,m,1,"valid",c);return y?Q(_,[_.shape[1],_.shape[2],_.shape[3]]):_}const A2=$({separableConv2d_:l4});async function u4(t,e){const a=E(t,"x","setdiff1d"),r=E(e,"y","setdiff1d");O(a.dtype===r.dtype,()=>`x and y should have the same dtype, but got x (${a.dtype}) and y (${r.dtype}).`),O(a.rank===1,()=>`x should be 1D tensor, but got x (${a.shape}).`),O(r.rank===1,()=>`y should be 1D tensor, but got y (${r.shape}).`);const i=await a.data(),l=await r.data(),c=new Set(l);let f=0;for(let g=0;g<i.length;g++)c.has(i[g])||f++;const h=new bu([f],a.dtype),m=new bu([f],"int32");for(let g=0,y=0;g<i.length;g++)c.has(i[g])||(h.values[y]=i[g],m.values[y]=g,y++);return[h.toTensor(),m.toTensor()]}const O2=u4;function c4(t){const a={x:E(t,"x","sign")};return k.runKernel(MS,a)}const D2=$({sign_:c4});function f4(t){const a={x:E(t,"x","sin","float32")};return k.runKernel(IS,a)}const $2=$({sin_:f4});function h4(t){const a={x:E(t,"x","sinh")};return k.runKernel(LS,a)}const k2=$({sinh_:h4});function d4(t,e,a){const r=E(t,"x","slice1d");return O(r.rank===1,()=>`slice1d expects a rank-1 tensor, but got a rank-${r.rank} tensor`),Ge(r,[e],[a])}const R2=$({slice1d_:d4});function m4(t,e,a){const r=E(t,"x","slice2d");return O(r.rank===2,()=>`slice2d expects a rank-2 tensor, but got a rank-${r.rank} tensor`),Ge(r,e,a)}const z2=$({slice2d_:m4});function p4(t,e,a){const r=E(t,"x","slice3d");return O(r.rank===3,()=>`slice3d expects a rank-3 tensor, but got a rank-${r.rank} tensor`),Ge(r,e,a)}const C2=$({slice3d_:p4});function g4(t,e,a){const r=E(t,"x","slice4d");return O(r.rank===4,()=>`slice4d expects a rank-4 tensor, but got a rank-${r.rank} tensor`),Ge(r,e,a)}const j2=$({slice4d_:g4});function y4(t,e=-1){const a=E(t,"logits","softmax","float32");if(e===-1&&(e=a.rank-1),e!==a.rank-1)throw Error(`Softmax along a non-last dimension is not yet supported. Logits was rank ${a.rank} and dim was ${e}`);const r={logits:a},i={dim:e};return k.runKernel(KS,r,i)}const B2=$({softmax_:y4});function b4(t){O(t.dtype==="complex64",()=>`The dtype for tf.spectral.fft() must be complex64 but got ${t.dtype}.`);const e={input:t};return k.runKernel(wv,e)}const Uu=$({fft_:b4});function v4(t){O(t.dtype==="complex64",()=>`The dtype for tf.spectral.ifft() must be complex64 but got ${t.dtype}.`);const e={input:t};return k.runKernel(Rv,e)}const co=$({ifft_:v4});function S4(t){const e=t.shape[t.shape.length-1],a=t.size/e;let r;if(e<=2){const i=Q(t,[a,e]);r=co(i)}else{const i=[a,2*(e-1)],l=Q(Ur(t),[a,e]),c=Q(Oo(t),[a,e]),f=es(Ge(l,[0,1],[a,e-2]),1),h=oe(es(Ge(c,[0,1],[a,e-2]),1),ke(-1)),m=At([l,f],1),g=At([c,h],1),y=Q(pa(m,g),[i[0],i[1]]);r=co(y)}if(r=Ur(r),t.rank===3&&t.shape[0]!==0){const i=r,l=t.shape[0];r=Q(r,[l,r.shape[0]/l,r.shape[1]]),i.dispose()}return r}const dm=$({irfft_:S4});function N4(t,e,a=0){const i={x:E(t,"x","split")},l={numOrSizeSplits:e,axis:a};return k.runKernel(GS,i,l)}const Fr=$({split_:N4});function w4(t,e){O(t.dtype==="float32",()=>`The dtype for rfft() must be real value but got ${t.dtype}`);let a=t.shape[t.shape.length-1];const r=t.size/a;let i;if(e!=null&&e<a){const w=t.shape.map(_=>0),x=t.shape.map(_=>_);x[t.shape.length-1]=e,i=Ge(t,w,x),a=e}else if(e!=null&&e>a){const w=t.shape.map(x=>x);w[t.shape.length-1]=e-a,i=At([t,Ms(w)],t.shape.length-1),a=e}else i=t;const l=Zt(i),c=Q(pa(i,l),[r,a]),f=Uu(c),h=Math.floor(a/2)+1,m=Ur(f),g=Oo(f),y=Fr(m,[h,a-h],m.shape.length-1),b=Fr(g,[h,a-h],g.shape.length-1),N=i.shape.slice();return N[i.shape.length-1]=h,Q(pa(y[0],b[0]),N)}const Fu=$({rfft_:w4});function T4(t,e){let a=E(t,"a","squaredDifference"),r=E(e,"b","squaredDifference");[a,r]=nt(a,r),ct(a.shape,r.shape);const i={a,b:r},l={};return k.runKernel(QS,i,l)}const mm=$({squaredDifference_:T4});function E4(t,e){const a=E(t,"x","squeeze","string_or_numeric");return Q(a,g1(a.shape,e).newShape)}const qu=$({squeeze_:E4});function _4(t,e=0){const a=ao(t,"tensors","stack","string_or_numeric");O(a.length>=1,()=>"Pass at least one tensor to tf.stack"),a.length>0&&O(e<=a[0].rank,()=>"Axis must be <= rank of the tensor");const r=a,i={axis:e};return k.runKernel(hS,r,i)}const Vn=$({stack_:_4});function x4(t,e=0){const r={x:E(t,"x","step")},i={alpha:e};return k.runKernel(dN,r,i)}const pm=$({step_:x4});function A4(t,e,a,r,i=0,l=0,c=0,f=0,h=0){const g={x:E(t,"x","stridedSlice","string_or_numeric")},y={begin:e,end:a,strides:r,beginMask:i,endMask:l,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:h};return k.runKernel(eN,g,y)}const I2=$({stridedSlice_:A4});function O4(t){const a={x:E(t,"x","tan","float32")};return k.runKernel(rN,a)}const L2=$({tan_:O4});function cn(t,e){qs(t);const a=Un(t,e);if(a.length!==1)throw new Error("tensor1d() requires values to be a flat/TypedArray");return ts(t,null,a,e)}function Rr(t,e,a){if(qs(t),e!=null&&e.length!==2)throw new Error("tensor2d() requires shape to have two numbers");const r=Un(t,a);if(r.length!==2&&r.length!==1)throw new Error("tensor2d() requires values to be number[][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor2d() requires shape to be provided when `values` are a flat/TypedArray");return ts(t,e,r,a)}function gm(t,e,a){if(qs(t),e!=null&&e.length!==3)throw new Error("tensor3d() requires shape to have three numbers");const r=Un(t,a);if(r.length!==3&&r.length!==1)throw new Error("tensor3d() requires values to be number[][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor3d() requires shape to be provided when `values` are a flat array");return ts(t,e,r,a)}function M2(t,e,a){if(qs(t),e!=null&&e.length!==4)throw new Error("tensor4d() requires shape to have four numbers");const r=Un(t,a);if(r.length!==4&&r.length!==1)throw new Error("tensor4d() requires values to be number[][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor4d() requires shape to be provided when `values` are a flat array");return ts(t,e,r,a)}function U2(t,e,a){if(qs(t),e!=null&&e.length!==5)throw new Error("tensor5d() requires shape to have five numbers");const r=Un(t,a);if(r.length!==5&&r.length!==1)throw new Error("tensor5d() requires values to be number[][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor5d() requires shape to be provided when `values` are a flat array");return ts(t,e,r,a)}function F2(t,e,a){if(qs(t),e!=null&&e.length!==6)throw new Error("tensor6d() requires shape to have six numbers");const r=Un(t,a);if(r.length!==6&&r.length!==1)throw new Error("tensor6d() requires values to be number[][][][][][] or flat/TypedArray");if(r.length===1&&e==null)throw new Error("tensor6d() requires shape to be provided when `values` are a flat array");return e=e||r,ts(t,e,r,a)}function ym(t,e,a){const r=e.rank>1?e.shape[e.rank-1]:1,i=e.rank>1?e.rank-1:1,l=`Must have updates.shape = indices.shape[:batchDim] + shape[sliceDim:], got updates.shape: ${a.shape}, indices.shape: ${e.shape}, shape: ${t}, sliceDim: ${r}, and batchDim: ${i}.`;if(a.rank<i)throw new Error(l+` update.rank < ${i}. `);if(t.length<r+(a.rank-i))throw new Error(l+` Output shape length < ${r+(a.rank-i)}`);if(a.rank!==i+t.length-r)throw new Error(l+` update.rank != ${i+t.length-r}`);for(let c=0;c<i;++c)if(a.shape[c]!==e.shape[c])throw new Error(l+` updates.shape[${c}] (${a.shape[c]}) != indices.shape[${c}] (${e.shape[c]}).`);for(let c=0;c<a.rank-i;++c)if(a.shape[c+i]!==t[c+r])throw new Error(l+` updates.shape[${c+i}] (${a.shape[c+i]}) != shape[${c+i}] (${t[c+i]})`)}function Hu(t,e,a){if(e.rank<1)throw new Error(`tf.scatterND() expects the indices to be rank 1 or higher, but the rank was ${e.rank}.`);if(t.rank<1)throw new Error(`tf.scatterND() expects the updates to be rank 1 or higher, but the rank was ${t.rank}.`);if(e.dtype!=="int32")throw new Error(`The dtype of 'indices' should be int32, but got dtype: ${e.dtype}`);if(a.length<1)throw new Error(`Output rank must be greater or equal to 1, but got shape: ${a}`);if(a.length===0){if(e.size===0)throw new Error(`Indices specified for empty output. indices shape: ${e.shape}`);if(t.size===0)throw new Error(`Updates specified for empty output. updates shape: ${t.shape}`)}ym(a,e,t)}function q2(t,e,a){const r=e.shape.length,i=r>1?e.shape[r-1]:1,l=a.length;let c=1;for(let y=i;y<l;++y)c*=a[y];const f=i<1?1:i,h=Fe(e.shape)/f,m=[...Vr(a.slice(0,i)),1],g=Fe(a);return{sliceRank:i,numUpdates:h,sliceSize:c,strides:m,outputSize:g}}const D4=Object.freeze(Object.defineProperty({__proto__:null,calculateShapes:q2,validateInput:Hu,validateUpdateShape:ym},Symbol.toStringTag,{value:"Module"}));function $4(t,e,a){const r=E(t,"tensor","tensorScatterupdate"),i=E(e,"indices","tensorScatterupdate","int32"),l=E(a,"updates","tensorScatterupdate");if(Hu(l,i,r.shape),r.dtype!==l.dtype)throw new Error(`tensor and updates must have the same dtype, instead they are ${r.dtype} and ${l.dtype}.`);const c={tensor:r,indices:i,updates:l},f={};return k.runKernel(RS,c,f)}const H2=$({tensorScatterUpdate_:$4});function k4(t,e=1,a=!0){const r=E(t,"x","topk");if(r.rank===0)throw new Error("topk() expects the input to be of rank 1 or higher");const i=r.shape[r.shape.length-1];if(e<0)throw new Error(`'k' passed to topk() must be >= 0 but got ${e}`);if(e>i)throw new Error(`'k' passed to topk() must be <= the last dimension (${i}) but got ${e}`);const l={x:r},c={k:e,sorted:a},[f,h]=k.runKernel(oN,l,c);return{values:f,indices:h}}const V2=$({topk_:k4});function R4(t,e=0,a=1,r,i){if(Qt(t),r!=null&&r==="bool")throw new Error("Unsupported data type $ { dtype }");const l=new um(e,a,r,!0,i),c=Fn(t,r);for(let f=0;f<c.values.length;f++)c.values[f]=l.nextValue();return c.toTensor()}const G2=$({truncatedNormal_:R4});function z4(t,e=0){const a=E(t,"x","unique","string_or_numeric");O(a.rank>0,()=>"The input tensor must be at least 1D");const r={x:a},i={axis:e},[l,c]=k.runKernel(uN,r,i);return{values:l,indices:c}}const K2=$({unique_:z4});function C4(t,e,a){const r=E(t,"x","unsortedSegmentSum"),i=E(e,"segmentIds","unsortedSegmentSum","int32");O(Cr(a),()=>"numSegments must be of dtype int");const l={x:r,segmentIds:i},c={numSegments:a};return k.runKernel(fN,l,c)}const Y2=$({unsortedSegmentSum_:C4});function j4(t,e=0){const a=E(t,"x","unstack","string_or_numeric");O(e>=-a.shape.length&&e<a.shape.length,()=>`Axis = ${e} is not in [-${a.shape.length}, ${a.shape.length})`);const r={value:a},i={axis:e};return k.runKernel(cN,r,i)}const ns=$({unstack_:j4});function X2(t,e){return Lu(t,e,"right")}function P2(t,e=!0,a,r){return k.makeVariable(t,e,a,r)}function W2(t,e){const a=[];for(let l=0;l<e.length;l++)e[l]&&a.push(l);const r=Fn(t,"int32"),i=Fn([a.length,t.length],"int32");for(let l=0;l<a.length;l++){const c=r.indexToLoc(a[l]),f=l*t.length;i.values.set(c,f)}return i.toTensor()}async function B4(t){const e=E(t,"condition","whereAsync","bool"),a=await e.data(),r=W2(e.shape,a);return t!==e&&e.dispose(),r}const bm=B4;async function I4(t,e,a){const r=E(t,"tensor","boolMask"),i=E(e,"mask","boolMask","bool"),l=a??0,c=i.rank,f=r.shape;O(c>0,()=>"mask cannot be scalar"),Ct(f.slice(l,l+c),i.shape,"mask's shape must match the first K dimensions of tensor's shape,");let h=1;for(let x=l;x<l+c;x++)h*=f[x];const m=f.slice(0,l).concat([h],f.slice(l+c)),g=Q(r,m),y=Q(i,[-1]),b=await bm(y),N=qu(b,[1]),w=Yd(g,N,l);return t!==r&&r.dispose(),e!==i&&i.dispose(),N.dispose(),g.dispose(),y.dispose(),b.dispose(),w}const Z2=I4;function L4(t,e,a){const r=E(t,"x","transpose");if(e==null&&(e=r.shape.map((c,f)=>f).reverse()),O(r.rank===e.length,()=>`Error in transpose: rank of input ${r.rank} must match length of perm ${e}.`),e.forEach(c=>{O(c>=0&&c<r.rank,()=>`All entries in 'perm' must be between 0 and ${r.rank-1} but got ${e}`)}),r.rank<=1)return r.clone();const i={x:r},l={perm:e};return r.dtype==="complex64"?Ie(()=>{let c=Ur(r),f=Oo(r);return c=k.runKernel(tu,{x:c},l),f=k.runKernel(tu,{x:f},l),a&&(f=$n(f)),pa(c,f)}):k.runKernel(tu,i,l)}const fo=$({transpose_:L4});function M4(t,e,a,r,i=!0){const l=E(t,"v","movingAverage"),c=E(e,"x","movingAverage"),f=E(a,"decay","movingAverage");_N(l,c),O(kn(l.shape,c.shape),()=>"Shape mismatch in v and x");const h=ke(1),m=_e(h,f);let g=oe(_e(c,l),m);if(i){O(r!=null,()=>"When using zeroDebias: true, step is required.");const y=E(r,"step","movingAverage");g=Pe(g,_e(h,Ir(f,y)))}return be(l,g)}const Q2=$({movingAverage_:M4});function U4(t,e,a){Qt(a);const r=E(t,"indices","scatterND","int32"),i=E(e,"updates","scatterND");Hu(i,r,a);const l={indices:r,updates:i},c={shape:a};return k.runKernel(kS,l,c)}const J2=$({scatterND_:U4});function F4(t,e,a,r){if(t.dtype!=="int32")throw new Error(`tf.sparseToDense() expects the indices to be int32 type, but the dtype was ${t.dtype}.`);if(t.rank>2)throw new Error(`sparseIndices should be a scalar, vector, or matrix, but got shape ${t.shape}.`);const i=t.rank>0?t.shape[0]:1,l=t.rank>1?t.shape[1]:1;if(a.length!==l)throw new Error(`outputShape has incorrect number of elements:, ${a.length}, should be: ${l}.`);const c=e.size;if(!(e.rank===0||e.rank===1&&c===i))throw new Error(`sparseValues has incorrect shape ${e.shape}, should be [] or [${i}]`);if(e.dtype!==r.dtype)throw new Error("sparseValues.dtype must match defaultValues.dtype")}function q4(t,e,a,r=0){Qt(a);const i=E(t,"sparseIndices","sparseToDense","int32"),l=E(e,"sparseValues","sparseToDense","string_or_numeric"),c=E(r,"defaultValue","sparseToDense",l.dtype);F4(i,l,a,c);const f={sparseIndices:i,sparseValues:l,defaultValue:c},h={outputShape:a};return k.runKernel(ZS,f,h)}const eT=$({sparseToDense_:q4});function H4(t,e){const a=E(e,"indices","gatherND","int32"),i={params:E(t,"x","gatherND","string_or_numeric"),indices:a};return k.runKernel(Dv,i)}const tT=$({gatherND_:H4});function V4(t,e){if(e==null)return t.shape.slice();if(kn(t.shape,e))return e;if(t.shape.length===e.length){const a=[];for(let r=0;r<t.shape.length;r++)e[r]==null&&t.shape[r]!=null?a.push(t.shape[r]):a.push(e[r]);return a}return e}function G4(t,e,a,r){const i=E(t,"x","dropout");if(O(i.dtype==="float32",()=>`x has to be a floating point tensor since it's going to be scaled, but got a ${i.dtype} tensor instead.`),O(e>=0&&e<1,()=>`rate must be a float in the range [0, 1), but got ${e}.`),e===0)return t instanceof at?i.clone():i;const l=V4(i,a),c=1-e,f=Pe(Kd(be(Mu(l,0,1,"float32",r),c)),c);return oe(i,f)}const nT=$({dropout_:G4});function vm(t){return Math.floor(Math.pow(2,Math.ceil(Math.log(t)/Math.log(2))))}function Vu(t,e,a){const r=1-t%2,i=new Float32Array(t);for(let l=0;l<t;++l){const c=2*Math.PI*l/(t+r-1);i[l]=e-a*Math.cos(c)}return cn(i,"float32")}async function K4(t,e,a=1){const r=E(t,"predictions","inTopK"),i=E(e,"targets","inTopK");O(r.rank>1,()=>`inTopK() expects the predictions to be of rank 2 or higher, but got ${r.rank}`),O(r.rank-1===i.rank,()=>`predictions rank should be 1 larger than targets rank, but got predictions rank ${r.rank} and targets rank ${i.rank}`),Ct(r.shape.slice(0,r.shape.length-1),i.shape,"predictions's shape should be align with the targets' shape, except the last dimension.");const l=r.shape[r.shape.length-1];O(a>0&&a<=l,()=>`'k' passed to inTopK() must be > 0 && <= the predictions last dimension (${l}), but got ${a}`);const c=await r.data(),f=await i.data(),[h,m]=[c.length/l,l],g=y1("bool",h);for(let y=0;y<h;y++){const b=y*m,N=c.subarray(b,b+m),w=[];for(let x=0;x<N.length;x++)w.push({value:N[x],index:x});w.sort((x,_)=>_.value-x.value),g[y]=0;for(let x=0;x<a;x++)if(w[x].index===f[y]){g[y]=1;break}}return t!==r&&r.dispose(),e!==i&&i.dispose(),Dn(g,i.shape,"bool")}const aT=K4;function Y4(t,e,a,r,i,l="NHWC",c){let f=t;t.rank===3&&(f=Q(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let h=e;h.rank===3&&(h=Q(e,[1,e.shape[0],e.shape[1],e.shape[2]])),O(f.rank===4,()=>`Error in conv2dDerFilter: input must be rank 4, but got shape ${f.shape}.`),O(h.rank===4,()=>`Error in conv2dDerFilter: dy must be rank 4, but got shape ${h.shape}.`),O(a.length===4,()=>`Error in conv2dDerFilter: filterShape must be length 4, but got ${a}.`);const m=l==="NHWC"?f.shape[3]:f.shape[1],g=l==="NHWC"?h.shape[3]:h.shape[1];O(m===a[2],()=>`Error in conv2dDerFilter: depth of input ${m}) must match input depth in filter (${a[2]}.`),O(g===a[3],()=>`Error in conv2dDerFilter: depth of dy (${g}) must match output depth for filter (${a[3]}).`),Tn("conv2dDerFilter",i,c);const y={x:f,dy:h},b={strides:r,pad:i,dataFormat:l,dimRoundingMode:c,filterShape:a};return k.runKernel(Q1,y,b)}const X4=$({conv2DBackpropFilter_:Y4});function Gu(t,e,a){if(a==null||a==="linear")return t;if(a==="relu")return oe(t,pm(e));throw new Error(`Cannot compute gradient for fused activation ${a}.`)}function Ku(t,e){let a=e;const r=Fd(t.shape,e.shape);return r.length>0&&(a=Xe(a,r)),Q(a,t.shape)}function Yu(t,e,a,r){if(e==="linear")return t;if(e==="relu")return Do(t);if(e==="elu")return Hd(t);if(e==="relu6")return fm(t);if(e==="prelu")return rm(t,a);if(e==="leakyrelu")return Pd(t,r);if(e==="sigmoid")return Rs(t);throw new Error(`Unknown fused activation ${e}.`)}const Xu=(t,e)=>!(t>0)||e==="linear";function P4({x:t,filter:e,strides:a,pad:r,dataFormat:i="NHWC",dilations:l=[1,1],dimRoundingMode:c,bias:f,activation:h="linear",preluActivationWeights:m,leakyreluAlpha:g}){if(h=h||"linear",Xu(k.state.gradientDepth,h)===!1){O(i==="NHWC",()=>`Error in fused conv2d: got dataFormat of ${i} but only NHWC is currently supported for the case of gradient depth is 0 and the activation is not linear.`);let ne=Eo(t,e,a,r,i,l,c);return f!=null&&(ne=be(ne,f)),Yu(ne,h,m,g)}const y=E(t,"x","conv2d","float32"),b=E(e,"filter","conv2d","float32");let N=y,w=!1;y.rank===3&&(w=!0,N=Q(y,[1,y.shape[0],y.shape[1],y.shape[2]])),O(N.rank===4,()=>`Error in fused conv2d: input must be rank 4, but got rank ${N.rank}.`),O(b.rank===4,()=>`Error in fused conv2d: filter must be rank 4, but got rank ${b.rank}.`),Tn("fused conv2d",r,c);const x=i==="NHWC"?N.shape[3]:N.shape[1];O(b.shape[2]===x,()=>`Error in conv2d: depth of input (${x}) must match input depth for filter ${b.shape[2]}.`),O(ga(a,l),()=>`Error in conv2D: Either strides or dilations must be 1. Got strides ${a} and dilations '${l}'`);const _=wo(N.shape,b.shape,a,l,r,c);let C;f!=null&&(C=E(f,"bias","fused conv2d"),[C]=nt(C,y),i==="NHWC"?ct(_.outShape,C.shape):(O(C.shape.length<=1,()=>`Error in fused conv2d: only supports scalar or 1-D Tensor bias for NCHW format but got the bias of rank-${C.shape.length}.`),O(C.shape.length===0||C.shape[0]===_.outChannels||C.shape[0]===1,()=>`Error in fused conv2d: bias shape (${C.shape}) is not compatible with the number of output channels (${_.outChannels})`)));let ee;if(m!=null){const ne=m.shape;if(O(ne.length<=1||ne.length===3,()=>`Error in fused conv2d: only supports scalar, 1-D Tensor or 3-D Tensor PReLU activation weights but got a tensor of rank-${ne.length}.`),ne.length===1)O(ne[0]===1||ne[0]===_.outChannels,()=>`Error in fused conv2d: PReLU activation weights (${ne}) is not compatible with the number of output channels (${_.outChannels}).`);else if(ne.length===3)try{ct(ne,_.outShape)}catch{const re=`Error in fused conv2d: PReLU activation weights (${ne}) is not compatible with the output shape of the conv2d (${_.outShape}).`;throw Error(re)}ee=E(m,"prelu weights","fused conv2d")}const I=(ne,te)=>{O(i==="NHWC",()=>`Error in gradient of fused conv2D: got dataFormat of ${i} but only NHWC is currently supported.`);const[re,H,V,D]=te,J=Gu(ne,V,h);O(io(l),()=>`Error in gradient of fused conv2D: dilation rates greater than 1 are not yet supported in gradients. Got dilations '${l}'`);const le=bw(H.shape,J,re,a,r),ce=X4(H,J,re.shape,a,r),de=[le,ce];if(D!=null){const L=Ku(D,J);de.push(L)}return de},F={x:N,filter:b,bias:C,preluActivationWeights:ee},W={strides:a,pad:r,dataFormat:i,dilations:l,dimRoundingMode:c,activation:h,leakyreluAlpha:g};return f==null?Hn((te,re,H)=>{let V=k.runKernel(Mh,F,W);return H([re,te,V]),w&&(V=Q(V,[V.shape[1],V.shape[2],V.shape[3]])),{value:V,gradFunc:I}})(N,b):Hn((te,re,H,V)=>{let D=k.runKernel(Mh,F,W);return V([re,te,D,H]),w&&(D=Q(D,[D.shape[1],D.shape[2],D.shape[3]])),{value:D,gradFunc:I}})(N,b,C)}const W4=$({fusedConv2d_:P4});function Z4(t,e,a,r,i,l=[1,1],c){let f=t;t.rank===3&&(f=Q(t,[1,t.shape[0],t.shape[1],t.shape[2]]));let h=e;h.rank===3&&(h=Q(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const m={x:f,dy:h},g={strides:r,pad:i,dimRoundingMode:c,dilations:l,filterShape:a};return k.runKernel(cv,m,g)}const Q4=$({depthwiseConv2dNativeBackpropFilter_:Z4});function J4(t,e,a,r,i,l=[1,1],c){let f=e,h=!1;e.rank===3&&(h=!0,f=Q(e,[1,e.shape[0],e.shape[1],e.shape[2]]));const m={dy:f,filter:a},g={strides:r,pad:i,dimRoundingMode:c,dilations:l,inputShape:t},y=k.runKernel(fv,m,g);return h?Q(y,[y.shape[1],y.shape[2],y.shape[3]]):y}const ez=$({depthwiseConv2dNativeBackpropInput_:J4});function tz({x:t,filter:e,strides:a,pad:r,dataFormat:i="NHWC",dilations:l=[1,1],dimRoundingMode:c,bias:f,activation:h="linear",preluActivationWeights:m,leakyreluAlpha:g}){if(Xu(k.state.gradientDepth,h)===!1){let W=ju(t,e,a,r,i,l,c);return f!=null&&(W=be(W,f)),Yu(W,h,m,g)}const y=E(t,"x","depthwiseConv2d","float32"),b=E(e,"filter","depthwiseConv2d","float32");let N=y,w=!1;y.rank===3&&(w=!0,N=Q(y,[1,y.shape[0],y.shape[1],y.shape[2]])),O(N.rank===4,()=>`Error in fused depthwiseConv2d: input must be rank 4, but got rank ${N.rank}.`),O(b.rank===4,()=>`Error in fused depthwiseConv2d: filter must be rank 4, but got rank ${b.rank}.`),O(N.shape[3]===b.shape[2],()=>`Error in fused depthwiseConv2d: number of input channels (${N.shape[3]}) must match the inChannels dimension in filter ${b.shape[2]}.`),l==null&&(l=[1,1]),O(ga(a,l),()=>`Error in fused depthwiseConv2d: Either strides or dilations must be 1. Got strides ${a} and dilations '${l}'`),Tn("fused depthwiseConv2d",r,c);const x=wo(N.shape,b.shape,a,l,r,c,!0);let _;f!=null&&(_=E(f,"bias","fused conv2d"),[_]=nt(_,y),ct(x.outShape,_.shape));let C;m!=null&&(C=E(m,"prelu weights","fused depthwiseConv2d"));const ee=(W,ne)=>{O(io(l),()=>`Error in gradient of fused depthwiseConv2d: dilation rates greater than 1 are not yet supported. Got dilations '${l}'`);const[te,re,H,V]=ne,D=Gu(W,H,h),J=ez(re.shape,D,te,a,r,l,c),le=Q4(re,D,te.shape,a,r,l,c);if(V!=null){const ce=Ku(_,D);return[J,le,ce]}return[J,le]},I={x:N,filter:b,bias:_,preluActivationWeights:C},F={strides:a,pad:r,dataFormat:i,dilations:l,dimRoundingMode:c,activation:h,leakyreluAlpha:g};return f==null?Hn((ne,te,re)=>{let H=k.runKernel(Uh,I,F);return re([te,ne,H]),w&&(H=Q(H,[H.shape[1],H.shape[2],H.shape[3]])),{value:H,gradFunc:ee}})(N,b):Hn((ne,te,re,H)=>{let V=k.runKernel(Uh,I,F);return H([te,ne,V,re]),w&&(V=Q(V,[V.shape[1],V.shape[2],V.shape[3]])),{value:V,gradFunc:ee}})(N,b,_)}const nz=$({fusedDepthwiseConv2d_:tz});function az({a:t,b:e,transposeA:a=!1,transposeB:r=!1,bias:i,activation:l="linear",preluActivationWeights:c,leakyreluAlpha:f=.2}){if(Xu(k.state.gradientDepth,l)===!1){let D=Be(t,e,a,r);return i!=null&&(D=be(D,i)),Yu(D,l,c,f)}let h=E(t,"a","fused matMul"),m=E(e,"b","fused matMul");[h,m]=nt(h,m);const g=a?h.shape[h.rank-2]:h.shape[h.rank-1],y=r?m.shape[m.rank-1]:m.shape[m.rank-2],b=a?h.shape[h.rank-1]:h.shape[h.rank-2],N=r?m.shape[m.rank-2]:m.shape[m.rank-1],w=h.shape.slice(0,-2),x=m.shape.slice(0,-2),_=Fe(w),C=Fe(x);O(g===y,()=>`Error in fused matMul: inner shapes (${g}) and (${y}) of Tensors with shapes ${h.shape} and ${m.shape} and transposeA=${a} and transposeB=${r} must match.`);const I=ct(h.shape.slice(0,-2),m.shape.slice(0,-2)).concat([b,N]),F=a?Q(h,[_,g,b]):Q(h,[_,b,g]),W=r?Q(m,[C,N,y]):Q(m,[C,y,N]);let ne;i!=null&&(ne=E(i,"bias","fused matMul"),[ne]=nt(ne,h),ct(I,ne.shape));let te;c!=null&&(te=E(c,"prelu weights","fused matMul"));const re=(D,J)=>{const[le,ce,de,L]=J,ae=Gu(Q(D,de.shape),de,l);let ie,me;if(!a&&!r?(ie=Be(ae,ce,!1,!0),me=Be(le,ae,!0,!1)):!a&&r?(ie=Be(ae,ce,!1,!1),me=Be(ae,le,!0,!1)):a&&!r?(ie=Be(ce,ae,!1,!0),me=Be(le,ae,!1,!1)):(ie=Be(ce,ae,!0,!0),me=Be(ae,le,!0,!0)),i!=null){const ge=Ku(L,ae);return[ie,me,ge]}else return[ie,me]},H={a:F,b:W,bias:ne,preluActivationWeights:te},V={transposeA:a,transposeB:r,activation:l,leakyreluAlpha:f};return i==null?Hn((J,le,ce)=>{const de=k.runKernel(Lh,H,V);return ce([J,le,de]),{value:Q(de,I),gradFunc:re}})(F,W):Hn((J,le,ce,de)=>{const L=k.runKernel(Lh,H,V);return de([J,le,L,ce]),{value:Q(L,I),gradFunc:re}})(F,W,ne)}const sz=$({fusedMatMul_:az});const sT=Object.freeze(Object.defineProperty({__proto__:null,conv2d:W4,depthwiseConv2d:nz,matMul:sz},Symbol.toStringTag,{value:"Module"}));function rz(t){return Vu(t,.54,.46)}const iz=$({hammingWindow_:rz});function oz(t){return Vu(t,.5,.5)}const rT=$({hannWindow_:oz});function lz(t,e,a,r=!1,i=0){let l=0;const c=[];for(;l+e<=t.size;)c.push(Ge(t,l,e)),l+=a;if(r)for(;l<t.size;){const f=l+e-t.size,h=At([Ge(t,l,e-f),Gr([f],i)]);c.push(h),l+=a}return c.length===0?Rr([],[0,e]):Q(At(c),[c.length,e])}const iT=$({frame_:lz});function uz(t,e,a,r,i=rT){r==null&&(r=vm(e));const l=iT(t,e,a),c=oe(l,i(e));return Fu(c,r)}const cz=$({stft_:uz});function fz(t,e,a,r,i="bilinear",l=0){const c=E(t,"image","cropAndResize"),f=E(e,"boxes","cropAndResize","float32"),h=E(a,"boxInd","cropAndResize","int32"),m=f.shape[0];O(c.rank===4,()=>`Error in cropAndResize: image must be rank 4,but got rank ${c.rank}.`),O(f.rank===2&&f.shape[1]===4,()=>`Error in cropAndResize: boxes must be have size [${m},4] but had shape ${f.shape}.`),O(h.rank===1&&h.shape[0]===m,()=>`Error in cropAndResize: boxInd must be have size [${m}] but had shape ${f.shape}.`),O(r.length===2,()=>`Error in cropAndResize: cropSize must be of length 2, but got length ${r.length}.`),O(r[0]>=1&&r[1]>=1,()=>`cropSize must be atleast [1,1], but was ${r}`),O(i==="bilinear"||i==="nearest",()=>`method must be bilinear or nearest, but was ${i}`);const g={image:c,boxes:f,boxInd:h},y={method:i,extrapolationValue:l,cropSize:r};return k.runKernel(iv,g,y)}const hz=$({cropAndResize_:fz});function dz(t){const e=E(t,"image","flipLeftRight","float32");O(e.rank===4,()=>`Error in flipLeftRight: image must be rank 4,but got rank ${e.rank}.`);const a={image:e};return k.runKernel(Ev,a,{})}const mz=$({flipLeftRight_:dz});function pz(t){const e=E(t,"image","grayscaleToRGB"),a=e.rank-1,r=e.shape[a];O(e.rank>=2,()=>`Error in grayscaleToRGB: images must be at least rank 2, but got rank ${e.rank}.`),O(r===1,()=>`Error in grayscaleToRGB: last dimension of a grayscale image should be size 1, but got size ${r}.`);const i=new Array(e.rank);return i.fill(1,0,a),i[a]=3,kr(e,i)}const gz=$({grayscaleToRGB_:pz});function yz(t){const e=E(t,"image","RGBToGrayscale"),a=e.rank-1,r=e.shape[a];O(e.rank>=2,()=>`Error in RGBToGrayscale: images must be at least rank 2, but got rank ${e.rank}.`),O(r===3,()=>`Error in RGBToGrayscale: last dimension of an RGB image should be size 3, but got size ${r}.`);const i=e.dtype,l=We(e,"float32"),c=cn([.2989,.587,.114]);let f;switch(e.rank){case 2:f=xs("ij,j->i",l,c);break;case 3:f=xs("ijk,k->ij",l,c);break;case 4:f=xs("ijkl,l->ijk",l,c);break;case 5:f=xs("ijklm,m->ijkl",l,c);break;case 6:f=xs("ijklmn,n->ijklm",l,c);break;default:throw new Error("Not a valid tensor rank.")}return f=ua(f,-1),We(f,i)}const bz=$({rgbToGrayscale_:yz});function vz(t,e,a=0,r=.5){const i=E(t,"image","rotateWithOffset","float32");O(i.rank===4,()=>`Error in rotateWithOffset: image must be rank 4,but got rank ${i.rank}.`);const l={image:i},c={radians:e,fillValue:a,center:r};return k.runKernel(mN,l,c)}const Sz=$({rotateWithOffset_:vz});function Yr(t,e,a,r,i,l){r==null&&(r=.5),i==null&&(i=Number.NEGATIVE_INFINITY),l==null&&(l=0);const c=t.shape[0];return a=Math.min(a,c),O(0<=r&&r<=1,()=>`iouThreshold must be in [0, 1], but was '${r}'`),O(t.rank===2,()=>`boxes must be a 2D tensor, but was of rank '${t.rank}'`),O(t.shape[1]===4,()=>`boxes must have 4 columns, but 2nd dimension was ${t.shape[1]}`),O(e.rank===1,()=>"scores must be a 1D tensor"),O(e.shape[0]===c,()=>`scores has incompatible shape with boxes. Expected ${c}, but was ${e.shape[0]}`),O(0<=l&&l<=1,()=>`softNmsSigma must be in [0, 1], but was '${l}'`),{maxOutputSize:a,iouThreshold:r,scoreThreshold:i,softNmsSigma:l}}function Nz(t,e,a,r=.5,i=Number.NEGATIVE_INFINITY){const l=E(t,"boxes","nonMaxSuppression","float32"),c=E(e,"scores","nonMaxSuppression","float32"),f=Yr(l,c,a,r,i);a=f.maxOutputSize,r=f.iouThreshold,i=f.scoreThreshold;const h={maxOutputSize:a,iouThreshold:r,scoreThreshold:i};return k.runKernel(oS,{boxes:l,scores:c},h)}const wz=$({nonMaxSuppression_:Nz});function Tz(t,e,a){const r=Ez(t,e,a),i=r<0?-(r+1):r;t.splice(i,0,e)}function Ez(t,e,a){return xz(t,e,a||_z)}function _z(t,e){return t>e?1:t<e?-1:0}function xz(t,e,a){let r=0,i=t.length,l=0,c=!1;for(;r<i;){l=r+(i-r>>>1);const f=a(e,t[l]);f>0?r=l+1:(i=l,c=!f)}return c?r:-r-1}function oT(t,e,a,r,i){return Sm(t,e,a,r,i,0)}function lT(t,e,a,r,i,l){return Sm(t,e,a,r,i,0,!1,l,!0)}function uT(t,e,a,r,i,l){return Sm(t,e,a,r,i,l,!0)}function Sm(t,e,a,r,i,l,c=!1,f=!1,h=!1){const m=[];for(let _=0;_<e.length;_++)e[_]>i&&m.push({score:e[_],boxIndex:_,suppressBeginIndex:0});m.sort(Eb);const g=l>0?-.5/l:0,y=[],b=[];for(;y.length<a&&m.length>0;){const _=m.pop(),{score:C,boxIndex:ee,suppressBeginIndex:I}=_;if(C<i)break;let F=!1;for(let W=y.length-1;W>=I;--W){const ne=Az(t,ee,y[W]);if(ne>=r){F=!0;break}if(_.score=_.score*Oz(r,g,ne),_.score<=i)break}_.suppressBeginIndex=y.length,F||(_.score===C?(y.push(ee),b.push(_.score)):_.score>i&&Tz(m,_,Eb))}const N=y.length,w=a-N;f&&w>0&&(y.push(...new Array(w).fill(0)),b.push(...new Array(w).fill(0)));const x={selectedIndices:y};return c&&(x.selectedScores=b),h&&(x.validOutputs=N),x}function Az(t,e,a){const r=t.subarray(e*4,e*4+4),i=t.subarray(a*4,a*4+4),l=Math.min(r[0],r[2]),c=Math.min(r[1],r[3]),f=Math.max(r[0],r[2]),h=Math.max(r[1],r[3]),m=Math.min(i[0],i[2]),g=Math.min(i[1],i[3]),y=Math.max(i[0],i[2]),b=Math.max(i[1],i[3]),N=(f-l)*(h-c),w=(y-m)*(b-g);if(N<=0||w<=0)return 0;const x=Math.max(l,m),_=Math.max(c,g),C=Math.min(f,y),ee=Math.min(h,b),I=Math.max(C-x,0)*Math.max(ee-_,0);return I/(N+w-I)}function Oz(t,e,a){const r=Math.exp(e*a*a);return a<=t?r:0}function Eb(t,e){return t.score-e.score||t.score===e.score&&e.boxIndex-t.boxIndex}async function Dz(t,e,a,r=.5,i=Number.NEGATIVE_INFINITY){const l=E(t,"boxes","nonMaxSuppressionAsync"),c=E(e,"scores","nonMaxSuppressionAsync"),f=Yr(l,c,a,r,i);a=f.maxOutputSize,r=f.iouThreshold,i=f.scoreThreshold;const h=await Promise.all([l.data(),c.data()]),m=h[0],g=h[1],{selectedIndices:y}=oT(m,g,a,r,i);return l!==t&&l.dispose(),c!==e&&c.dispose(),cn(y,"int32")}const $z=Dz;function kz(t,e,a,r=.5,i=Number.NEGATIVE_INFINITY,l=0){const c=E(t,"boxes","nonMaxSuppression"),f=E(e,"scores","nonMaxSuppression"),h=Yr(c,f,a,r,i,l);a=h.maxOutputSize,r=h.iouThreshold,i=h.scoreThreshold,l=h.softNmsSigma;const m={boxes:c,scores:f},g={maxOutputSize:a,iouThreshold:r,scoreThreshold:i,softNmsSigma:l},y=k.runKernel(uS,m,g);return{selectedIndices:y[0],selectedScores:y[1]}}const Rz=$({nonMaxSuppressionWithScore_:kz});async function zz(t,e,a,r=.5,i=Number.NEGATIVE_INFINITY,l=0){const c=E(t,"boxes","nonMaxSuppressionAsync"),f=E(e,"scores","nonMaxSuppressionAsync"),h=Yr(c,f,a,r,i,l);a=h.maxOutputSize,r=h.iouThreshold,i=h.scoreThreshold,l=h.softNmsSigma;const m=await Promise.all([c.data(),f.data()]),g=m[0],y=m[1],{selectedIndices:b,selectedScores:N}=uT(g,y,a,r,i,l);return c!==t&&c.dispose(),f!==e&&f.dispose(),{selectedIndices:cn(b,"int32"),selectedScores:cn(N)}}const Cz=zz;function jz(t,e,a,r=.5,i=Number.NEGATIVE_INFINITY,l=!1){const c=E(t,"boxes","nonMaxSuppression"),f=E(e,"scores","nonMaxSuppression"),h=Yr(c,f,a,r,i,null),m=h.maxOutputSize,g=h.iouThreshold,y=h.scoreThreshold,b={boxes:c,scores:f},N={maxOutputSize:m,iouThreshold:g,scoreThreshold:y,padToMaxOutputSize:l},w=k.runKernel(lS,b,N);return{selectedIndices:w[0],validOutputs:w[1]}}const Bz=$({nonMaxSuppressionPadded_:jz});async function Iz(t,e,a,r=.5,i=Number.NEGATIVE_INFINITY,l=!1){const c=E(t,"boxes","nonMaxSuppressionAsync"),f=E(e,"scores","nonMaxSuppressionAsync"),h=Yr(c,f,a,r,i,null),m=h.maxOutputSize,g=h.iouThreshold,y=h.scoreThreshold,[b,N]=await Promise.all([c.data(),f.data()]),{selectedIndices:w,validOutputs:x}=lT(b,N,m,g,y,l);return c!==t&&c.dispose(),f!==e&&f.dispose(),{selectedIndices:cn(w,"int32"),validOutputs:ke(x,"int32")}}const Lz=Iz;function Mz(t,e,a=!1,r=!1){const i=E(t,"images","resizeBilinear");O(i.rank===3||i.rank===4,()=>`Error in resizeBilinear: x must be rank 3 or 4, but got rank ${i.rank}.`),O(e.length===2,()=>`Error in resizeBilinear: new shape must 2D, but got shape ${e}.`),O(r===!1||a===!1,()=>"Error in resizeBilinear: If halfPixelCenters is true, alignCorners must be false.");let l=i,c=!1;i.rank===3&&(c=!0,l=Q(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const f={images:l},h={alignCorners:a,halfPixelCenters:r,size:e},m=k.runKernel(xS,f,h);return c?Q(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const Uz=$({resizeBilinear_:Mz});function Fz(t,e,a=!1,r=!1){const i=E(t,"images","resizeNearestNeighbor");O(i.rank===3||i.rank===4,()=>`Error in resizeNearestNeighbor: x must be rank 3 or 4, but got rank ${i.rank}.`),O(e.length===2,()=>`Error in resizeNearestNeighbor: new shape must 2D, but got shape ${e}.`),O(i.dtype==="float32"||i.dtype==="int32",()=>"`images` must have `int32` or `float32` as dtype"),O(r===!1||a===!1,()=>"Error in resizeNearestNeighbor: If halfPixelCenters is true, alignCorners must be false.");let l=i,c=!1;i.rank===3&&(c=!0,l=Q(i,[1,i.shape[0],i.shape[1],i.shape[2]]));const f={images:l},h={alignCorners:a,halfPixelCenters:r,size:e},m=k.runKernel(_S,f,h);return c?Q(m,[m.shape[1],m.shape[2],m.shape[3]]):m}const qz=$({resizeNearestNeighbor_:Fz});function Hz(t,e="binary",a=!1,r=.5){const i=E(t,"image","threshold"),l=.2989,c=.587,f=.114,h=i.shape[0]*i.shape[1];let m=oe(cn([r]),255),g,y,b,N;if(O(i.rank===3,()=>`Error in threshold: image must be rank 3,but got rank ${i.rank}.`),O(i.shape[2]===3||i.shape[2]===1,()=>`Error in threshold: image color channel must be equal to 3 or 1but got ${i.shape[2]}.`),O(i.dtype==="int32"||i.dtype==="float32",()=>`Error in dtype: image dtype must be int32 or float32,but got dtype ${i.dtype}.`),O(e==="otsu"||e==="binary",()=>`Method must be binary or otsu, but was ${e}`),i.shape[2]===3){[g,y,b]=Fr(i,[1,1,1],-1);const _=oe(g,l),C=oe(y,c),ee=oe(b,f);N=be(be(_,C),ee)}else N=t;if(e==="otsu"){const _=Ud(We(hm(N),"int32"),Dn([]),256);m=Vz(_,h)}const w=a?Bu(N,m):Ao(N,m);return We(oe(w,255),"int32")}function Vz(t,e){let a=cn([-1]),r=cn([0]),i=cn([0]),l,c,f,h,m,g;for(let y=0;y<t.size-1;y++){l=Ge(t,0,y+1),c=Ge(t,y+1),m=Pe(Xe(l),e),g=Pe(Xe(c),e);const b=Xe(oe(l,Mr(0,l.size)));f=Pe(b,Xe(l));const N=Gr(c.shape,l.size),w=be(Mr(0,c.size),N),x=oe(c,w);h=Pe(Xe(x),Xe(c));const _=_e(f,h),C=_e(f,h),ee=oe(m,g);i=oe(oe(ee,_),C);const I=Ao(i,r);r=ma(I,i,r),a=ma(I,cn([y]),a)}return a}const Gz=$({threshold_:Hz});function Kz(t,e,a="nearest",r="constant",i=0,l){const c=E(t,"image","transform","float32"),f=E(e,"transforms","transform","float32");O(c.rank===4,()=>`Error in transform: image must be rank 4,but got rank ${c.rank}.`),O(f.rank===2&&(f.shape[0]===c.shape[0]||f.shape[0]===1)&&f.shape[1]===8,()=>"Error in transform: Input transform should be batch x 8 or 1 x 8"),O(l==null||l.length===2,()=>`Error in transform: outputShape must be [height, width] or null, but got ${l}.`);const h={image:c,transforms:f},m={interpolation:a,fillMode:r,fillValue:i,outputShape:l};return k.runKernel(lN,h,m)}const Yz=$({transform_:Kz});function Xz(t,e,a){const r=E(t,"a","bandPart");O(r.rank>=2,()=>`bandPart(): Rank must be at least 2, got ${r.rank}.`);const i=r.shape,[l,c]=r.shape.slice(-2);let f,h;typeof e=="number"?(O(e%1===0,()=>`bandPart(): numLower must be an integer, got ${e}.`),O(e<=l,()=>`bandPart(): numLower (${e}) must not be greater than the number of rows (${l}).`),f=E(e<0?l:e,"numLower","bandPart")):(O(e.dtype==="int32",()=>"bandPart(): numLower's dtype must be an int32."),f=ma(wu(e,0),l,uo(e,l))),typeof a=="number"?(O(a%1===0,()=>`bandPart(): numUpper must be an integer, got ${a}.`),O(a<=c,()=>`bandPart(): numUpper (${a}) must not be greater than the number of columns (${c}).`),h=E(a<0?c:a,"numUpper","bandPart")):(O(a.dtype==="int32",()=>"bandPart(): numUpper's dtype must be an int32."),h=ma(wu(a,0),c,uo(a,c)));const m=Q(Mr(0,l,1,"int32"),[-1,1]),g=Mr(0,c,1,"int32"),y=_e(m,g),b=oo(Bu(y,f),Xd(y,$n(h))),N=Ms([l,c],r.dtype);return Q(Vn(ns(Q(r,[-1,l,c])).map(w=>ma(b,w,N))),i)}const Pz=$({bandPart_:Xz});function Wz(t){let e;if(Array.isArray(t)){e=!1,O(t!=null&&t.length>0,()=>"Gram-Schmidt process: input must not be null, undefined, or empty");const i=t[0].shape[0];for(let l=1;l<t.length;++l)O(t[l].shape[0]===i,()=>`Gram-Schmidt: Non-unique lengths found in the input vectors: (${t[l].shape[0]} vs. ${i})`)}else e=!0,t=Fr(t,t.shape[0],0).map(i=>qu(i,[0]));O(t.length<=t[0].shape[0],()=>`Gram-Schmidt: Number of vectors (${t.length}) exceeds number of dimensions (${t[0].shape[0]}).`);const a=[],r=t;for(let i=0;i<t.length;++i)a.push(k.tidy(()=>{let l=r[i];if(i>0)for(let c=0;c<i;++c){const f=oe(Xe(oe(a[c],l)),a[c]);l=_e(l,f)}return Pe(l,xo(l,"euclidean"))}));return e?Vn(a,0):a}const Zz=$({gramSchmidt_:Wz});function Qz(t,e=!1){if(O(t.rank>=2,()=>`qr() requires input tensor to have a rank >= 2, but got rank ${t.rank}`),t.rank===2)return _b(t,e);{const a=t.shape.slice(0,t.shape.length-2).reduce((h,m)=>h*m),r=ns(Q(t,[a,t.shape[t.shape.length-2],t.shape[t.shape.length-1]]),0),i=[],l=[];r.forEach(h=>{const[m,g]=_b(h,e);i.push(m),l.push(g)});const c=Q(Vn(i,0),t.shape),f=Q(Vn(l,0),t.shape);return[c,f]}}function _b(t,e=!1){return k.tidy(()=>{O(t.shape.length===2,()=>`qr2d() requires a 2D Tensor, but got a ${t.shape.length}D Tensor.`);const a=t.shape[0],r=t.shape[1];let i=Gd(a),l=da(t);const c=Rr([[1]],[1,1]);let f=da(c);const h=a>=r?r:a;for(let m=0;m<h;++m){const g=l,y=f,b=i;[f,l,i]=k.tidy(()=>{const N=Ge(l,[m,m],[a-m,1]),w=xo(N),x=Ge(l,[m,m],[1,1]),_=ma(Ao(x,0),Rr([[-1]]),Rr([[1]])),C=_e(x,oe(_,w)),ee=Pe(N,C);ee.shape[0]===1?f=da(c):f=At([c,Ge(ee,[1,0],[ee.shape[0]-1,ee.shape[1]])],0);const I=$n(Pe(Be(_,C),w)),F=Ge(l,[m,0],[a-m,r]),W=oe(I,f),ne=fo(f);if(m===0)l=_e(F,Be(W,Be(ne,F)));else{const H=_e(F,Be(W,Be(ne,F)));l=At([Ge(l,[0,0],[m,r]),H],0)}const te=fo(W),re=Ge(i,[0,m],[a,i.shape[1]-m]);if(m===0)i=_e(re,Be(Be(re,f),te));else{const H=_e(re,Be(Be(re,f),te));i=At([Ge(i,[0,0],[a,m]),H],1)}return[f,l,i]}),zt([g,y,b])}return!e&&a>r&&(i=Ge(i,[0,0],[a,r]),l=Ge(l,[0,0],[r,r])),[i,l]})}const Jz=$({qr_:Qz});var Rt;(function(t){t[t.NONE=0]="NONE",t[t.MEAN=1]="MEAN",t[t.SUM=2]="SUM",t[t.SUM_BY_NONZERO_WEIGHTS=3]="SUM_BY_NONZERO_WEIGHTS"})(Rt||(Rt={}));function eC(t,e,a=Rt.SUM_BY_NONZERO_WEIGHTS){const r=E(t,"losses","computeWeightedLoss");let i=null;e!=null&&(i=E(e,"weights","computeWeightedLoss"));const l=i==null?r:oe(r,i);if(a===Rt.NONE)return l;if(a===Rt.SUM)return Xe(l);if(a===Rt.MEAN){if(i==null)return lo(l);{const c=r.size/i.size,f=Pe(Xe(l),Xe(i));return c>1?Pe(f,ke(c)):f}}if(a===Rt.SUM_BY_NONZERO_WEIGHTS){if(i==null)return Pe(Xe(l),ke(r.size));{const c=oe(i,Ya(r.shape)),f=We(Xe(am(c,ke(0))),"float32");return Pe(Xe(l),f)}}throw Error(`Unknown reduction: ${a}`)}const ya=$({computeWeightedLoss_:eC});function tC(t,e,a,r=Rt.SUM_BY_NONZERO_WEIGHTS){const i=E(t,"labels","absoluteDifference"),l=E(e,"predictions","absoluteDifference");let c=null;a!=null&&(c=E(a,"weights","absoluteDifference")),Ct(i.shape,l.shape,"Error in absoluteDifference: ");const f=Xt(_e(i,l));return ya(f,c,r)}const nC=$({absoluteDifference_:tC});function aC(t,e,a,r,i=Rt.SUM_BY_NONZERO_WEIGHTS){const l=E(t,"labels","cosineDistance"),c=E(e,"predictions","cosineDistance");let f=null;r!=null&&(f=E(r,"weights","cosineDistance")),Ct(l.shape,c.shape,"Error in cosineDistance: ");const h=ke(1),m=_e(h,Xe(oe(l,c),a,!0));return ya(m,f,i)}const sC=$({cosineDistance_:aC});function rC(t,e,a,r=Rt.SUM_BY_NONZERO_WEIGHTS){let i=E(t,"labels","hingeLoss");const l=E(e,"predictions","hingeLoss");let c=null;a!=null&&(c=E(a,"weights","hingeLoss")),Ct(i.shape,l.shape,"Error in hingeLoss: ");const f=ke(1);i=_e(oe(ke(2),i),f);const h=Do(_e(f,oe(i,l)));return ya(h,c,r)}const iC=$({hingeLoss_:rC});function oC(t,e,a,r=1,i=Rt.SUM_BY_NONZERO_WEIGHTS){const l=E(t,"labels","huberLoss"),c=E(e,"predictions","huberLoss");let f=null;a!=null&&(f=E(a,"weights","huberLoss")),Ct(l.shape,c.shape,"Error in huberLoss: ");const h=ke(r),m=Xt(_e(c,l)),g=uo(m,h),y=_e(m,g),b=be(oe(ke(.5),wn(g)),oe(h,y));return ya(b,f,i)}const lC=$({huberLoss_:oC});function uC(t,e,a,r=1e-7,i=Rt.SUM_BY_NONZERO_WEIGHTS){const l=E(t,"labels","logLoss"),c=E(e,"predictions","logLoss");let f=null;a!=null&&(f=E(a,"weights","logLoss")),Ct(l.shape,c.shape,"Error in logLoss: ");const h=ke(1),m=ke(r),g=$n(oe(l,Lr(be(c,m)))),y=oe(_e(h,l),Lr(be(_e(h,c),m))),b=_e(g,y);return ya(b,f,i)}const cC=$({logLoss_:uC});function fC(t,e,a,r=Rt.SUM_BY_NONZERO_WEIGHTS){const i=E(t,"labels","meanSquaredError"),l=E(e,"predictions","meanSquaredError");let c=null;a!=null&&(c=E(a,"weights","meanSquaredError")),Ct(i.shape,l.shape,"Error in meanSquaredError: ");const f=mm(i,l);return ya(f,c,r)}const hC=$({meanSquaredError_:fC});function dC(t,e){const a=E(t,"labels","sigmoidCrossEntropyWithLogits"),r=E(e,"logits","sigmoidCrossEntropyWithLogits");Ct(a.shape,r.shape,"Error in sigmoidCrossEntropyWithLogits: ");const i=Do(r),l=oe(r,a),c=Wd(Ja($n(Xt(r))));return be(_e(i,l),c)}function mC(t,e,a,r=0,i=Rt.SUM_BY_NONZERO_WEIGHTS){let l=E(t,"multiClassLabels","sigmoidCrossEntropy");const c=E(e,"logits","sigmoidCrossEntropy");let f=null;if(a!=null&&(f=E(a,"weights","sigmoidCrossEntropy")),Ct(l.shape,c.shape,"Error in sigmoidCrossEntropy: "),r>0){const m=ke(r),g=ke(1),y=ke(.5);l=be(oe(l,_e(g,m)),oe(y,m))}const h=dC(l,c);return ya(h,f,i)}const pC=$({sigmoidCrossEntropy_:mC});function gC(t,e,a=-1){if(a===-1&&(a=e.rank-1),a!==e.rank-1)throw Error(`Softmax cross entropy along a non-last dimension is not yet supported. Labels / logits was rank ${e.rank} and dim was ${a}`);return Hn((i,l,c)=>{const h=Qd(l,[a],!0),m=_e(We(l,"float32"),h);c([i,m]);const g=$n(oe(m,i));return{value:Xe(g,[a]),gradFunc:(N,w)=>{const[x,_]=w,C=_o(N.shape,[a]);return[oe(Q(N,C),_e(We(x,"float32"),Ja(_))),oe(Q(N,C),_e(Ja(_),We(x,"float32")))]}}})(t,e)}function yC(t,e,a,r=0,i=Rt.SUM_BY_NONZERO_WEIGHTS){let l=E(t,"onehotLabels","softmaxCrossEntropy");const c=E(e,"logits","softmaxCrossEntropy");let f=null;if(a!=null&&(f=E(a,"weights","softmaxCrossEntropy")),Ct(l.shape,c.shape,"Error in softmaxCrossEntropy: "),r>0){const m=ke(r),g=ke(1),y=ke(l.shape[1]);l=be(oe(l,_e(g,m)),Pe(m,y))}const h=gC(l,c);return ya(h,f,i)}const bC=$({softmaxCrossEntropy_:yC});function vC(t,e,a,r){const i=E(t,"indices","sparseFillEmptyRows","int32"),l=E(e,"values","sparseFillEmptyRows"),c=E(a,"denseShape","sparseFillEmptyRows","int32"),f=E(r,"defaultValue","sparseFillEmptyRows",l.dtype);if(i.rank!==2)throw new Error(`Indices should be Tensor2D but received shape
        ${i.shape}`);if(l.rank!==1)throw new Error(`Values should be Tensor1D but received shape ${l.shape}`);if(c.rank!==1)throw new Error(`Dense shape should be Tensor1D but received shape ${c.shape}`);if(f.rank!==0)throw new Error(`Default value should be a scalar but received shape ${f.shape}`);const h={indices:i,values:l,denseShape:c,defaultValue:f},m=k.runKernel(YS,h);return{outputIndices:m[0],outputValues:m[1],emptyRowIndicator:m[2],reverseIndexMap:m[3]}}const SC=$({sparseFillEmptyRows_:vC});function NC(t,e,a){const r=E(t,"inputIndices","sparseReshape","int32"),i=E(e,"inputShape","sparseReshape","int32"),l=E(a,"newShape","sparseReshape","int32");if(r.rank!==2)throw new Error(`Input indices should be Tensor2D but received shape
        ${r.shape}`);if(i.rank!==1)throw new Error(`Input shape should be Tensor1D but received shape ${i.shape}`);if(l.rank!==1)throw new Error(`New shape should be Tensor1D but received shape ${l.shape}`);const c={inputIndices:r,inputShape:i,newShape:l},f=k.runKernel(XS,c);return{outputIndices:f[0],outputShape:f[1]}}const wC=$({sparseReshape_:NC});function TC(t,e,a){const r=E(t,"data","sparseSegmentMean"),i=E(e,"indices","sparseSegmentMean","int32"),l=E(a,"segmentIds","sparseSegmentMean","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
          ${i.shape}`);if(l.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
          ${l.shape}`);const c={data:r,indices:i,segmentIds:l};return k.runKernel(PS,c)}const EC=$({sparseSegmentMean_:TC});function _C(t,e,a){const r=E(t,"data","sparseSegmentSum"),i=E(e,"indices","sparseSegmentSum","int32"),l=E(a,"segmentIds","sparseSegmentSum","int32");if(r.rank<1)throw new Error("Data should be at least 1 dimensional but received scalar");if(i.rank!==1)throw new Error(`Indices should be Tensor1D but received shape
         ${i.shape}`);if(l.rank!==1)throw new Error(`Segment ids should be Tensor1D but received shape
         ${l.shape}`);const c={data:r,indices:i,segmentIds:l};return k.runKernel(WS,c)}const xC=$({sparseSegmentSum_:_C});function AC(t,e,a,r,i,l,c,f){const h=E(t,"data","stringNGrams","string");if(h.dtype!=="string")throw new Error("Data must be of datatype string");if(h.shape.length!==1)throw new Error(`Data must be a vector, saw: ${h.shape}`);const m=E(e,"dataSplits","stringNGrams");if(m.dtype!=="int32")throw new Error("Data splits must be of datatype int32");const g={separator:a,nGramWidths:r,leftPad:i,rightPad:l,padWidth:c,preserveShortSequences:f},y={data:h,dataSplits:m},b=k.runKernel(tN,y,g);return{nGrams:b[0],nGramsSplits:b[1]}}const OC=$({stringNGrams_:AC});function DC(t,e,a=!0){const r=E(t,"input","stringSplit","string"),i=E(e,"delimiter","stringSplit","string");if(r.rank!==1)throw new Error(`Input should be Tensor1D but received shape ${r.shape}`);if(i.rank!==0)throw new Error(`Delimiter should be a scalar but received shape ${i.shape}`);const l={skipEmpty:a},c={input:r,delimiter:i},f=k.runKernel(nN,c,l);return{indices:f[0],values:f[1],shape:f[2]}}const $C=$({stringSplit_:DC});function kC(t,e){const a=E(t,"input","stringToHashBucketFast","string"),r={numBuckets:e};if(e<=0)throw new Error("Number of buckets must be at least 1");const i={input:a};return k.runKernel(aN,i,r)}const RC=$({stringToHashBucketFast_:kC});function zC(t,e,a,r=!0){const i=E(t,"input","staticRegexReplace","string"),l={pattern:e,rewrite:a,replaceGlobal:r};return k.runKernel(JS,{x:i},l)}const CC=$({staticRegexReplace_:zC});const cT={fft:Uu,ifft:co,rfft:Fu,irfft:dm},fT={hammingWindow:iz,hannWindow:rT,frame:iT,stft:cz},hT={flipLeftRight:mz,grayscaleToRGB:gz,resizeNearestNeighbor:qz,resizeBilinear:Uz,rgbToGrayscale:bz,rotateWithOffset:Sz,cropAndResize:hz,nonMaxSuppression:wz,nonMaxSuppressionAsync:$z,nonMaxSuppressionWithScore:Rz,nonMaxSuppressionWithScoreAsync:Cz,nonMaxSuppressionPadded:Bz,nonMaxSuppressionPaddedAsync:Lz,threshold:Gz,transform:Yz},dT={bandPart:Pz,gramSchmidt:Zz,qr:Jz},mT={absoluteDifference:nC,computeWeightedLoss:ya,cosineDistance:sC,hingeLoss:iC,huberLoss:lC,logLoss:cC,meanSquaredError:hC,sigmoidCrossEntropy:pC,softmaxCrossEntropy:bC},pT={sparseFillEmptyRows:SC,sparseReshape:wC,sparseSegmentMean:EC,sparseSegmentSum:xC},gT={stringNGrams:OC,stringSplit:$C,stringToHashBucketFast:RC,staticRegexReplace:CC};const jC=new Map,ed=new Map;class yT{getClassName(){return this.constructor.className}static fromConfig(e,a){return new e(a)}}class Va{constructor(){this.classNameMap={}}static getMap(){return Va.instance==null&&(Va.instance=new Va),Va.instance}static register(e){Va.getMap().classNameMap[e.className]=[e,e.fromConfig]}}function bT(t,e,a){O(t.className!=null,()=>"Class being registered does not have the static className property defined."),O(typeof t.className=="string",()=>"className is required to be a string, but got type "+typeof t.className),O(t.className.length>0,()=>"Class being registered has an empty-string as its className, which is disallowed."),typeof e>"u"&&(e="Custom"),typeof a>"u"&&(a=t.className);const r=a,i=e+">"+r;return Va.register(t),jC.set(i,t),ed.set(t,i),t}function BC(t){return ed.has(t)?ed.get(t):t.className}const IC=Object.freeze(Object.defineProperty({__proto__:null,Serializable:yT,SerializationMap:Va,getRegisteredName:BC,registerClass:bT},Symbol.toStringTag,{value:"Module"}));class as extends yT{minimize(e,a=!1,r){const{value:i,grads:l}=this.computeGradients(e,r);if(r!=null){const c=r.map(f=>({name:f.name,tensor:l[f.name]}));this.applyGradients(c)}else this.applyGradients(l);return zt(l),a?i:(i.dispose(),null)}get iterations(){return this.iterations_==null&&(this.iterations_=0),this.iterations_}incrementIterations(){this.iterations_=this.iterations+1}computeGradients(e,a){return Vw(e,a)}dispose(){this.iterations_!=null&&zt(this.iterations_)}async saveIterations(){return this.iterations_==null&&(this.iterations_=0),{name:"iter",tensor:ke(this.iterations_,"int32")}}async getWeights(){throw new Error("getWeights() is not implemented for this optimizer yet.")}async setWeights(e){throw new Error(`setWeights() is not implemented for this optimizer class ${this.getClassName()}`)}async extractIterations(e){return this.iterations_=(await e[0].tensor.data())[0],e.slice(1)}}Object.defineProperty(as,Symbol.hasInstance,{value:t=>t.minimize!=null&&t.computeGradients!=null&&t.applyGradients!=null});class Nm extends as{static get className(){return"Adadelta"}constructor(e,a,r=null){super(),this.learningRate=e,this.rho=a,this.epsilon=r,this.accumulatedGrads=[],this.accumulatedUpdates=[],r==null&&(this.epsilon=k.backend.epsilon())}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const l=k.registeredVariables[r],c=!1;this.accumulatedGrads[i]==null&&(this.accumulatedGrads[i]={originalName:`${r}/accum_grad`,variable:Ie(()=>Zt(l).variable(c))}),this.accumulatedUpdates[i]==null&&(this.accumulatedUpdates[i]={originalName:`${r}/accum_var`,variable:Ie(()=>Zt(l).variable(c))});const f=Array.isArray(e)?e[i].tensor:e[r];if(f==null)return;const h=this.accumulatedGrads[i].variable,m=this.accumulatedUpdates[i].variable;Ie(()=>{const g=be(oe(h,this.rho),oe(wn(f),1-this.rho)),y=oe(Pe(qn(be(m,this.epsilon)),qn(be(h,this.epsilon))),f),b=be(oe(m,this.rho),oe(wn(y),1-this.rho));h.assign(g),m.assign(b);const N=be(oe(y,-this.learningRate),l);l.assign(N)})}),this.incrementIterations()}dispose(){this.accumulatedUpdates!=null&&(zt(this.accumulatedGrads.map(e=>e.variable)),zt(this.accumulatedUpdates.map(e=>e.variable)))}async getWeights(){const e=[...this.accumulatedGrads,...this.accumulatedUpdates];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=e.length/2,r=!1;this.accumulatedGrads=e.slice(0,a).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedUpdates=e.slice(a,a*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,rho:this.rho,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.rho,a.epsilon)}}class wm extends as{static get className(){return"Adagrad"}constructor(e,a=.1){super(),this.learningRate=e,this.initialAccumulatorValue=a,this.accumulatedGrads=[]}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const l=k.registeredVariables[r];this.accumulatedGrads[i]==null&&(this.accumulatedGrads[i]={originalName:`${r}/accumulator`,variable:Ie(()=>Gr(l.shape,this.initialAccumulatorValue).variable(!1))});const c=Array.isArray(e)?e[i].tensor:e[r];if(c==null)return;const f=this.accumulatedGrads[i].variable;Ie(()=>{const h=be(f,wn(c));f.assign(h);const m=be(oe(Pe(c,qn(be(h,k.backend.epsilon()))),-this.learningRate),l);l.assign(m)})}),this.incrementIterations()}dispose(){this.accumulatedGrads!=null&&zt(this.accumulatedGrads.map(e=>e.variable))}async getWeights(){return[await this.saveIterations()].concat(this.accumulatedGrads.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulatedGrads=e.map(r=>({originalName:r.name,variable:r.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,initialAccumulatorValue:this.initialAccumulatorValue}}static fromConfig(e,a){return new e(a.learningRate,a.initialAccumulatorValue)}}class Tm extends as{static get className(){return"Adam"}constructor(e,a,r,i=null){super(),this.learningRate=e,this.beta1=a,this.beta2=r,this.epsilon=i,this.accumulatedFirstMoment=[],this.accumulatedSecondMoment=[],Ie(()=>{this.accBeta1=ke(a).variable(),this.accBeta2=ke(r).variable()}),i==null&&(this.epsilon=k.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Ie(()=>{const r=_e(1,this.accBeta1),i=_e(1,this.accBeta2);a.forEach((l,c)=>{const f=k.registeredVariables[l],h=!1;this.accumulatedFirstMoment[c]==null&&(this.accumulatedFirstMoment[c]={originalName:`${l}/m`,variable:Ie(()=>Zt(f).variable(h))}),this.accumulatedSecondMoment[c]==null&&(this.accumulatedSecondMoment[c]={originalName:`${l}/v`,variable:Ie(()=>Zt(f).variable(h))});const m=Array.isArray(e)?e[c].tensor:e[l];if(m==null)return;const g=this.accumulatedFirstMoment[c].variable,y=this.accumulatedSecondMoment[c].variable,b=be(oe(g,this.beta1),oe(m,1-this.beta1)),N=be(oe(y,this.beta2),oe(wn(m),1-this.beta2)),w=Pe(b,r),x=Pe(N,i);g.assign(b),y.assign(N);const _=be(oe(Pe(w,be(qn(x),this.epsilon)),-this.learningRate),f);f.assign(_)}),this.accBeta1.assign(oe(this.accBeta1,this.beta1)),this.accBeta2.assign(oe(this.accBeta2,this.beta2))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.accBeta2.dispose(),this.accumulatedFirstMoment!=null&&zt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedSecondMoment!=null&&zt(this.accumulatedSecondMoment.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedFirstMoment,...this.accumulatedSecondMoment];return[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e),Ie(()=>{this.accBeta1.assign(Ir(this.beta1,this.iterations_+1)),this.accBeta2.assign(Ir(this.beta2,this.iterations_+1))});const a=e.length/2,r=!1;this.accumulatedFirstMoment=e.slice(0,a).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedSecondMoment=e.slice(a,a*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)}))}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon)}}class Em extends as{static get className(){return"Adamax"}constructor(e,a,r,i=null,l=0){super(),this.learningRate=e,this.beta1=a,this.beta2=r,this.epsilon=i,this.decay=l,this.accumulatedFirstMoment=[],this.accumulatedWeightedInfNorm=[],Ie(()=>{this.iteration=ke(0).variable(),this.accBeta1=ke(a).variable()}),i==null&&(this.epsilon=k.backend.epsilon())}applyGradients(e){const a=Array.isArray(e)?e.map(r=>r.name):Object.keys(e);Ie(()=>{const r=_e(1,this.accBeta1),i=Pe(-this.learningRate,be(oe(this.iteration,this.decay),1));a.forEach((l,c)=>{const f=k.registeredVariables[l],h=!1;this.accumulatedFirstMoment[c]==null&&(this.accumulatedFirstMoment[c]={originalName:`${l}/m`,variable:Zt(f).variable(h)}),this.accumulatedWeightedInfNorm[c]==null&&(this.accumulatedWeightedInfNorm[c]={originalName:`${l}/v`,variable:Zt(f).variable(h)});const m=Array.isArray(e)?e[c].tensor:e[l];if(m==null)return;const g=this.accumulatedFirstMoment[c].variable,y=this.accumulatedWeightedInfNorm[c].variable,b=be(oe(g,this.beta1),oe(m,1-this.beta1)),N=oe(y,this.beta2),w=Xt(m),x=nm(N,w);g.assign(b),y.assign(x);const _=be(oe(Pe(i,r),Pe(b,be(x,this.epsilon))),f);f.assign(_)}),this.iteration.assign(be(this.iteration,1)),this.accBeta1.assign(oe(this.accBeta1,this.beta1))}),this.incrementIterations()}dispose(){this.accBeta1.dispose(),this.iteration.dispose(),this.accumulatedFirstMoment!=null&&zt(this.accumulatedFirstMoment.map(e=>e.variable)),this.accumulatedWeightedInfNorm!=null&&zt(this.accumulatedWeightedInfNorm.map(e=>e.variable))}async getWeights(){throw new Error("getWeights() is not implemented for Adamax yet.")}async setWeights(e){throw new Error("setWeights() is not implemented for Adamax yet.")}getConfig(){return{learningRate:this.learningRate,beta1:this.beta1,beta2:this.beta2,epsilon:this.epsilon,decay:this.decay}}static fromConfig(e,a){return new e(a.learningRate,a.beta1,a.beta2,a.epsilon,a.decay)}}class Pu extends as{static get className(){return"SGD"}constructor(e){super(),this.learningRate=e,this.setLearningRate(e)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const l=Array.isArray(e)?e[i].tensor:e[r];if(l==null)return;const c=k.registeredVariables[r];Ie(()=>{const f=be(oe(this.c,l),c);c.assign(f)})}),this.incrementIterations()}setLearningRate(e){this.learningRate=e,this.c!=null&&this.c.dispose(),this.c=On(ke(-e))}dispose(){this.c.dispose()}async getWeights(){return[await this.saveIterations()]}async setWeights(e){if(e=await this.extractIterations(e),e.length!==0)throw new Error("SGD optimizer does not have settable weights.")}getConfig(){return{learningRate:this.learningRate}}static fromConfig(e,a){return new e(a.learningRate)}}class _m extends Pu{static get className(){return"Momentum"}constructor(e,a,r=!1){super(e),this.learningRate=e,this.momentum=a,this.useNesterov=r,this.accumulations=[],this.m=ke(this.momentum)}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const l=k.registeredVariables[r];this.accumulations[i]==null&&(this.accumulations[i]={originalName:`${r}/momentum`,variable:Ie(()=>Zt(l).variable(!1))});const c=this.accumulations[i].variable,f=Array.isArray(e)?e[i].tensor:e[r];f!=null&&Ie(()=>{let h;const m=be(oe(this.m,c),f);this.useNesterov?h=be(oe(this.c,be(f,oe(m,this.m))),l):h=be(oe(this.c,m),l),c.assign(m),l.assign(h)})}),this.incrementIterations()}dispose(){this.m.dispose(),this.accumulations!=null&&zt(this.accumulations.map(e=>e.variable))}setMomentum(e){this.momentum=e}async getWeights(){return[await this.saveIterations()].concat(this.accumulations.map(e=>({name:e.originalName,tensor:e.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=!1;this.accumulations=e.map(r=>({originalName:r.name,variable:r.tensor.variable(a)}))}getConfig(){return{learningRate:this.learningRate,momentum:this.momentum,useNesterov:this.useNesterov}}static fromConfig(e,a){return new e(a.learningRate,a.momentum,a.useNesterov)}}class xm extends as{static get className(){return"RMSProp"}constructor(e,a=.9,r=0,i=null,l=!1){if(super(),this.learningRate=e,this.decay=a,this.momentum=r,this.epsilon=i,this.accumulatedMeanSquares=[],this.accumulatedMoments=[],this.accumulatedMeanGrads=[],this.centered=l,i==null&&(this.epsilon=k.backend.epsilon()),e==null)throw new Error("learningRate for RMSPropOptimizer must be defined.")}applyGradients(e){(Array.isArray(e)?e.map(r=>r.name):Object.keys(e)).forEach((r,i)=>{const l=k.registeredVariables[r],c=!1;this.accumulatedMeanSquares[i]==null&&(this.accumulatedMeanSquares[i]={originalName:`${r}/rms`,variable:Ie(()=>Zt(l).variable(c))}),this.accumulatedMoments[i]==null&&(this.accumulatedMoments[i]={originalName:`${r}/momentum`,variable:Ie(()=>Zt(l).variable(c))}),this.accumulatedMeanGrads[i]==null&&this.centered&&(this.accumulatedMeanGrads[i]={originalName:`${r}/mg`,variable:Ie(()=>Zt(l).variable(c))});const f=Array.isArray(e)?e[i].tensor:e[r];if(f==null)return;const h=this.accumulatedMeanSquares[i].variable,m=this.accumulatedMoments[i].variable;Ie(()=>{const g=be(oe(h,this.decay),oe(wn(f),1-this.decay));if(this.centered){const y=this.accumulatedMeanGrads[i].variable,b=be(oe(y,this.decay),oe(f,1-this.decay)),N=Pe(oe(f,this.learningRate),qn(_e(g,be(wn(b),this.epsilon)))),w=be(oe(m,this.momentum),N);h.assign(g),y.assign(b),m.assign(w);const x=_e(l,w);l.assign(x)}else{const y=be(oe(h,this.decay),oe(wn(f),1-this.decay)),b=be(oe(m,this.momentum),Pe(oe(f,this.learningRate),qn(be(y,this.epsilon))));h.assign(y),m.assign(b);const N=_e(l,b);l.assign(N)}})}),this.incrementIterations()}dispose(){this.accumulatedMeanSquares!=null&&zt(this.accumulatedMeanSquares.map(e=>e.variable)),this.accumulatedMeanGrads!=null&&this.centered&&zt(this.accumulatedMeanGrads.map(e=>e.variable)),this.accumulatedMoments!=null&&zt(this.accumulatedMoments.map(e=>e.variable))}async getWeights(){const e=[...this.accumulatedMeanSquares,...this.accumulatedMoments];return this.centered&&e.push(...this.accumulatedMeanGrads),[await this.saveIterations()].concat(e.map(a=>({name:a.originalName,tensor:a.variable})))}async setWeights(e){e=await this.extractIterations(e);const a=this.centered?e.length/3:e.length/2,r=!1;this.accumulatedMeanSquares=e.slice(0,a).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.accumulatedMoments=e.slice(a,a*2).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})),this.centered&&(this.accumulatedMeanGrads=e.slice(a*2,a*3).map(i=>({originalName:i.name,variable:i.tensor.variable(r)})))}getConfig(){return{learningRate:this.learningRate,decay:this.decay,momentum:this.momentum,epsilon:this.epsilon,centered:this.centered}}static fromConfig(e,a){return new e(a.learningRate,a.decay,a.momentum,a.epsilon,a.centered)}}const LC=[Nm,wm,Tm,Em,_m,xm,Pu];function MC(){for(const t of LC)bT(t)}const UC="model",FC=".json",qC=".weights.bin";function xb(t){return new Promise(e=>setTimeout(e)).then(t)}class Us{constructor(e){if(!ve().getBool("IS_BROWSER"))throw new Error("browserDownloads() cannot proceed because the current environment is not a browser.");e.startsWith(Us.URL_SCHEME)&&(e=e.slice(Us.URL_SCHEME.length)),(e==null||e.length===0)&&(e=UC),this.modelJsonFileName=e+FC,this.weightDataFileName=e+qC}async save(e){if(typeof document>"u")throw new Error("Browser downloads are not supported in this environment since `document` is not present");const a=zn.join(e.weightData),r=window.URL.createObjectURL(new Blob([a],{type:"application/octet-stream"}));if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserDownloads.save() does not support saving model topology in binary formats yet.");{const i=[{paths:["./"+this.weightDataFileName],weights:e.weightSpecs}],l=jN(e,i),c=window.URL.createObjectURL(new Blob([JSON.stringify(l)],{type:"application/json"})),f=this.modelJsonAnchor==null?document.createElement("a"):this.modelJsonAnchor;if(f.download=this.modelJsonFileName,f.href=c,await xb(()=>f.dispatchEvent(new MouseEvent("click"))),e.weightData!=null){const h=this.weightDataAnchor==null?document.createElement("a"):this.weightDataAnchor;h.download=this.weightDataFileName,h.href=r,await xb(()=>h.dispatchEvent(new MouseEvent("click")))}return{modelArtifactsInfo:No(e)}}}}Us.URL_SCHEME="downloads://";class HC{constructor(e){if(e==null||e.length<1)throw new Error(`When calling browserFiles, at least 1 file is required, but received ${e}`);this.jsonFile=e[0],this.weightsFiles=e.slice(1)}async load(){return new Promise((e,a)=>{const r=new FileReader;r.onload=i=>{const l=JSON.parse(i.target.result),c=l.modelTopology;if(c==null){a(new Error(`modelTopology field is missing from file ${this.jsonFile.name}`));return}if(l.weightsManifest==null){a(new Error(`weightManifest field is missing from file ${this.jsonFile.name}`));return}if(this.weightsFiles.length===0){e({modelTopology:c});return}const h=Cd(l,m=>this.loadWeights(m));e(h)},r.onerror=i=>a(`Failed to read model topology and weights manifest JSON from file '${this.jsonFile.name}'. BrowserFiles supports loading Keras-style tf.Model artifacts only.`),r.readAsText(this.jsonFile)})}loadWeights(e){const a=[],r=[];for(const c of e)a.push(...c.weights),r.push(...c.paths);const i=this.checkManifestAndWeightFiles(e),l=r.map(c=>this.loadWeightsFile(c,i[c]));return Promise.all(l).then(c=>[a,c])}loadWeightsFile(e,a){return new Promise((r,i)=>{const l=new FileReader;l.onload=c=>{const f=c.target.result;r(f)},l.onerror=c=>i(`Failed to weights data from file of path '${e}'.`),l.readAsArrayBuffer(a)})}checkManifestAndWeightFiles(e){const a=[],r=this.weightsFiles.map(l=>pb(l.name)),i={};for(const l of e)l.paths.forEach(c=>{const f=pb(c);if(a.indexOf(f)!==-1)throw new Error(`Duplicate file basename found in weights manifest: '${f}'`);if(a.push(f),r.indexOf(f)===-1)throw new Error(`Weight file with basename '${f}' is not provided.`);i[c]=this.weightsFiles[r.indexOf(f)]});if(a.length!==this.weightsFiles.length)throw new Error(`Mismatch in the number of files in weights manifest (${a.length}) and the number of weight files provided (${this.weightsFiles.length}).`);return i}}const VC=t=>ve().getBool("IS_BROWSER")&&!Array.isArray(t)&&t.startsWith(Us.URL_SCHEME)?GC(t.slice(Us.URL_SCHEME.length)):null;et.registerSaveRouter(VC);function GC(t="model"){return new Us(t)}function KC(t){return new HC(t)}function Ab(t,e,a,r){c(t),a=a??0,r=r??1,f(a,r);let i=0;const l=h=>(h.then(m=>{const g=a+ ++i/t.length*(r-a);return e(g),m}),h);function c(h){O(h!=null&&Array.isArray(h)&&h.length>0,()=>"promises must be a none empty array")}function f(h,m){O(h>=0&&h<=1,()=>`Progress fraction must be in range [0, 1], but got startFraction ${h}`),O(m>=0&&m<=1,()=>`Progress fraction must be in range [0, 1], but got endFraction ${m}`),O(m>=h,()=>`startFraction must be no more than endFraction, but got startFraction ${h} and endFraction ${m}`)}return Promise.all(t.map(l))}async function vT(t,e){e==null&&(e={});const a=e.fetchFunc==null?ve().platform.fetch:e.fetchFunc,r=t.map(y=>a(y,e.requestInit,{isBinary:!0})),f=(e.onProgress==null?await Promise.all(r):await Ab(r,e.onProgress,0,.5)).map(y=>y.arrayBuffer());return e.onProgress==null?await Promise.all(f):await Ab(f,e.onProgress,.5,1)}function YC(t,e){var a;const r=e.fetchFunc==null?ve().platform.fetch:e.fetchFunc;let i=0,l;return(a=e.onProgress)===null||a===void 0||a.call(e,0),new ReadableStream({pull:async c=>{for(var f;i<t.length;){l||(l=(await r(t[i],e.requestInit,{isBinary:!0})).body.getReader());const{done:h,value:m}=await l.read();if(h){i++,l=void 0,(f=e.onProgress)===null||f===void 0||f.call(e,i/t.length);continue}c.enqueue(m);return}c.close()}})}async function XC(t,e="",a,r){return ST(c=>vT(c,{requestInit:r}))(t,e,a)}function ST(t){return async(e,a="",r)=>{const i=e.map(()=>!1),l={},c=r!=null?r.map(()=>!1):[],f=[];if(e.forEach((N,w)=>{let x=0;N.weights.forEach(_=>{const C="quantization"in _?_.quantization.dtype:_.dtype,ee=js[C]*Fe(_.shape),I=()=>{i[w]=!0,l[w]==null&&(l[w]=[]),l[w].push({manifestEntry:_,groupOffset:x,sizeBytes:ee})};r!=null?r.forEach((F,W)=>{F===_.name&&(I(),c[W]=!0)}):I(),f.push(_.name),x+=ee})}),!c.every(N=>N)){const N=r.filter((w,x)=>!c[x]);throw new Error(`Could not find weights in manifest with names: ${N.join(", ")}. 
Manifest JSON has weights with names: ${f.join(", ")}.`)}const h=i.reduce((N,w,x)=>(w&&N.push(x),N),[]),m=[];h.forEach(N=>{e[N].paths.forEach(w=>{const x=a+(a.endsWith("/")?"":"/")+w;m.push(x)})});const g=await t(m),y={};let b=0;return h.forEach(N=>{const w=e[N].paths.length,x=new zn(g.slice(b,b+w));l[N].forEach(C=>{const ee=x.slice(C.groupOffset,C.groupOffset+C.sizeBytes),I=RN(ee,[C.manifestEntry]);for(const F in I)y[F]=I[F]}),b+=w}),y}}const PC="application/octet-stream",WC="application/json";class Am{constructor(e,a){if(this.DEFAULT_METHOD="POST",a==null&&(a={}),this.weightPathPrefix=a.weightPathPrefix,this.weightUrlConverter=a.weightUrlConverter,a.fetchFunc!=null?(O(typeof a.fetchFunc=="function",()=>"Must pass a function that matches the signature of `fetch` (see https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)"),this.fetch=a.fetchFunc):this.fetch=ve().platform.fetch,O(e!=null&&e.length>0,()=>"URL path for http must not be null, undefined or empty."),Array.isArray(e)&&O(e.length===2,()=>`URL paths for http must have a length of 2, (actual length is ${e.length}).`),this.path=e,a.requestInit!=null&&a.requestInit.body!=null)throw new Error("requestInit is expected to have no pre-existing body, but has one.");this.requestInit=a.requestInit||{},this.loadOptions=a}async save(e){if(e.modelTopology instanceof ArrayBuffer)throw new Error("BrowserHTTPRequest.save() does not support saving model topology in binary formats yet.");const a=Object.assign({method:this.DEFAULT_METHOD},this.requestInit);a.body=new FormData;const r=[{paths:["./model.weights.bin"],weights:e.weightSpecs}],i=jN(e,r);if(a.body.append("model.json",new Blob([JSON.stringify(i)],{type:WC}),"model.json"),e.weightData!=null){const c=zn.join(e.weightData);a.body.append("model.weights.bin",new Blob([c],{type:PC}),"model.weights.bin")}const l=await this.fetch(this.path,a);if(l.ok)return{modelArtifactsInfo:No(e),responses:[l]};throw new Error(`BrowserHTTPRequest.save() failed due to HTTP response status ${l.status}.`)}async loadModelJSON(){const e=await this.fetch(this.path,this.requestInit);if(!e.ok)throw new Error(`Request to ${this.path} failed with status code ${e.status}. Please verify this URL points to the model JSON of the model to load.`);let a;try{a=await e.json()}catch{let c=`Failed to parse model JSON of response from ${this.path}.`;throw this.path.endsWith(".pb")?c+=" Your path contains a .pb file extension. Support for .pb models have been removed in TensorFlow.js 1.0 in favor of .json models. You can re-convert your Python TensorFlow model using the TensorFlow.js 1.0 conversion scripts or you can convert your.pb models with the 'pb2json'NPM script in the tensorflow/tfjs-converter repository.":c+=" Please make sure the server is serving valid JSON for this request.",new Error(c)}const r=a.modelTopology,i=a.weightsManifest;if(r==null&&i==null)throw new Error(`The JSON from HTTP path ${this.path} contains neither model topology or manifest for weights.`);return a}async load(){if(this.loadOptions.streamWeights)return this.loadStream();const e=await this.loadModelJSON();return Cd(e,a=>this.loadWeights(a))}async loadStream(){const e=await this.loadModelJSON(),a=await this.getWeightUrls(e.weightsManifest),r=vu(e.weightsManifest),i=()=>YC(a,this.loadOptions);return Object.assign(Object.assign({},e),{weightSpecs:r,getWeightStream:i})}async getWeightUrls(e){const a=Array.isArray(this.path)?this.path[1]:this.path,[r,i]=ZC(a),l=this.weightPathPrefix||r,c=[],f=[];for(const h of e)for(const m of h.paths)this.weightUrlConverter!=null?f.push(this.weightUrlConverter(m)):c.push(l+m+i);return this.weightUrlConverter&&c.push(...await Promise.all(f)),c}async loadWeights(e){const a=await this.getWeightUrls(e),r=vu(e),i=await vT(a,this.loadOptions);return[r,i]}}Am.URL_SCHEME_REGEX=/^https?:\/\//;function ZC(t){const e=t.lastIndexOf("/"),a=t.lastIndexOf("?"),r=t.substring(0,e),i=a>e?t.substring(a):"";return[r+"/",i]}function td(t){return t.match(Am.URL_SCHEME_REGEX)!=null}const NT=(t,e)=>{if(typeof fetch>"u"&&(e==null||e.fetchFunc==null))return null;{let a=!0;if(Array.isArray(t)?a=t.every(r=>td(r)):a=td(t),a)return Om(t,e)}return null};et.registerSaveRouter(NT);et.registerLoadRouter(NT);function Om(t,e){return new Am(t,e)}function QC(t,e){return Om(t,e)}class $h{constructor(e){this.modelArtifacts=e}load(){return this.modelArtifacts}}class wT{constructor(e){this.saveHandler=e}save(e){return this.saveHandler(e)}}class JC{constructor(e){e.load&&(this.load=()=>Promise.resolve(e.load())),e.save&&(this.save=a=>Promise.resolve(e.save(a)))}}function ej(t,e,a,r){const i=arguments;return new JC(Eu(...i))}function Eu(t,e,a,r){return arguments.length===1?t.modelTopology!=null||t.weightSpecs!=null?new $h(t):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $h({modelTopology:t})):(console.warn("Please call tf.io.fromMemory() with only one argument. The argument should be of type ModelArtifacts. The multi-argument signature of tf.io.fromMemory() has been deprecated and will be removed in a future release."),new $h({modelTopology:t,weightSpecs:e,weightData:a,trainingConfig:r}))}function tj(t){return new wT(t)}function nj(t){return new wT(t)}const Dm=Object.freeze(Object.defineProperty({__proto__:null,CompositeArrayBuffer:zn,browserFiles:KC,browserHTTPRequest:QC,concatenateArrayBuffers:PO,copyModel:yD,decodeWeights:RN,decodeWeightsStream:CN,encodeWeights:HO,fromMemory:ej,fromMemorySync:Eu,getLoadHandlers:aD,getModelArtifactsForJSON:Cd,getModelArtifactsForJSONSync:zd,getModelArtifactsInfoForJSON:No,getSaveHandlers:nD,getWeightSpecs:vu,http:Om,isHTTPScheme:td,listModels:pD,loadWeights:XC,moveModel:bD,registerLoadRouter:tD,registerSaveRouter:eD,removeModel:gD,weightsLoaderFactory:ST,withSaveHandler:tj,withSaveHandlerSync:nj},Symbol.toStringTag,{value:"Module"}));function aj(t,e,a){const r=E(t,"labels","confusionMatrix"),i=E(e,"predictions","confusionMatrix");O(a==null||a>0&&Number.isInteger(a),()=>`If provided, numClasses must be a positive integer, but got ${a}`),O(r.rank===1,()=>`Expected the rank of labels to be 1, but got ${r.rank}`),O(i.rank===1,()=>`Expected the rank of predictions to be 1, but got ${i.rank}`),O(r.shape[0]===i.shape[0],()=>`Mismatch in the number of examples: ${r.shape[0]} vs. ${i.shape[0]}. Labels and predictions should have the same number of elements.`),O(a>0&&Number.isInteger(a),()=>`numClasses is required to be a positive integer, but got ${a}`);const l=Tu(We(r,"int32"),a),c=Tu(We(i,"int32"),a),f=fo(l),h=Be(f,c);return We(h,"int32")}const sj=$({confusionMatrix_:aj});const rj=Object.freeze(Object.defineProperty({__proto__:null,confusionMatrix:sj},Symbol.toStringTag,{value:"Module"}));let Ts,Ob=!1;function TT(t,e=3){if(e>4)throw new Error("Cannot construct Tensor with more than 4 channels from pixels.");if(t==null)throw new Error("pixels passed to tf.browser.fromPixels() can not be null");let a=!1,r=!1,i=!1,l=!1,c=!1,f=!1;if(t.data instanceof Uint8Array)a=!0;else if(typeof ImageData<"u"&&t instanceof ImageData)r=!0;else if(typeof HTMLVideoElement<"u"&&t instanceof HTMLVideoElement)i=!0;else if(typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement)l=!0;else if(t.getContext!=null)c=!0;else if(typeof ImageBitmap<"u"&&t instanceof ImageBitmap)f=!0;else throw new Error(`pixels passed to tf.browser.fromPixels() must be either an HTMLVideoElement, HTMLImageElement, HTMLCanvasElement, ImageData in browser, or OffscreenCanvas, ImageData in webworker or {data: Uint32Array, width: number, height: number}, but was ${t.constructor.name}`);if(eo(Ih,k.backendName)!=null){const w={pixels:t},x={numChannels:e};return k.runKernel(Ih,w,x)}const[m,g]=i?[t.videoWidth,t.videoHeight]:[t.width,t.height];let y;if(c)y=t.getContext("2d").getImageData(0,0,m,g).data;else if(r||a)y=t.data;else if(l||i||f){if(Ts==null)if(typeof document>"u")if(typeof OffscreenCanvas<"u"&&typeof OffscreenCanvasRenderingContext2D<"u")Ts=new OffscreenCanvas(1,1).getContext("2d");else throw new Error("Cannot parse input in current context. Reason: OffscreenCanvas Context2D rendering is not supported.");else Ts=document.createElement("canvas").getContext("2d",{willReadFrequently:!0});Ts.canvas.width=m,Ts.canvas.height=g,Ts.drawImage(t,0,0,m,g),y=Ts.getImageData(0,0,m,g).data}let b;if(e===4)b=new Int32Array(y);else{const w=m*g;b=new Int32Array(w*e);for(let x=0;x<w;x++)for(let _=0;_<e;++_)b[x*e+_]=y[x*4+_]}return gm(b,[g,m,e],"int32")}function ij(t){return t!=null&&t.data instanceof Uint8Array}function oj(){return typeof window<"u"&&typeof ImageBitmap<"u"&&window.hasOwnProperty("createImageBitmap")}function lj(t){return t!=null&&t.width!==0&&t.height!==0}function uj(t){return oj()&&!(t instanceof ImageBitmap)&&lj(t)&&!ij(t)}async function cj(t,e=3){let a=null;if(ve().getBool("WRAP_TO_IMAGEBITMAP")&&uj(t)){let r;try{r=await createImageBitmap(t,{premultiplyAlpha:"none"})}catch{r=null}r!=null&&r.width===t.width&&r.height===t.height?a=r:a=t}else a=t;return TT(a,e)}function ET(t){if(t.rank!==2&&t.rank!==3)throw new Error(`toPixels only supports rank 2 or 3 tensors, got rank ${t.rank}.`);const e=t.rank===2?1:t.shape[2];if(e>4||e===2)throw new Error(`toPixels only supports depth of size 1, 3 or 4 but got ${e}`);if(t.dtype!=="float32"&&t.dtype!=="int32")throw new Error(`Unsupported type for toPixels: ${t.dtype}. Please use float32 or int32 tensors.`)}function fj(t){const e=t?.alpha||1;if(e>1||e<0)throw new Error(`Alpha value ${e} is suppoed to be in range [0 - 1].`)}async function hj(t,e){let a=E(t,"img","toPixels");if(!(t instanceof at)){const m=a;a=We(m,"int32"),m.dispose()}ET(a);const[r,i]=a.shape.slice(0,2),l=a.rank===2?1:a.shape[2],c=await a.data(),f=a.dtype==="float32"?255:1,h=new Uint8ClampedArray(i*r*4);for(let m=0;m<r*i;++m){const g=[0,0,0,255];for(let b=0;b<l;b++){const N=c[m*l+b];if(a.dtype==="float32"){if(N<0||N>1)throw new Error(`Tensor values for a float32 Tensor must be in the range [0 - 1] but encountered ${N}.`)}else if(a.dtype==="int32"&&(N<0||N>255))throw new Error(`Tensor values for a int32 Tensor must be in the range [0 - 255] but encountered ${N}.`);l===1?(g[0]=N*f,g[1]=N*f,g[2]=N*f):g[b]=N*f}const y=m*4;h[y+0]=Math.round(g[0]),h[y+1]=Math.round(g[1]),h[y+2]=Math.round(g[2]),h[y+3]=Math.round(g[3])}if(e!=null){Ob||eo(xd,k.backendName)!=null&&(console.warn("tf.browser.toPixels is not efficient to draw tensor on canvas. Please try tf.browser.draw instead."),Ob=!0),e.width=i,e.height=r;const m=e.getContext("2d"),g=new ImageData(h,i,r);m.putImageData(g,0,0)}return a!==t&&a.dispose(),h}function dj(t,e,a){let r=E(t,"img","draw");if(!(t instanceof at)){const c=r;r=We(c,"int32"),c.dispose()}ET(r),fj(a?.imageOptions);const i={image:r},l={canvas:e,options:a};k.runKernel(xd,i,l)}const mj=$({fromPixels_:TT}),pj=Object.freeze(Object.defineProperty({__proto__:null,draw:dj,fromPixels:mj,fromPixelsAsync:cj,toPixels:hj},Symbol.toStringTag,{value:"Module"}));function _T(t,e){const a=t.shape.length,r=e.shape.length;if(a<1)throw new Error(`tf.gatherND() expects the input to be rank 1 or higher, but the rank was ${a}.`);if(r<1)throw new Error(`tf.gatherND() expects the indices to be rank 1 or higher, but the rank was ${r}.`);if(e.dtype!=="int32")throw new Error(`tf.gatherND() expects the indices to be int32 type, but the dtype was ${e.dtype}.`);if(e.shape[r-1]>a)throw new Error(`index innermost dimension length must be <= tensor rank; saw: ${e.shape[r-1]} vs. ${a}`);if(Fe(t.shape)===0)throw new Error(`Requested more than 0 entries, but input is empty. Input shape: ${t.shape}.`);const i=e.shape,l=i[i.length-1];let c=1;for(let y=0;y<i.length-1;++y)c*=i[y];const f=t.shape,h=i.slice();h.pop();let m=1;for(let y=l;y<a;++y)m*=f[y],h.push(f[y]);const g=[...Vr(t.shape).map(y=>y/m),1].slice(0,l);return[h,c,m,g]}const gj=Object.freeze(Object.defineProperty({__proto__:null,prepareAndValidate:_T},Symbol.toStringTag,{value:"Module"}));const nd=-2,yj=-1;function bj(t,e,a){const r=t.shape.length;O(r===e.length,()=>`Error in slice${r}D: Length of begin ${e} must match the rank of the array (${r}).`),O(r===a.length,()=>`Error in slice${r}D: Length of size ${a} must match the rank of the array (${r}).`);for(let i=0;i<r;++i)O(e[i]+a[i]<=t.shape[i],()=>`Error in slice${r}D: begin[${i}] + size[${i}] (${e[i]+a[i]}) would overflow input.shape[${i}] (${t.shape[i]})`)}function vj(t){const e=[];let a=0;for(;t>0;)t&1&&e.push(a),t/=2,a++;return e}function Sj(t,e,a){const r=[];for(let i=0;i<t.length;i++)r[i]=Math.ceil((e[i]-t[i])/a[i]);return r}function xT(t,e,a,r){const i=[...t];for(let l=i.length;l<r.length;l++)i.push(1);for(let l=0;l<a;l++)l===0?i[e]=1:(i.splice(e,0,1),i.pop());return i}function AT(t,e,a){return a<=t?a:a-(e-1)}function OT(t,e){const a=[];for(let r=0;r<t;r++)a.push(e+r);return a}function Nj(t,e,a,r,i,l,c,f,h){const m=t.length;let g=new Array(m),y=new Array(m),b=new Array(m);if(e.length&&a>0){const N=e[0],w=a+1;g=DT(c,N,w,r,t),y=$T(f,N,w,i,t),b=xT(l,N,w,t)}else for(let N=0;N<m;N++)g[N]=RT(c,r,l,t,N,h),y[N]=zT(f,i,l,t,N,h),b[N]=kT(l,N,h);return{begin:g,end:y,strides:b}}function DT(t,e,a,r,i){const l=[...i],c=OT(a,e);for(let f=0;f<l.length;f++)if(c.indexOf(f)>-1)l[f]=0;else{const h=AT(e,a,f);let m=r[h];t&1<<h&&(m=0),l[f]=m}return l}function $T(t,e,a,r,i){const l=[...i],c=OT(a,e);for(let f=0;f<l.length;f++)if(c.indexOf(f)>-1)l[f]=Number.MAX_SAFE_INTEGER;else{const h=AT(e,a,f);let m=r[h];t&1<<h&&(m=Number.MAX_SAFE_INTEGER),l[f]=m}for(let f=0;f<l.length;f++){const h=i[f];l[f]<0&&(l[f]+=h),l[f]=Qi(0,l[f],i[f])}return l}function kT(t,e,a){let r=t[e];return(a&1<<e||r==null)&&(r=1),r}function RT(t,e,a,r,i,l){let c=e[i];const f=a[i]||1;(t&1<<i||l&1<<i||c==null)&&(f>0?c=Number.MIN_SAFE_INTEGER:c=Number.MAX_SAFE_INTEGER);const h=r[i];return c<0&&(c+=h),c=Qi(0,c,h-1),c}function zT(t,e,a,r,i,l){let c=e[i];const f=a[i]||1;(t&1<<i||l&1<<i||c==null)&&(f>0?c=Number.MAX_SAFE_INTEGER:c=Number.MIN_SAFE_INTEGER);const h=r[i];return c<0&&(c+=h),f>0?c=Qi(0,c,h):c=Qi(-1,c,h-1),c}function wj(t,e,a){let r=a.length;for(let i=0;i<a.length;i++)if(a[i]>1){r=i;break}for(let i=r+1;i<a.length;i++)if(e[i]>0||a[i]!==t[i])return!1;return!0}function Tj(t,e){let a=t.length>0?t[t.length-1]:1;for(let r=0;r<t.length-1;r++)a+=t[r]*e[r];return a}function Ej(t,e,a){let r;const i=t.shape.length;typeof e=="number"?r=[e,...new Array(i-1).fill(0)]:e.length<i?r=e.concat(new Array(i-e.length).fill(0)):r=e.slice(),r.forEach(c=>{O(c!==-1,()=>"slice() does not support negative begin indexing.")});let l;return a==null?l=new Array(i).fill(-1):typeof a=="number"?l=[a,...new Array(i-1).fill(-1)]:a.length<i?l=a.concat(new Array(i-a.length).fill(-1)):l=a,l=l.map((c,f)=>c>=0?c:(O(c===-1,()=>`Negative size values should be exactly -1 but got ${c} for the slice() size at index ${f}.`),t.shape[f]-r[f])),[r,l]}function _j(t,e,a,r,i,l,c,f,h){let m;if(r==null?(m=new Array(e.length),m.fill(1)):m=r,c!=null&&(c&c-1)!==0)throw new Error("Multiple ellipses in slice is not allowed.");let g=!1;const y={dims:m.length,numAddAxisAfterEllipsis:0,begin:e.slice(),end:a.slice(),strides:m.slice(),beginMask:i,endMask:l,ellipsisMask:c,newAxisMask:f,shrinkAxisMask:h};for(let I=0;I<y.dims;I++)g&&(1<<I&f)!==0&&y.numAddAxisAfterEllipsis++,1<<I&c&&(g=!0);g||(y.ellipsisMask|=1<<y.dims,y.dims++);const b={dims:t.length,beginMask:0,endMask:0,beginValid:!1,endValid:!1};xj(y,b);let N=!0,w=!0,x=!0;const _=[],C=[];for(let I=0;I<t.length;++I){if(b.strides[I]===0)throw Error(`strides[${I}] must be non-zero`);const F=!!(b.shrinkAxisMask&1<<I),W=t[I];if(W===-1){_.push(F?1:-1);continue}const ne=[b.beginMask&1<<I,b.endMask&1<<I],te=[b.strides[I]>0?0:-1,b.strides[I]>0?W:W-1];if(F&&b.strides[I]<=0)throw Error("only stride 1 allowed on non-range indexing.");x=x&&b.strides[I]===1;const re=!!(b.beginMask&1<<I&&b.endMask&1<<I);if(b.beginValid&&b.endValid){if(F){const J=b.begin[I]<0?W+b.begin[I]:b.begin[I];if(b.begin[I]=J,b.end[I]=b.begin[I]+1,J<0||J>=W)throw Error(`slice index ${b.begin[I]} of dimension ${I} out of bounds.`)}else b.begin[I]=Db(b.begin[I],0,b.strides[I],W,ne,te),b.end[I]=Db(b.end[I],1,b.strides[I],W,ne,te);const D=b.strides[I]===1&&b.begin[I]===0&&b.end[I]===W;N=N&&D,w=w&&(I===0&&b.strides[I]===1||D)}else N=N&&b.strides[I]===1&&re,w=w&&(I===0&&b.strides[I]===1||re);let H,V=!1;if(b.beginValid&&b.endValid?(H=b.end[I]-b.begin[I],V=!0):F?(H=1,V=!0):re&&W>=0&&(b.strides[I]<0?H=-W:H=W,V=!0),V){let D;H===0||H<0!=b.strides[I]<0?D=0:D=Math.trunc(H/b.strides[I])+(H%b.strides[I]!==0?1:0),_.push(D)}else _.push(-1)}for(let I=0;I<b.finalShapeGatherIndices.length;++I){const F=b.finalShapeGatherIndices[I];F>=0?C.push(_[F]):F===nd&&C.push(1)}return{finalShapeSparse:C.filter((I,F)=>b.finalShapeGatherIndices[F]!==nd),finalShape:C,isIdentity:N,sliceDim0:w,isSimpleSlice:x,begin:b.begin,end:b.end,strides:b.strides}}function xj(t,e){e.beginMask=0,e.endMask=0,e.shrinkAxisMask=0;let a=0;e.beginValid=t.begin!=null,e.endValid=t.end!=null,e.begin=new Array(e.dims),e.end=new Array(e.dims),e.strides=new Array(e.dims),e.finalShapeGatherIndices=[],e.finalShapeGatherIndicesSparse=[],e.inputShapeGatherIndicesSparse=new Array(e.dims);for(let r=0;r<t.dims;r++)if(1<<r&t.ellipsisMask){const i=Math.min(e.dims-(t.dims-r)+1+t.numAddAxisAfterEllipsis,e.dims);for(;a<i;a++)e.begin[a]=0,e.end[a]=0,e.strides[a]=1,e.beginMask|=1<<a,e.endMask|=1<<a,e.finalShapeGatherIndices.push(a),e.finalShapeGatherIndicesSparse.push(-1),e.inputShapeGatherIndicesSparse[a]=r}else if(1<<r&t.newAxisMask)e.finalShapeGatherIndices.push(nd),e.finalShapeGatherIndicesSparse.push(-1);else{if(a===e.begin.length)throw Error(`Index out of range using input dim ${a}; input has only ${e.dims} dims, ${e.begin.length}.`);t.begin!=null&&(e.begin[a]=t.begin[r]),t.end!=null&&(e.end[a]=t.end[r]),e.strides[a]=t.strides[r],t.beginMask&1<<r&&(e.beginMask|=1<<a),t.endMask&1<<r&&(e.endMask|=1<<a),t.shrinkAxisMask&1<<r?(e.finalShapeGatherIndices.push(yj),e.finalShapeGatherIndicesSparse.push(-1),e.shrinkAxisMask|=1<<a):(e.finalShapeGatherIndices.push(a),e.finalShapeGatherIndicesSparse.push(r)),e.inputShapeGatherIndicesSparse[a]=r,a++}}function Db(t,e,a,r,i,l){if(i[e])return a>0?l[e]:l[e+1&1];{const c=t<0?r+t:t;return c<l[0]?l[0]:c>l[1]?l[1]:c}}const CT=Object.freeze(Object.defineProperty({__proto__:null,assertParamsValid:bj,computeFlatOffset:Tj,computeOutShape:Sj,getNormalizedAxes:Nj,isSliceContinous:wj,maskToAxes:vj,parseSliceParams:Ej,sliceInfo:_j,startForAxis:RT,startIndicesWithElidedDims:DT,stopForAxis:zT,stopIndicesWithElidedDims:$T,stridesForAxis:kT,stridesWithElidedDims:xT},Symbol.toStringTag,{value:"Module"}));const Aj="4.22.0";class jT{static sgd(e){return new Pu(e)}static momentum(e,a,r=!1){return new _m(e,a,r)}static rmsprop(e,a=.9,r=0,i=null,l=!1){return new xm(e,a,r,i,l)}static adam(e=.001,a=.9,r=.999,i=null){return new Tm(e,a,r,i)}static adadelta(e=.001,a=.95,r=null){return new Nm(e,a,r)}static adamax(e=.002,a=.9,r=.999,i=null,l=0){return new Em(e,a,r,i,l)}static adagrad(e,a=.1){return new wm(e,a)}}const Oj=jT;const Dj=typeof requestAnimationFrame<"u"?requestAnimationFrame:typeof setImmediate<"u"?setImmediate:t=>t();function $j(){return new Promise(t=>Dj(()=>t()))}function kj(t,e){const a=t[0].length;t.forEach((i,l)=>{O(i.length===a,()=>`Error in concat${a}D: rank of tensors[${l}] must be the same as the rank of the rest (${a})`)}),O(e>=0&&e<a,()=>`Error in concat${a}D: axis must be between 0 and ${a-1}.`);const r=t[0];t.forEach((i,l)=>{for(let c=0;c<a;c++)O(c===e||i[c]===r[c],()=>`Error in concat${a}D: Shape of tensors[${l}] (${i}) does not match the shape of the rest (${r}) along the non-concatenated axis ${l}.`)})}function Rj(t,e){const a=t[0].slice();for(let r=1;r<t.length;r++)a[e]+=t[r][e];return a}var Mn;(function(t){t[t.FIRST_DIM_SIZE=0]="FIRST_DIM_SIZE",t[t.VALUE_ROWIDS=1]="VALUE_ROWIDS",t[t.ROW_LENGTHS=2]="ROW_LENGTHS",t[t.ROW_SPLITS=3]="ROW_SPLITS",t[t.ROW_LIMITS=4]="ROW_LIMITS",t[t.ROW_STARTS=5]="ROW_STARTS"})(Mn||(Mn={}));function zj(t,e,a){let r=new Array;if(a==null&&e==null)return r;if(e==null)for(;r.length<t+a.length;)r.push(-1);else r=e.slice();if(a==null)return r;if(t+a.length!==r.length)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.rank = ${t+a.length}, but shape.rank = ${r.length}`);for(let i=1;i<a.length;++i){const l=a[i],c=r[r.length-a.length+i],f=r[c];if(l>=0)if(f>=0){if(f!==l)throw new Error(`rt input.shape and shape=${e} are incompatible: rt input.shape[${i+t}] = ${l} but shape[${i+t}] = ${f}`)}else r[c]=l}return r}function Cj(t){const e={FIRST_DIM_SIZE:Mn.FIRST_DIM_SIZE,VALUE_ROWIDS:Mn.VALUE_ROWIDS,ROW_LENGTHS:Mn.ROW_LENGTHS,ROW_SPLITS:Mn.ROW_SPLITS,ROW_LIMITS:Mn.ROW_LIMITS,ROW_STARTS:Mn.ROW_STARTS},a=[];for(const r of t)if(r in e)a.push(e[r]);else break;return a}function jj(t){return t.length===0?0:t[0]===Mn.FIRST_DIM_SIZE?t.length-1:t.length}function Bj(t,e){if(t==null||e==null)return;const a=t.length,r=e.length;if(a>=r)throw new Error(`defaultValue.shape=${t} and ragged tensor flatValues.shape=${e}, are incompatible: defaultValue.rank = ${a} must be less than ragged tensor input flatValues.rank = ${r})`);for(let i=0;i<Math.min(a,r-1);++i){const l=t[i],c=e[i+1];if(l>=0&&c>=0&&l!==1&&l!==c)throw new Error(`defaultValue.shape=${t}, and ragged tensor input flatValues.shape=${e} are incompatible: defaultValue.shape[${i-t.length}] = ${l} but ragged tensor input.flatValues.shape[${i-t.length}] = ${c}`)}}const $m=30;function Ij(t){return t<=$m?t:pu(t,Math.floor(Math.sqrt(t)))}function Lj(t,e,a){const r=a*(typeof t=="number"?t:t[0]),i=e*(typeof t=="number"?t:t[1]);return[r,i]}function Mj(t,e,a,r=!0){let i=[];if(r)i=i.concat(e.slice(0)),i.push(t[0]/a),i=i.concat(t.slice(1));else{i=i.concat(t[0]);const l=e.length;for(let c=0;c<l;++c)i=i.concat([t[c+1]/e[c],e[c]]);i=i.concat(t.slice(l+1))}return i}function Uj(t,e,a=!0){const r=[];if(a){r.push(e);for(let i=e+1;i<t;++i)i<=2*e?(r.push(i),r.push(i-(e+1))):r.push(i)}else{const i=[],l=[];for(let c=1;c<t;++c)c>=e*2+1||c%2===1?l.push(c):i.push(c);r.push(...i),r.push(0),r.push(...l)}return r}function Fj(t,e,a,r=!0){const i=[];r?i.push(t[0]/a):i.push(t[0]*a);for(let l=1;l<t.length;++l)l<=e.length?r?i.push(e[l-1]*t[l]):i.push(t[l]/e[l-1]):i.push(t[l]);return i}function qj(t,e){const a=[0];for(let r=0;r<e;++r)a.push(t[r][0]);return a}function Hj(t,e,a){const r=t.slice(0,1);for(let i=0;i<a;++i)r.push(t[i+1]-e[i][0]-e[i][1]);return r}const Vj=1.7580993408473768,Gj=1.0507009873554805;const Kj=.3275911,Yj=.254829592,Xj=-.284496736,Pj=1.421413741,Wj=-1.453152027,Zj=1.061405429;function Qj(t,e){if(t.length!==e.length)throw new Error(`Cannot merge real and imag arrays of different lengths. real:${t.length}, imag: ${e.length}.`);const a=new Float32Array(t.length*2);for(let r=0;r<a.length;r+=2)a[r]=t[r/2],a[r+1]=e[r/2];return a}function Jj(t){const e=new Float32Array(t.length/2),a=new Float32Array(t.length/2);for(let r=0;r<t.length;r+=2)e[r/2]=t[r],a[r/2]=t[r+1];return{real:e,imag:a}}function e6(t){const e=Math.ceil(t.length/4),a=new Float32Array(e),r=new Float32Array(e);for(let i=0;i<t.length;i+=4)a[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:a,imag:r}}function t6(t){const e=Math.floor(t.length/4),a=new Float32Array(e),r=new Float32Array(e);for(let i=2;i<t.length;i+=4)a[Math.floor(i/4)]=t[i],r[Math.floor(i/4)]=t[i+1];return{real:a,imag:r}}function n6(t,e){const a=t[e*2],r=t[e*2+1];return{real:a,imag:r}}function a6(t,e,a,r){t[r*2]=e,t[r*2+1]=a}function s6(t,e){const a=new Float32Array(t/2),r=new Float32Array(t/2);for(let i=0;i<Math.ceil(t/2);i++){const l=(e?2:-2)*Math.PI*(i/t);a[i]=Math.cos(l),r[i]=Math.sin(l)}return{real:a,imag:r}}function r6(t,e,a){const r=(a?2:-2)*Math.PI*(t/e),i=Math.cos(r),l=Math.sin(r);return{real:i,imag:l}}const kh="->",i6=/->/g,$b=",",kb="...";function o6(t,e){t=t.replace(/\s/g,"");const a=(t.length-t.replace(i6,"").length)/kh.length;if(a<1)throw new Error("Equations without an arrow are not supported.");if(a>1)throw new Error(`Equation must contain exactly one arrow ("${kh}").`);const[r,i]=t.split(kh);O(r.indexOf(kb)===-1,()=>`The ellipsis notation ("${kb}") is not supported yet.`);const l=r.split($b),c=l.length;if(e!==c)throw new Error(`Expected ${c} input tensors, received ${e}`);if(c>2)throw new Error("Support for more than 2 input tensors is not implemented yet.");const f=[];for(let b=0;b<i.length;++b){const N=i[b];if(!l.some(w=>w.indexOf(N)!==-1))throw new Error(`Output subscripts contain the label ${N} not present in the input subscripts.`);f.indexOf(N)===-1&&f.push(N)}for(let b=0;b<r.length;++b){const N=r[b];f.indexOf(N)===-1&&N!==$b&&f.push(N)}const h=new Array(l.length);for(let b=0;b<c;++b){if(new Set(l[b].split("")).size!==l[b].length)throw new Error(`Found duplicate axes in input component ${l[b]}. Support for duplicate axes in input is not implemented yet.`);h[b]=[];for(let N=0;N<l[b].length;++N)h[b].push(f.indexOf(l[b][N]))}const m=f.length,g=i.length,y=[];for(let b=g;b<m;++b)y.push(b);return{allDims:f,summedDims:y,idDims:h}}function l6(t,e){let a=new Array(t);a.fill(-1);for(let i=0;i<e.length;++i)a[e[i]]=i;const r=[];for(let i=0;i<t;++i)a[i]===-1&&r.push(i);return a=a.filter(i=>i!==-1),{permutationIndices:a,expandDims:r}}function u6(t,e,a){const r=new Array(t);for(let i=0;i<a.length;++i){const l=a[i].shape;for(let c=0;c<e[i].length;++c)r[e[i][c]]===void 0?r[e[i][c]]=l[c]:O(r[e[i][c]]===l[c],()=>`Expected dimension ${r[e[i][c]]} at axis ${c} of input shaped ${JSON.stringify(l)}, but got dimension ${l[c]}`)}}function c6(t,e){const a=t,r=[];let i=0;t.length===0&&a.push(-1),i=t.length+1;for(let c=0;c<i;++c)r.push([]);const l=[];for(let c=0;c<a.length;++c){const f=a[c],h=h6(e,f);for(const m of h)l.indexOf(m)===-1&&(r[c].push(m),l.push(m))}return{path:a,steps:r}}function f6(t){return t.every((e,a)=>e===a)}function h6(t,e){const a=[];for(let r=0;r<t.length;++r)(t[r].length===0||t[r].indexOf(e)!==-1||e===-1)&&a.push(r);return a}function d6(t,e,a=0){let r=[];if(typeof e=="number")O(t.shape[a]%e===0,()=>"Number of splits must evenly divide the axis."),r=new Array(e).fill(t.shape[a]/e);else{const i=e.reduce((c,f)=>(f===-1&&(c+=1),c),0);O(i<=1,()=>"There should be only one negative value in split array.");const l=e.indexOf(-1);if(l!==-1){const c=e.reduce((f,h)=>h>0?f+h:f);e[l]=t.shape[a]-c}O(t.shape[a]===e.reduce((c,f)=>c+f),()=>"The sum of sizes must match the size of the axis dimension."),r=e}return r}function m6(t){return`Received SparseTensor with denseShape[0] = 0 but
  indices.shape[0] = ${t}`}function p6(t,e){return`indices(${t}, 0) is invalid: ${e} < 0`}function g6(t,e,a){return`indices(${t}, 0) is invalid: ${e} >= ${a}`}function y6(t,e){return`only one output dimension may be -1, not both ${t} and ${e}`}function b6(t,e){return`size ${t} must be non-negative, not ${e}`}function v6(){return"reshape cannot infer the missing input size for an empty tensor unless all specified input sizes are non-zero"}function S6(t,e){const a=Fe(t),r=Fe(e);return`Input to reshape is a SparseTensor with ${a}
  dense values, but the requested shape requires a multiple of ${r}. inputShape=${t} outputShape= ${e}`}function N6(t,e){const a=Fe(t),r=Fe(e);return`Input to reshape is a tensor with ${a} dense values, but the requested shape has ${r}. inputShape=${t} outputShape=${e}`}function w6(){return"segment ids must be >= 0"}function T6(){return"segment ids are not increasing"}function E6(t,e){return`Segment id ${t} out of range [0, ${e}), possibly because segmentIds input is not sorted.`}function _6(t,e,a){return`Bad: indices[${t}] == ${e} out of range [0, ${a})`}function x6(t,e){let a=!1,r;for(t<=$m?(r=t,a=!0):r=pu(t,Math.floor(Math.sqrt(t)));!a;)r>e||r===t?a=!0:r=pu(t,r+1);return r}function A6(t,e,a){const r=[],i=t.length;for(let l=0;l<i;l++)l!==e?r.push(t[l]):r.push(a);return r}function O6(t,e,a,r){const i=e.shape.length,l=t.shape.length;if(r!==0&&(r<-i||r>i))throw new Error(`Expect batchDims in the range of [-${i}, ${i}], but got ${r}`);if(r<0&&(r+=i),r>l)throw new Error(`batchDims (${r}) must be less than rank(x) (
    ${l}).`);if(a<r)throw new Error(`batchDims (${r}) must be less than or equal to axis (${a}).`);for(let y=0;y<r;++y)if(t.shape[y]!==e.shape[y])throw new Error(`x.shape[${y}]: ${t.shape[y]} should be equal to indices.shape[${y}]: ${e.shape[y]}.`);const c=t.shape[a],f=[];let h=1,m=1,g=1;for(let y=0;y<r;++y)f.push(t.shape[y]),h*=t.shape[y];for(let y=r;y<a;y++)f.push(t.shape[y]),m*=t.shape[y];for(let y=r;y<i;y++)f.push(e.shape[y]);for(let y=a+1;y<l;y++)f.push(t.shape[y]),g*=t.shape[y];return{batchSize:h,sliceSize:g,outerSize:m,dimSize:c,outputShape:f}}const D6=Object.freeze(Object.defineProperty({__proto__:null,collectGatherOpShapeInfo:O6,computeOutShape:A6,segOpComputeOptimalWindowSize:x6},Symbol.toStringTag,{value:"Module"}));function $6(t){try{return t.map(e=>yu(e))}catch(e){throw new Error(`Failed to decode encoded string bytes into utf-8, error: ${e}`)}}function k6(t){return t.map(e=>So(e))}const R6=Object.freeze(Object.defineProperty({__proto__:null,ERF_A1:Yj,ERF_A2:Xj,ERF_A3:Pj,ERF_A4:Wj,ERF_A5:Zj,ERF_P:Kj,PARALLELIZE_THRESHOLD:$m,get RowPartitionType(){return Mn},SELU_SCALE:Gj,SELU_SCALEALPHA:Vj,applyActivation:Yu,assertAndGetBroadcastShape:ct,assertAxesAreInnerMostDims:Y$,assertParamsConsistent:kj,assignToTypedArray:a6,axesAreInnerMostDims:Vd,calculateShapes:q2,checkEinsumDimSizes:u6,checkPadOnDimRoundingMode:Tn,combineLocations:jw,combineRaggedTensorToTensorShapes:zj,complexWithEvenIndex:e6,complexWithOddIndex:t6,computeConv2DInfo:wo,computeConv3DInfo:nw,computeDefaultPad:Id,computeDilation2DInfo:qD,computeOptimalWindowSize:Ij,computeOutAndReduceShapes:K$,computeOutShape:Rj,computePool2DInfo:tw,computePool3DInfo:HD,convertConv2DDataFormat:aw,decodeEinsumEquation:o6,eitherStridesOrDilationsAreOne:ga,expandShapeToKeepDim:_o,exponent:r6,exponents:s6,fromStringArrayToUint8:k6,fromUint8ToStringArray:$6,getAxesPermutation:X$,getBroadcastDims:$w,getComplexWithIndex:n6,getEinsumComputePath:c6,getEinsumPermutation:l6,getFusedBiasGradient:Ku,getFusedDyActivation:Gu,getImageCenter:Lj,getInnerMostAxes:W$,getPermuted:Uj,getRaggedRank:jj,getReductionAxes:Fd,getReshaped:Mj,getReshapedPermuted:Fj,getRowPartitionTypesHelper:Cj,getSliceBeginCoords:qj,getSliceSize:Hj,getSparseFillEmptyRowsIndicesDenseShapeMismatch:m6,getSparseFillEmptyRowsNegativeIndexErrorMessage:p6,getSparseFillEmptyRowsOutOfRangeIndexErrorMessage:g6,getSparseReshapeEmptyTensorZeroOutputDimErrorMessage:v6,getSparseReshapeInputOutputMismatchErrorMessage:N6,getSparseReshapeInputOutputMultipleErrorMessage:S6,getSparseReshapeMultipleNegativeOneOutputDimErrorMessage:y6,getSparseReshapeNegativeOutputDimErrorMessage:b6,getSparseSegmentReductionIndicesOutOfRangeErrorMessage:_6,getSparseSegmentReductionNegativeSegmentIdsErrorMessage:w6,getSparseSegmentReductionNonIncreasingSegmentIdsErrorMessage:T6,getSparseSegmentReductionSegmentIdOutOfRangeErrorMessage:E6,getUndoAxesPermutation:P$,isIdentityPermutation:f6,log:H3,mergeRealAndImagArrays:Qj,prepareAndValidate:_T,prepareSplitSize:d6,segment_util:D6,shouldFuse:Xu,slice_util:CT,splitRealAndImagArrays:Jj,stridesOrDilationsArePositive:Ls,tupleValuesAreOne:io,upcastType:Cu,validateDefaultValueShape:Bj,validateInput:Hu,validateUpdateShape:ym,warn:Ha},Symbol.toStringTag,{value:"Module"}));const z6=Object.freeze(Object.defineProperty({__proto__:null,nonMaxSuppressionV3Impl:oT,nonMaxSuppressionV4Impl:lT,nonMaxSuppressionV5Impl:uT,whereImpl:W2},Symbol.toStringTag,{value:"Module"}));MC();const C6=Object.freeze(Object.defineProperty({__proto__:null,Abs:x1,Acos:A1,Acosh:O1,AdadeltaOptimizer:Nm,AdagradOptimizer:wm,AdamOptimizer:Tm,AdamaxOptimizer:Em,Add:Ed,AddN:D1,All:$1,Any:k1,ArgMax:R1,ArgMin:z1,Asin:C1,Asinh:j1,Atan:B1,Atan2:L1,Atanh:I1,AvgPool:M1,AvgPool3D:U1,AvgPool3DGrad:_3,AvgPoolGrad:E3,BatchMatMul:F1,BatchToSpaceND:q1,Bincount:H1,BitwiseAnd:V1,BroadcastArgs:G1,BroadcastTo:x3,Cast:_d,Ceil:K1,ClipByValue:Y1,Complex:X1,ComplexAbs:P1,Concat:W1,Conv2D:Z1,Conv2DBackpropFilter:Q1,Conv2DBackpropInput:J1,Conv3D:ev,Conv3DBackpropFilterV2:A3,Conv3DBackpropInputV2:tv,Cos:nv,Cosh:av,CropAndResize:iv,Cumprod:sv,Cumsum:rv,DataStorage:n3,DenseBincount:ov,DepthToSpace:lv,DepthwiseConv2dNative:uv,DepthwiseConv2dNativeBackpropFilter:cv,DepthwiseConv2dNativeBackpropInput:fv,Diag:hv,Dilation2D:dv,Dilation2DBackpropFilter:D3,Dilation2DBackpropInput:O3,Draw:xd,get ENV(){return wd},Einsum:pv,Elu:gv,EluGrad:$3,Environment:E1,Equal:bv,Erf:yv,Exp:vv,ExpandDims:Sv,Expm1:Nv,FFT:wv,Fill:Tv,FlipLeftRight:Ev,Floor:_v,FloorDiv:xv,FromPixels:Ih,FusedBatchNorm:Av,FusedConv2D:Mh,FusedDepthwiseConv2D:Uh,GatherNd:Dv,GatherV2:Ov,Greater:$v,GreaterEqual:kv,IFFT:Rv,Identity:Ad,Imag:zv,IsFinite:Cv,IsInf:jv,IsNan:Bv,KernelBackend:d1,LRN:Kv,LRNGrad:C3,LeakyRelu:Iv,Less:Lv,LessEqual:Mv,LinSpace:Uv,Log:Fv,Log1p:qv,LogSoftmax:R3,LogicalAnd:Hv,LogicalNot:Vv,LogicalOr:Gv,LogicalXor:k3,LowerBound:z3,MatrixBandPart:j3,Max:Yv,MaxPool:Pv,MaxPool3D:Wv,MaxPool3DGrad:I3,MaxPoolGrad:B3,MaxPoolWithArgmax:Zv,Maximum:Xv,Mean:Qv,Min:Jv,Minimum:eS,MirrorPad:tS,Mod:nS,MomentumOptimizer:_m,Multinomial:aS,Multiply:sS,Neg:rS,NonMaxSuppressionV3:oS,NonMaxSuppressionV4:lS,NonMaxSuppressionV5:uS,NotEqual:iS,OP_SCOPE_SUFFIX:kd,OneHot:fS,OnesLike:cS,Optimizer:as,OptimizerConstructors:jT,Pack:hS,PadV2:dS,Pool:L3,Pow:mS,Prelu:pS,Prod:gS,RMSPropOptimizer:xm,RaggedGather:yS,RaggedRange:bS,RaggedTensorToTensor:vS,Range:SS,get Rank(){return Hh},Real:NS,RealDiv:mv,Reciprocal:wS,get Reduction(){return Rt},Relu:TS,Relu6:AS,Reshape:ES,ResizeBilinear:xS,ResizeBilinearGrad:U3,ResizeNearestNeighbor:_S,ResizeNearestNeighborGrad:M3,Reverse:OS,RotateWithOffset:mN,Round:DS,Rsqrt:$S,SGDOptimizer:Pu,ScatterNd:kS,SearchSorted:zS,Select:CS,Selu:jS,Sigmoid:US,Sign:MS,Sin:IS,Sinh:LS,Slice:BS,Softmax:KS,Softplus:FS,SpaceToBatchND:VS,SparseFillEmptyRows:YS,SparseReshape:XS,SparseSegmentMean:PS,SparseSegmentSum:WS,SparseToDense:ZS,SplitV:GS,Sqrt:qS,Square:F3,SquaredDifference:QS,StaticRegexReplace:JS,Step:dN,StridedSlice:eN,StringNGrams:tN,StringSplit:nN,StringToHashBucketFast:aN,Sub:sN,Sum:HS,Tan:rN,Tanh:iN,Tensor:at,TensorBuffer:bu,TensorScatterUpdate:RS,Tile:Od,TopK:oN,Transform:lN,Transpose:tu,Unique:uN,Unpack:cN,UnsortedSegmentSum:fN,UpperBound:q3,Variable:no,ZerosLike:hN,_FusedMatMul:Lh,abs:Xt,acos:HN,acosh:VN,add:be,addN:GN,all:KN,any:YN,argMax:XN,argMin:PN,asin:WN,asinh:ZN,atan:QN,atan2:JN,atanh:ew,avgPool:Ld,avgPool3d:sw,backend:kN,backend_util:R6,basicLSTMCell:rw,batchNorm:To,batchNorm2d:iw,batchNorm3d:ow,batchNorm4d:lw,batchToSpaceND:Md,bincount:Ud,bitwiseAnd:uw,booleanMaskAsync:Z2,broadcastArgs:cw,broadcastTo:Zi,broadcast_util:B$,browser:pj,buffer:Fn,cast:We,ceil:fw,clipByValue:hw,clone:da,complex:pa,concat:At,concat1d:dw,concat2d:mw,concat3d:pw,concat4d:gw,conv1d:yw,conv2d:Eo,conv2dTranspose:vw,conv3d:Sw,conv3dTranspose:Nw,copyRegisteredKernels:Y3,cos:ww,cosh:Tw,cosineWindow:Vu,cumprod:Ew,cumsum:_w,customGrad:Hn,denseBincount:xw,deprecationWarn:$O,depthToSpace:Aw,depthwiseConv2d:ju,device_util:EO,diag:Ow,dilation2d:Dw,disableDeprecationWarnings:DO,dispose:zt,disposeVariables:kO,div:Pe,divNoNan:kw,dot:Rw,dropout:nT,einsum:xs,elu:Hd,enableDebugMode:OO,enableProdMode:AO,enclosingPowerOfTwo:vm,engine:RO,ensureShape:zw,env:ve,equal:qd,erf:Cw,euclideanNorm:Iw,exp:Ja,expandDims:ua,expm1:Lw,eye:Gd,fft:Uu,fill:Gr,findBackend:MO,findBackendFactory:UO,floor:Kd,floorDiv:Bd,fused:sT,gather:Yd,gatherND:tT,gather_util:gj,getBackend:$N,getGradient:Fh,getKernel:eo,getKernelsForBackend:gu,grad:Ek,grads:_k,greater:Ao,greaterEqual:Xd,ifft:co,imag:Oo,image:hT,inTopKAsync:aT,io:Dm,irfft:dm,isFinite:Mw,isInf:Uw,isNaN:Fw,keep:On,kernel_impls:z6,leakyRelu:Pd,less:wu,lessEqual:Bu,linalg:dT,linspace:qw,localResponseNormalization:Hw,log:Lr,log1p:Wd,logSigmoid:Gw,logSoftmax:Kw,logSumExp:Qd,logicalAnd:oo,logicalNot:Jd,logicalOr:em,logicalXor:Yw,losses:mT,lowerBound:Xw,matMul:Be,math:rj,max:zs,maxPool:tm,maxPool3d:Pw,maxPoolWithArgmax:Ww,maximum:nm,mean:lo,memory:zO,meshgrid:Zw,min:Nu,minimum:uo,mirrorPad:Qw,mod:Jw,moments:e2,movingAverage:Q2,mul:oe,multiRNNCell:t2,multinomial:n2,neg:$n,nextFrame:$j,norm:xo,notEqual:am,oneHot:Tu,ones:Ya,onesLike:a2,op:$,outerProduct:s2,pad:Kr,pad1d:r2,pad2d:i2,pad3d:o2,pad4d:l2,pool:u2,pow:Ir,prelu:rm,print:jd,prod:c2,profile:CO,raggedGather:f2,raggedRange:h2,raggedTensorToTensor:d2,rand:m2,randomGamma:y2,randomNormal:cm,randomStandardNormal:b2,randomUniform:Mu,randomUniformInt:v2,range:Mr,ready:IO,real:Ur,reciprocal:S2,registerBackend:FO,registerGradient:V3,registerKernel:pN,relu:Do,relu6:fm,removeBackend:LO,reshape:Q,reverse:es,reverse1d:N2,reverse2d:w2,reverse3d:T2,reverse4d:E2,rfft:Fu,round:hm,rsqrt:_2,scalar:ke,scatterND:J2,scatter_util:D4,searchSorted:Lu,selu:x2,separableConv2d:A2,serialization:IC,setBackend:BO,setPlatform:qO,setdiff1dAsync:O2,sigmoid:Rs,sign:D2,signal:fT,sin:$2,sinh:k2,slice:Ge,slice1d:R2,slice2d:z2,slice3d:C2,slice4d:j2,slice_util:CT,softmax:B2,softplus:Zd,spaceToBatchND:sm,sparse:pT,sparseToDense:eT,spectral:cT,split:Fr,sqrt:qn,square:wn,squaredDifference:mm,squeeze:qu,stack:Vn,step:pm,stridedSlice:I2,string:gT,sub:_e,sum:Xe,sumOutType:pO,tan:L2,tanh:Su,tensor:Dn,tensor1d:cn,tensor2d:Rr,tensor3d:gm,tensor4d:M2,tensor5d:U2,tensor6d:F2,tensorScatterUpdate:H2,tensor_util:bO,test_util:qR,tidy:Ie,tile:kr,time:jO,topk:V2,train:Oj,transpose:fo,truncatedNormal:G2,unique:K2,unregisterGradient:K3,unregisterKernel:G3,unsortedSegmentSum:Y2,unstack:ns,upcastType:Cu,upperBound:X2,util:sO,valueAndGrad:xk,valueAndGrads:Ak,variable:P2,variableGrads:Vw,version_core:Aj,where:ma,whereAsync:bm,zeros:Ms,zerosLike:Zt},Symbol.toStringTag,{value:"Module"}));const j6=ve();j6.registerFlag("KEEP_INTERMEDIATE_TENSORS",()=>!1,t=>{t&&console.warn("Keep intermediate tensors is ON. This will print the values of all intermediate tensors during model inference. Not all models support this mode. For details, check e2e/benchmarks/ model_config.js. This significantly impacts performance.")});var Kt;(function(t){t[t.DT_INVALID=0]="DT_INVALID",t[t.DT_FLOAT=1]="DT_FLOAT",t[t.DT_DOUBLE=2]="DT_DOUBLE",t[t.DT_INT32=3]="DT_INT32",t[t.DT_UINT8=4]="DT_UINT8",t[t.DT_INT16=5]="DT_INT16",t[t.DT_INT8=6]="DT_INT8",t[t.DT_STRING=7]="DT_STRING",t[t.DT_COMPLEX64=8]="DT_COMPLEX64",t[t.DT_INT64=9]="DT_INT64",t[t.DT_BOOL=10]="DT_BOOL",t[t.DT_QINT8=11]="DT_QINT8",t[t.DT_QUINT8=12]="DT_QUINT8",t[t.DT_QINT32=13]="DT_QINT32",t[t.DT_BFLOAT16=14]="DT_BFLOAT16",t[t.DT_QINT16=15]="DT_QINT16",t[t.DT_QUINT16=16]="DT_QUINT16",t[t.DT_UINT16=17]="DT_UINT16",t[t.DT_COMPLEX128=18]="DT_COMPLEX128",t[t.DT_HALF=19]="DT_HALF",t[t.DT_RESOURCE=20]="DT_RESOURCE",t[t.DT_VARIANT=21]="DT_VARIANT",t[t.DT_UINT32=22]="DT_UINT32",t[t.DT_UINT64=23]="DT_UINT64",t[t.DT_FLOAT_REF=101]="DT_FLOAT_REF",t[t.DT_DOUBLE_REF=102]="DT_DOUBLE_REF",t[t.DT_INT32_REF=103]="DT_INT32_REF",t[t.DT_UINT8_REF=104]="DT_UINT8_REF",t[t.DT_INT16_REF=105]="DT_INT16_REF",t[t.DT_INT8_REF=106]="DT_INT8_REF",t[t.DT_STRING_REF=107]="DT_STRING_REF",t[t.DT_COMPLEX64_REF=108]="DT_COMPLEX64_REF",t[t.DT_INT64_REF=109]="DT_INT64_REF",t[t.DT_BOOL_REF=110]="DT_BOOL_REF",t[t.DT_QINT8_REF=111]="DT_QINT8_REF",t[t.DT_QUINT8_REF=112]="DT_QUINT8_REF",t[t.DT_QINT32_REF=113]="DT_QINT32_REF",t[t.DT_BFLOAT16_REF=114]="DT_BFLOAT16_REF",t[t.DT_QINT16_REF=115]="DT_QINT16_REF",t[t.DT_QUINT16_REF=116]="DT_QUINT16_REF",t[t.DT_UINT16_REF=117]="DT_UINT16_REF",t[t.DT_COMPLEX128_REF=118]="DT_COMPLEX128_REF",t[t.DT_HALF_REF=119]="DT_HALF_REF",t[t.DT_RESOURCE_REF=120]="DT_RESOURCE_REF",t[t.DT_VARIANT_REF=121]="DT_VARIANT_REF",t[t.DT_UINT32_REF=122]="DT_UINT32_REF",t[t.DT_UINT64_REF=123]="DT_UINT64_REF"})(Kt||(Kt={}));var Rb;(function(t){(function(e){e[e.LEGACY=0]="LEGACY",e[e.V1=1]="V1",e[e.V2=2]="V2"})(t.CheckpointFormatVersion||(t.CheckpointFormatVersion={}))})(Rb||(Rb={}));const km={};function B6(t,e){const a={tfOpName:t,category:"custom",inputs:[],attrs:[],customExecutor:e};km[t]=a}function BT(t){return km[t]}function I6(t){delete km[t]}function v(t,e,a,r,i){const l=e.inputParams[t];if(l&&l.inputIndexStart!==void 0){const f=l.inputIndexStart,h=l.inputIndexEnd===0?void 0:l.inputIndexEnd===void 0?f+1:l.inputIndexEnd,m=f<0?e.inputNames.length+f:f;if(l.type==="tensor")return St(e.inputNames[m],a,r,i);if(l.type==="tensors"){const b=e.inputs.slice(f,h);return e.inputNames.slice(f,h).filter((w,x)=>{var _;return((_=b[x])===null||_===void 0?void 0:_.op)!=="NoOp"}).map(w=>St(w,a,r,i))}const g=St(e.inputNames[m],a,r,i),y=g.dataSync();return l.type==="number"?y[0]:ks(g.shape,y)}const c=e.attrParams[t];return c&&c.value}function St(t,e,a,r){const[i,l]=Yt(t,a);if(r!=null){const f=r.getHashTableHandleByName(i);if(f!=null)return f}const c=a.currentContextIds.find(f=>!!e[_u(i,f)]);return c!==void 0?e[_u(i,c)][l]:void 0}function zb(t,e,a){return e[_u(t,a.currentContextId)]}function ca(t,e){const[a,r,i]=Yt(t,e);return[_u(a,e&&e.currentContextId),r,i]}function _u(t,e){return e?`${t}-${e}`:t}function Yt(t,e){if(t==="")return["",0,void 0];const a=e!=null&&e.parseNodeNameCache!=null;if(a){const l=e.parseNodeNameCache.get(t);if(l!=null)return l}const r=t.split(":");let i;if(r.length===1)i=[t,0,void 0];else{const l=r[0],c=r.length===3?r[1]:void 0,f=Number(r[r.length-1]);i=[l,f,c]}return a&&e.parseNodeNameCache.set(t,i),i}function fu(t,e,a){let r=v("pad",t,e,a);if(r==="explicit"){r=v("explicitPaddings",t,e,a);const i=[[0,0],[0,0],[0,0],[0,0]];for(let l=0;l<4;l++)i[l][0]=r[l*2],i[l][1]=r[l*2+1];return i}return r}function fa(t){return t.kept?t:da(t)}const L6=[{tfOpName:"Add",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddV2",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AddN",category:"arithmetic",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"BiasAdd",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"Sub",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"RealDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Div",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"DivNoNan",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorDiv",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mul",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Maximum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Minimum",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Pow",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SquaredDifference",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Mod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"FloorMod",category:"arithmetic",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],M6=Object.freeze(Object.defineProperty({__proto__:null,json:L6},Symbol.toStringTag,{value:"Module"}));const U6=[{tfOpName:"Abs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atan2",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Ceil",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ClipByValue",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"clipValueMin",type:"number"},{start:2,name:"clipValueMax",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Complex",category:"basic_math",inputs:[{start:0,name:"real",type:"tensor"},{start:1,name:"imag",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ComplexAbs",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cos",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Elu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Exp",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Floor",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Imag",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Neg",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Real",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"Tout",name:"outputType",type:"dtype",notSupported:!0}]},{tfOpName:"Prelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"alpha",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Relu6",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Selu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sigmoid",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sin",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Rsqrt",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Square",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Tanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Sign",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Round",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Expm1",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Log1p",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Reciprocal",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Softplus",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Asinh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Acosh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Atanh",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Erf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LeakyRelu",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"alpha",name:"alpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsNan",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsFinite",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"IsInf",category:"basic_math",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],F6=Object.freeze(Object.defineProperty({__proto__:null,json:U6},Symbol.toStringTag,{value:"Module"}));const q6=[{tfOpName:"EmptyTensorList",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"maxNumElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"LoopCond",category:"control",inputs:[{start:0,name:"pred",type:"tensor"}]},{tfOpName:"Switch",category:"control",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"pred",type:"tensor"}]},{tfOpName:"Merge",category:"control",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}]},{tfOpName:"Enter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"frame_name",name:"frameName",type:"string"},{tfName:"is_constant",name:"isConstant",type:"bool"}]},{tfOpName:"Exit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NextIteration",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayV3",category:"control",inputs:[{start:0,name:"size",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"dynamic_size",name:"dynamicSize",type:"bool"},{tfName:"clear_after_read",name:"clearAfterRead",type:"bool"},{tfName:"identical_element_shapes",name:"identicalElementShapes",type:"bool"},{tfName:"tensor_array_name",name:"name",type:"string"}]},{tfOpName:"TensorArrayWriteV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayReadV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"TensorArrayGatherV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape",name:"elementShape",type:"shape"}]},{tfOpName:"TensorArrayScatterV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"tensor",type:"tensor"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArrayConcatV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"element_shape_except0",name:"elementShapeExcept0",type:"shape",notSupported:!0}]},{tfOpName:"TensorArraySplitV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"tensor",type:"tensor"},{start:2,name:"lengths",type:"number[]"},{start:3,name:"flowIn",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"TensorArraySizeV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"},{start:1,name:"flowIn",type:"number"}]},{tfOpName:"TensorArrayCloseV3",category:"control",inputs:[{start:0,name:"tensorArrayId",type:"tensor"}]},{tfOpName:"StatelessIf",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"If",category:"control",inputs:[{start:0,name:"cond",type:"tensor"},{start:1,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"then_branch",name:"thenBranch",type:"func"},{tfName:"else_branch",name:"elseBranch",type:"func"}]},{tfOpName:"StatelessWhile",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"While",category:"control",inputs:[{start:0,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"cond",name:"cond",type:"func"},{tfName:"body",name:"body",type:"func"}]},{tfOpName:"TensorListScatter",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListScatterV2",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"},{start:3,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGather",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"indices",type:"number[]"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListGetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListSetItem",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"index",type:"number"},{start:2,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListReserve",category:"control",inputs:[{start:0,name:"elementShape",type:"shape"},{start:1,name:"numElements",type:"number"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListFromTensor",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListStack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"},{tfName:"num_elements",name:"numElements",type:"dtype"}]},{tfOpName:"TensorListSplit",category:"control",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"elementShape",type:"shape"},{start:2,name:"lengths",type:"number[]"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcat",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListConcatV2",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}],attrs:[{tfName:"element_shape",name:"elementShape",type:"shape"},{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPopBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"elementShape",type:"shape"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListPushBack",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"tensor",type:"tensor"}],attrs:[{tfName:"element_dtype",name:"elementDType",type:"dtype"}]},{tfOpName:"TensorListLength",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"}]},{tfOpName:"TensorListResize",category:"control",inputs:[{start:0,name:"tensorListId",type:"tensor"},{start:1,name:"size",type:"number"}]}],H6=Object.freeze(Object.defineProperty({__proto__:null,json:q6},Symbol.toStringTag,{value:"Module"}));const V6=[{tfOpName:"AvgPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[],notSupported:!0},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPoolWithArgmax",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"include_batch_in_index",name:"includeBatchInIndex",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"AvgPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MaxPool3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"ksize",name:"kernelSize",type:"number[]"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Conv1D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"stride",name:"stride",type:"number"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NWC"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"dilation",name:"dilation",type:"number",defaultValue:1}]},{tfOpName:"Conv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"useCudnnOnGpu",name:"useCudnnOnGpu",type:"bool"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"_FusedConv2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"use_cudnn_on_gpu",name:"useCudnnOnGpu",type:"bool",defaultValue:!0},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2}]},{tfOpName:"Conv2DBackpropInput",category:"convolution",inputs:[{start:2,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:0,name:"outputShape",type:"number[]"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]",notSupported:!0}]},{tfOpName:"DepthwiseConv2d",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"DepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"FusedDepthwiseConv2dNative",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]",defaultValue:[1,1,1,1]},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"explicit_paddings",name:"explicitPaddings",type:"number[]",defaultValue:[]}]},{tfOpName:"Conv3D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"padding",name:"pad",type:"string"},{tfName:"data_format",name:"dataFormat",type:"string",defaultValue:"NHWC"},{tfName:"dilations",name:"dilations",type:"number[]"}]},{tfOpName:"Dilation2D",category:"convolution",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"filter",type:"tensor"}],attrs:[{tfName:"strides",name:"strides",type:"number[]"},{tfName:"rates",name:"dilations",type:"number[]"},{tfName:"padding",name:"pad",type:"string"}]}],G6=Object.freeze(Object.defineProperty({__proto__:null,json:V6},Symbol.toStringTag,{value:"Module"}));const K6=[{tfOpName:"Fill",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"},{start:1,name:"value",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"LinSpace",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"num",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"OneHot",category:"creation",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"depth",type:"number"},{start:2,name:"onValue",type:"number",defaultValue:1},{start:3,name:"offValue",type:"number",defaultValue:0}],attrs:[{tfName:"axis",name:"axis",type:"number",notSupported:!0},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Ones",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"OnesLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"RandomStandardNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniform",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number",defaultValue:0},{tfName:"maxval",name:"maxval",type:"number",defaultValue:1},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"RandomUniformInt",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"minval",name:"minval",type:"number"},{tfName:"maxval",name:"maxval",type:"number"},{tfName:"seed",name:"seed",type:"number",defaultValue:0},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Range",category:"creation",inputs:[{start:0,name:"start",type:"number"},{start:1,name:"stop",type:"number"},{start:2,name:"step",type:"number",defaultValue:0}],attrs:[{tfName:"Tidx",name:"dtype",type:"dtype"}]},{tfOpName:"TruncatedNormal",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"means",name:"mean",type:"number",defaultValue:0},{tfName:"stddev",name:"stdDev",type:"number",defaultValue:1},{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number",defaultValue:0,notSupported:!0},{tfName:"dtype",name:"dtype",type:"dtype"},{tfName:"T",name:"T",type:"number",notSupported:!0}]},{tfOpName:"Zeros",category:"creation",inputs:[{start:0,name:"shape",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"ZerosLike",category:"creation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"Multinomial",category:"creation",inputs:[{start:0,name:"logits",type:"tensor"},{start:1,name:"numSamples",type:"number"}],attrs:[{tfName:"seed",name:"seed",type:"number"},{tfName:"seed2",name:"seed2",type:"number"},{tfName:"T",name:"dtype",type:"dtype"},{tfName:"output_dtype",name:"output_dtype",type:"dtype"}]}],Y6=Object.freeze(Object.defineProperty({__proto__:null,json:K6},Symbol.toStringTag,{value:"Module"}));const X6=[{tfOpName:"NonMaxSuppressionV2",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV3",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}]},{tfOpName:"NonMaxSuppressionV4",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0},{tfName:"T_threshold",name:"threshold",type:"dtype",notSupported:!0},{tfName:"pad_to_max_output_size",name:"padToMaxOutputSize",type:"bool"}]},{tfOpName:"NonMaxSuppressionV5",category:"dynamic",inputs:[{start:0,name:"boxes",type:"tensor"},{start:1,name:"scores",type:"tensor"},{start:2,name:"maxOutputSize",type:"number"},{start:3,name:"iouThreshold",type:"number"},{start:4,name:"scoreThreshold",type:"number"},{start:5,name:"softNmsSigma",type:"number"}]},{tfOpName:"Where",category:"dynamic",inputs:[{start:0,name:"condition",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ListDiff",category:"dynamic",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]}],P6=Object.freeze(Object.defineProperty({__proto__:null,json:X6},Symbol.toStringTag,{value:"Module"}));const W6=[{tfOpName:"LowerBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"TopKV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"k",type:"number"}],attrs:[{tfName:"sorted",name:"sorted",type:"bool"}]},{tfOpName:"UpperBound",category:"evaluation",inputs:[{start:0,name:"sortedSequence",type:"tensor"},{start:1,name:"values",type:"tensor"}]},{tfOpName:"Unique",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"UniqueV2",category:"evaluation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]}],Z6=Object.freeze(Object.defineProperty({__proto__:null,json:W6},Symbol.toStringTag,{value:"Module"}));const Q6=[{tfOpName:"PlaceholderWithDefault",category:"graph",inputs:[{start:0,name:"default",type:"tensor"}],attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Placeholder",category:"graph",attrs:[{tfName:"shape",name:"shape",type:"shape"},{tfName:"dtype",name:"dtype",type:"dtype"}]},{tfOpName:"Const",category:"graph"},{tfOpName:"Identity",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IdentityN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Snapshot",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Rank",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Size",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"Shape",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"ShapeN",category:"graph",inputs:[{start:0,end:0,name:"x",type:"tensors"}]},{tfOpName:"Print",category:"graph",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"data",type:"tensors"}],attrs:[{tfName:"message",name:"message",type:"string"},{tfName:"first_n",name:"firstN",type:"number",notSupported:!0},{tfName:"summarize",name:"summarize",type:"number",defaultValue:3}]},{tfOpName:"NoOp",category:"graph",inputs:[]},{tfOpName:"StopGradient",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"FakeQuantWithMinMaxVars",category:"graph",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"min",name:"min",type:"number"},{tfName:"max",name:"max",type:"number"}]}],J6=Object.freeze(Object.defineProperty({__proto__:null,json:Q6},Symbol.toStringTag,{value:"Module"}));const eB=[{tfOpName:"HashTable",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"HashTableV2",category:"hash_table",inputs:[],attrs:[{tfName:"shared_name",name:"sharedName",type:"string"},{tfName:"use_node_name_sharing",name:"useNodeNameSharing",type:"bool"},{tfName:"key_dtype",name:"keyDType",type:"dtype"},{tfName:"value_dtype",name:"valueDType",type:"dtype"}]},{tfOpName:"LookupTableImport",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableImportV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFind",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableFindV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"Tin",name:"tIn",type:"dtype",notSupported:!0},{tfName:"Tout",name:"tOut",type:"dtype",notSupported:!0}]},{tfOpName:"LookupTableSize",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"LookupTableSizeV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"}]},{tfOpName:"InitializeTable",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]},{tfOpName:"InitializeTableV2",category:"hash_table",inputs:[{start:0,name:"tableHandle",type:"tensor"},{start:1,name:"keys",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],tB=Object.freeze(Object.defineProperty({__proto__:null,json:eB},Symbol.toStringTag,{value:"Module"}));const nB=[{tfOpName:"ResizeBilinear",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"ResizeNearestNeighbor",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"size",type:"number[]"}],attrs:[{tfName:"align_corners",name:"alignCorners",type:"bool"},{tfName:"half_pixel_centers",name:"halfPixelCenters",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"CropAndResize",category:"image",inputs:[{start:0,name:"image",type:"tensor"},{start:1,name:"boxes",type:"tensor"},{start:2,name:"boxInd",type:"tensor"},{start:3,name:"cropSize",type:"number[]"}],attrs:[{tfName:"method",name:"method",type:"string"},{tfName:"extrapolation_value",name:"extrapolationValue",type:"number"}]},{tfOpName:"ImageProjectiveTransformV3",category:"image",inputs:[{start:0,name:"images",type:"tensor"},{start:1,name:"transforms",type:"tensor"},{start:2,name:"outputShape",type:"number[]"},{start:3,name:"fillValue",type:"number"}],attrs:[{tfName:"interpolation",name:"interpolation",type:"string"},{tfName:"fill_mode",name:"fillMode",type:"string"}]}],aB=Object.freeze(Object.defineProperty({__proto__:null,json:nB},Symbol.toStringTag,{value:"Module"}));const sB=[{tfOpName:"Equal",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"NotEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Greater",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"GreaterEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Less",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LessEqual",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalAnd",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalNot",category:"logical",inputs:[{start:0,name:"a",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"LogicalOr",category:"logical",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Select",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SelectV2",category:"logical",inputs:[{start:0,name:"condition",type:"tensor"},{start:1,name:"a",type:"tensor"},{start:2,name:"b",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BitwiseAnd",category:"logical",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"y",type:"tensor"}]}],rB=Object.freeze(Object.defineProperty({__proto__:null,json:sB},Symbol.toStringTag,{value:"Module"}));const iB=[{tfOpName:"_FusedMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"},{start:2,end:0,name:"args",type:"tensors"}],attrs:[{tfName:"num_args",name:"numArgs",type:"number"},{tfName:"fused_ops",name:"fusedOps",type:"string[]",defaultValue:[]},{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:1e-4},{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"leakyrelu_alpha",name:"leakyreluAlpha",type:"number",defaultValue:.2},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"MatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"transpose_a",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"transpose_b",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMul",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"BatchMatMulV2",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"b",type:"tensor"}],attrs:[{tfName:"adj_x",name:"transposeA",type:"bool",defaultValue:!1},{tfName:"adj_y",name:"transposeB",type:"bool",defaultValue:!1},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Transpose",category:"matrices",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"perm",type:"number[]"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Einsum",category:"matrices",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"equation",name:"equation",type:"string"},{tfName:"N",name:"n",type:"number",defaultValue:2},{tfName:"T",name:"dtype",type:"dtype"}]},{tfOpName:"MatrixBandPart",category:"matrices",inputs:[{start:0,name:"a",type:"tensor"},{start:1,name:"numLower",type:"tensor"},{start:1,name:"numUpper",type:"tensor"}]}],oB=Object.freeze(Object.defineProperty({__proto__:null,json:iB},Symbol.toStringTag,{value:"Module"}));const lB=[{tfOpName:"EuclideanNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool",defaultValue:!1}]},{tfOpName:"FusedBatchNorm",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV2",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"FusedBatchNormV3",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"scale",type:"tensor"},{start:2,name:"offset",type:"tensor"},{start:3,name:"mean",type:"tensor"},{start:4,name:"variance",type:"tensor"}],attrs:[{tfName:"epsilon",name:"epsilon",type:"number",defaultValue:.001},{tfName:"data_format",name:"dataFormat",type:"string",notSupported:!0}]},{tfOpName:"LRN",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"depth_radius",name:"radius",type:"number",defaultValue:5},{tfName:"bias",name:"bias",type:"number",defaultValue:1},{tfName:"alpha",name:"alpha",type:"number",defaultValue:1},{tfName:"beta",name:"beta",type:"number",defaultValue:.5}]},{tfOpName:"Softmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"LogSoftmax",category:"normalization",inputs:[{start:0,name:"x",type:"tensor"}]}],uB=Object.freeze(Object.defineProperty({__proto__:null,json:lB},Symbol.toStringTag,{value:"Module"}));const cB=[{tfOpName:"Bincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}]},{tfOpName:"DenseBincount",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"size",type:"number"},{start:2,name:"weights",type:"tensor"}],attrs:[{tfName:"binary_output",name:"binaryOutput",type:"bool"}]},{tfOpName:"Max",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Mean",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Min",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Sum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"All",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"Any",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"}]},{tfOpName:"ArgMax",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"ArgMin",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"Prod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}],attrs:[{tfName:"keep_dims",name:"keepDims",type:"bool"},{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"Cumprod",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]},{tfOpName:"Cumsum",category:"reduction",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}],attrs:[{tfName:"exclusive",name:"exclusive",type:"bool"},{tfName:"reverse",name:"reverse",type:"bool"}]}],fB=Object.freeze(Object.defineProperty({__proto__:null,json:cB},Symbol.toStringTag,{value:"Module"}));const hB=[{tfOpName:"ConcatV2",category:"slice_join",inputs:[{start:0,end:-1,name:"tensors",type:"tensors"},{start:-1,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"Concat",category:"slice_join",inputs:[{start:1,end:0,name:"tensors",type:"tensors"},{start:0,name:"axis",type:"number"}],attrs:[{tfName:"N",name:"n",type:"number",defaultValue:2}]},{tfOpName:"GatherV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"axis",type:"number",defaultValue:0}],attrs:[{tfName:"batch_dims",name:"batchDims",type:"number",defaultValue:0}]},{tfOpName:"Gather",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",notSupported:!0}]},{tfOpName:"Reverse",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"dims",type:"bool[]"}]},{tfOpName:"ReverseV2",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number[]"}]},{tfOpName:"Slice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"size",type:"number[]"}]},{tfOpName:"StridedSlice",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"begin",type:"number[]"},{start:2,name:"end",type:"number[]"},{start:3,name:"strides",type:"number[]"}],attrs:[{tfName:"begin_mask",name:"beginMask",type:"number",defaultValue:0},{tfName:"end_mask",name:"endMask",type:"number",defaultValue:0},{tfName:"new_axis_mask",name:"newAxisMask",type:"number",defaultValue:0},{tfName:"ellipsis_mask",name:"ellipsisMask",type:"number",defaultValue:0},{tfName:"shrink_axis_mask",name:"shrinkAxisMask",type:"number",defaultValue:0}]},{tfOpName:"Pack",category:"slice_join",inputs:[{start:0,end:0,name:"tensors",type:"tensors"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0}]},{tfOpName:"Unpack",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"}],attrs:[{tfName:"axis",name:"axis",type:"number",defaultValue:0},{tfName:"num",name:"num",type:"number",defaultValue:0,notSupported:!0}]},{tfOpName:"Tile",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"reps",type:"number[]"}]},{tfOpName:"Split",category:"slice_join",inputs:[{start:0,name:"axis",type:"number",defaultValue:0},{start:1,name:"x",type:"tensor"}],attrs:[{tfName:"num_split",name:"numOrSizeSplits",type:"number",defaultValue:1}]},{tfOpName:"SplitV",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"numOrSizeSplits",type:"number[]"},{start:2,name:"axis",type:"number",defaultValue:0}]},{tfOpName:"ScatterNd",category:"slice_join",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"shape",type:"number[]"}]},{tfOpName:"GatherNd",category:"slice_join",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"indices",type:"tensor"}]},{tfOpName:"SparseToDense",category:"slice_join",inputs:[{start:0,name:"sparseIndices",type:"tensor"},{start:1,name:"outputShape",type:"number[]"},{start:2,name:"sparseValues",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}],attrs:[{tfName:"validate_indices",name:"validateIndices",type:"bool",defaultValue:!1,notSupported:!0}]},{tfOpName:"TensorScatterUpdate",category:"slice_join",inputs:[{start:0,name:"tensor",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"values",type:"tensor"}]}],dB=Object.freeze(Object.defineProperty({__proto__:null,json:hB},Symbol.toStringTag,{value:"Module"}));const mB=[{tfOpName:"SparseFillEmptyRows",category:"sparse",inputs:[{start:0,name:"indices",type:"tensor"},{start:1,name:"values",type:"tensor"},{start:2,name:"denseShape",type:"tensor"},{start:3,name:"defaultValue",type:"tensor"}]},{tfOpName:"SparseReshape",category:"sparse",inputs:[{start:0,name:"inputIndices",type:"tensor"},{start:1,name:"inputShape",type:"tensor"},{start:2,name:"newShape",type:"tensor"}],attrs:[{tfName:"T",name:"dtype",type:"dtype",notSupported:!0}]},{tfOpName:"SparseSegmentMean",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]},{tfOpName:"SparseSegmentSum",category:"sparse",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"indices",type:"tensor"},{start:2,name:"segmentIds",type:"tensor"}]}],pB=Object.freeze(Object.defineProperty({__proto__:null,json:mB},Symbol.toStringTag,{value:"Module"}));const gB=[{tfOpName:"FFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"IFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"}]},{tfOpName:"RFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]},{tfOpName:"IRFFT",category:"spectral",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"fft_length",type:"number",notSupported:!0}]}],yB=Object.freeze(Object.defineProperty({__proto__:null,json:gB},Symbol.toStringTag,{value:"Module"}));const bB=[{tfOpName:"StaticRegexReplace",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"pattern",name:"pattern",type:"string"},{tfName:"rewrite",name:"rewrite",type:"string"},{tfName:"replace_global",name:"replaceGlobal",type:"bool"}]},{tfOpName:"StringNGrams",category:"string",inputs:[{start:0,name:"data",type:"tensor"},{start:1,name:"dataSplits",type:"tensor"}],attrs:[{tfName:"separator",name:"separator",type:"string"},{tfName:"ngram_widths",name:"nGramWidths",type:"number[]"},{tfName:"left_pad",name:"leftPad",type:"string"},{tfName:"right_pad",name:"rightPad",type:"string"},{tfName:"pad_width",name:"padWidth",type:"number"},{tfName:"preserve_short_sequences",name:"preserveShortSequences",type:"bool"}],outputs:["ngrams","ngrams_splits"]},{tfOpName:"StringSplit",category:"string",inputs:[{start:0,name:"input",type:"tensor"},{start:1,name:"delimiter",type:"tensor"}],attrs:[{tfName:"skip_empty",name:"skipEmpty",type:"bool"}],outputs:["indices","values","shape"]},{tfOpName:"StringToHashBucketFast",category:"string",inputs:[{start:0,name:"input",type:"tensor"}],attrs:[{tfName:"num_buckets",name:"numBuckets",type:"number"}]}],vB=Object.freeze(Object.defineProperty({__proto__:null,json:bB},Symbol.toStringTag,{value:"Module"}));const SB=[{tfOpName:"Cast",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"SrcT",name:"sdtype",type:"dtype",notSupported:!0},{tfName:"DstT",name:"dtype",type:"dtype"}]},{tfOpName:"ExpandDims",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"axis",type:"number"}]},{tfOpName:"MirrorPad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"mode",name:"mode",type:"string"}]},{tfOpName:"Pad",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"}],attrs:[{tfName:"constant_value",name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"PadV2",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"padding",type:"number[]"},{start:2,name:"constantValue",type:"number",defaultValue:0}]},{tfOpName:"Reshape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"EnsureShape",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}]},{tfOpName:"Squeeze",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"axis",tfDeprecatedName:"squeeze_dims",name:"axis",type:"number[]"}]},{tfOpName:"SpaceToBatchND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"paddings",type:"number[]"}]},{tfOpName:"BatchToSpaceND",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"blockShape",type:"number[]"},{start:2,name:"crops",type:"number[]"}]},{tfOpName:"DepthToSpace",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"}],attrs:[{tfName:"block_size",name:"blockSize",type:"number"},{tfName:"data_format",name:"dataFormat",type:"string"}]},{tfOpName:"BroadcastTo",category:"transformation",inputs:[{start:0,name:"x",type:"tensor"},{start:1,name:"shape",type:"number[]"}],attrs:[]},{tfOpName:"BroadcastArgs",category:"transformation",inputs:[{start:0,name:"s0",type:"tensor"},{start:1,name:"s1",type:"tensor"}],attrs:[]}],NB=Object.freeze(Object.defineProperty({__proto__:null,json:SB},Symbol.toStringTag,{value:"Module"}));class Cb{static get Instance(){return this._instance||(this._instance=new this)}constructor(){const e=[M6,F6,H6,G6,Y6,P6,Z6,J6,tB,aB,rB,oB,uB,fB,dB,pB,yB,vB,NB],a=[].concat(...e.map(r=>r.json));this.opMappers=a.reduce((r,i)=>(r[i.tfOpName]=i,r),{})}transformGraph(e,a={}){const r=e.node,i=[],l=[],c=[],f=r.reduce((x,_)=>(x[_.name]=this.mapNode(_),_.op.startsWith("Placeholder")?i.push(x[_.name]):_.op==="Const"?l.push(x[_.name]):(_.input==null||_.input.length===0)&&c.push(x[_.name]),x),{});let h=[];const m=[];let g={},y={};a!=null&&(g=this.mapSignatureEntries(a.inputs),y=this.mapSignatureEntries(a.outputs));const b=Object.keys(f);b.forEach(x=>{const _=f[x];_.inputNames.forEach((C,ee)=>{const[I,,F]=ca(C),W=f[I];if(W.outputs!=null){const ne=W.outputs.indexOf(F);if(ne!==-1){const te=`${I}:${ne}`;_.inputNames[ee]=te}}_.inputs.push(W),W.children.push(_)})}),Object.keys(y).length===0?b.forEach(x=>{const _=f[x];_.children.length===0&&m.push(_)}):Object.keys(y).forEach(x=>{const[_]=ca(x),C=f[_];C!=null&&(C.signatureKey=y[x],m.push(C))}),Object.keys(g).length>0?Object.keys(g).forEach(x=>{const[_]=ca(x),C=f[_];C&&(C.signatureKey=g[x],h.push(C))}):h=i;let N={};e.library!=null&&e.library.function!=null&&(N=e.library.function.reduce((x,_)=>(x[_.signature.name]=this.mapFunction(_),x),{}));const w={nodes:f,inputs:h,outputs:m,weights:l,placeholders:i,signature:a,functions:N};return c.length>0&&(w.initNodes=c),w}mapSignatureEntries(e){return Object.keys(e||{}).reduce((a,r)=>(a[e[r].name]=r,a),{})}mapNode(e){const a=BT(e.op)||this.opMappers[e.op]||{};e.attr==null&&(e.attr={});const r={name:e.name,op:e.op,category:a.category,inputNames:(e.input||[]).map(i=>i.startsWith("^")?i.slice(1):i),inputs:[],children:[],inputParams:{},attrParams:{},rawAttrs:e.attr,outputs:a.outputs};return a.inputs!=null&&(r.inputParams=a.inputs.reduce((i,l)=>(i[l.name]={type:l.type,inputIndexStart:l.start,inputIndexEnd:l.end},i),{})),a.attrs!=null&&(r.attrParams=a.attrs.reduce((i,l)=>{const c=l.type;let f;switch(l.type){case"string":f=ad(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=ad(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"string[]":f=cd(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=cd(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"number":f=rd(e.attr,l.tfName,l.defaultValue||0),f===void 0&&l.tfDeprecatedName&&(f=rd(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"number[]":f=ud(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=ud(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"bool":f=sd(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=sd(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"bool[]":f=hd(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=hd(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"shape":f=ld(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=ld(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"shape[]":f=fd(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=fd(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"dtype":f=id(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=id(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"dtype[]":f=od(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=od(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"func":f=jb(e.attr,l.tfName,l.defaultValue),f===void 0&&l.tfDeprecatedName&&(f=jb(e.attr,l.tfDeprecatedName,l.defaultValue));break;case"tensor":case"tensors":break;default:throw new Error(`Unsupported param type: ${l.type} for op: ${e.op}`)}return i[l.name]={value:f,type:c},i},{})),r}mapFunction(e){const a=e.nodeDef,r=[],i=[];let l={};a!=null&&(l=a.reduce((y,b)=>(y[b.name]=this.mapNode(b),b.op==="Const"&&i.push(y[b.name]),y),{}));const c=[],f=[];e.signature.inputArg.forEach(y=>{const[b]=ca(y.name),N={name:b,op:"Placeholder",inputs:[],inputNames:[],category:"graph",inputParams:{},attrParams:{dtype:{value:Rm(y.type),type:"dtype"}},children:[]};N.signatureKey=y.name,c.push(N),l[b]=N}),Object.keys(l).forEach(y=>{const b=l[y];b.inputNames.forEach((N,w)=>{const[x,,_]=ca(N),C=l[x];if(C.outputs!=null){const ee=C.outputs.indexOf(_);if(ee!==-1){const I=`${x}:${ee}`;b.inputNames[w]=I}}b.inputs.push(C),C.children.push(b)})});const m=e.ret;e.signature.outputArg.forEach(y=>{const[b,N]=ca(m[y.name]),w=l[b];w!=null&&(w.defaultOutput=N,f.push(w))});const g=this.mapArgsToSignature(e);return{nodes:l,inputs:c,outputs:f,weights:i,placeholders:r,signature:g}}mapArgsToSignature(e){return{methodName:e.signature.name,inputs:e.signature.inputArg.reduce((a,r)=>(a[r.name]=this.mapArgToTensorInfo(r),a),{}),outputs:e.signature.outputArg.reduce((a,r)=>(a[r.name]=this.mapArgToTensorInfo(r,e.ret),a),{})}}mapArgToTensorInfo(e,a){let r=e.name;return a!=null&&(r=a[r]),{name:r,dtype:e.type}}}function wB(t){const e=ve().global;if(typeof e.atob<"u")return e.atob(t);if(typeof Buffer<"u")return new Buffer(t,"base64").toString();throw new Error("Unable to decode base64 in this environment. Missing built-in atob() or Buffer()")}function IT(t,e){const a=Array.isArray(t)?String.fromCharCode.apply(null,t):wB(t);return e?a:a.toLowerCase()}function ad(t,e,a,r=!1){const i=t[e];return i!=null?IT(i.s,r):a}function sd(t,e,a){const r=t[e];return r?r.b:a}function rd(t,e,a){const r=t[e]||{},i=r.i!=null?r.i:r.f!=null?r.f:a;return typeof i=="number"?i:parseInt(i,10)}function Rm(t){switch(typeof t=="string"&&(t=Kt[t]),t){case Kt.DT_FLOAT:case Kt.DT_HALF:return"float32";case Kt.DT_INT32:case Kt.DT_INT64:case Kt.DT_INT8:case Kt.DT_UINT8:return"int32";case Kt.DT_BOOL:return"bool";case Kt.DT_DOUBLE:return"float32";case Kt.DT_STRING:return"string";case Kt.DT_COMPLEX64:case Kt.DT_COMPLEX128:return"complex64";default:return null}}function jb(t,e,a){const r=t[e];return r&&r.func?r.func.name:a}function id(t,e,a){const r=t[e];return r&&r.type?Rm(r.type):a}function od(t,e,a){const r=t[e];return r&&r.list&&r.list.type?r.list.type.map(i=>Rm(i)):a}function LT(t){if(!t.unknownRank)return t.dim!=null?t.dim.map(e=>typeof e.size=="number"?e.size:parseInt(e.size,10)):[]}function ld(t,e,a){const r=t[e];return r&&r.shape?LT(r.shape):a}function ud(t,e,a){const r=t[e];return r?((r.list.f&&r.list.f.length?r.list.f:r.list.i)||[]).map(i=>typeof i=="number"?i:parseInt(i,10)):a}function cd(t,e,a,r=!1){const i=t[e];return i&&i.list&&i.list.s?i.list.s.map(l=>IT(l,r)):a}function fd(t,e,a){const r=t[e];return r&&r.list&&r.list.shape?r.list.shape.map(i=>LT(i)):a}function hd(t,e,a){const r=t[e];return r&&r.list&&r.list.b?r.list.b:a}class TB{constructor(e,a,r){this.node=e,this.tensorMap=a,this.context=r,this.inputs=[],this.attrs={},this.inputs=e.inputNames.map(i=>this.getInput(i)),e.rawAttrs!=null&&(this.attrs=Object.keys(e.rawAttrs).reduce((i,l)=>(i[l]=this.getAttr(l),i),{}))}getInput(e){return St(e,this.tensorMap,this.context)}getAttr(e,a){const r=this.node.rawAttrs[e];if(r.tensor!=null)return St(e,this.tensorMap,this.context);if(r.i!=null||r.f!=null)return rd(this.node.rawAttrs,e,a);if(r.s!=null)return ad(this.node.rawAttrs,e,a);if(r.b!=null)return sd(this.node.rawAttrs,e,a);if(r.shape!=null)return ld(this.node.rawAttrs,e,a);if(r.type!=null)return id(this.node.rawAttrs,e,a);if(r.list!=null){if(r.list.i!=null||r.list.f!=null)return ud(this.node.rawAttrs,e,a);if(r.list.s!=null)return cd(this.node.rawAttrs,e,a);if(r.list.shape!=null)return fd(this.node.rawAttrs,e,a);if(r.list.b!=null)return hd(this.node.rawAttrs,e,a);if(r.list.type!=null)return od(this.node.rawAttrs,e,a)}return a}}const Nt=Object.freeze(Object.defineProperty({__proto__:null,OP_SCOPE_SUFFIX:kd,abs:Xt,acos:HN,acosh:VN,add:be,addN:GN,all:KN,any:YN,argMax:XN,argMin:PN,asin:WN,asinh:ZN,atan:QN,atan2:JN,atanh:ew,avgPool:Ld,avgPool3d:sw,basicLSTMCell:rw,batchNorm:To,batchNorm2d:iw,batchNorm3d:ow,batchNorm4d:lw,batchToSpaceND:Md,bincount:Ud,bitwiseAnd:uw,booleanMaskAsync:Z2,broadcastArgs:cw,broadcastTo:Zi,buffer:Fn,cast:We,ceil:fw,clipByValue:hw,clone:da,complex:pa,concat:At,concat1d:dw,concat2d:mw,concat3d:pw,concat4d:gw,conv1d:yw,conv2d:Eo,conv2dTranspose:vw,conv3d:Sw,conv3dTranspose:Nw,cos:ww,cosh:Tw,cosineWindow:Vu,cumprod:Ew,cumsum:_w,denseBincount:xw,depthToSpace:Aw,depthwiseConv2d:ju,diag:Ow,dilation2d:Dw,div:Pe,divNoNan:kw,dot:Rw,dropout:nT,einsum:xs,elu:Hd,enclosingPowerOfTwo:vm,ensureShape:zw,equal:qd,erf:Cw,euclideanNorm:Iw,exp:Ja,expandDims:ua,expm1:Lw,eye:Gd,fft:Uu,fill:Gr,floor:Kd,floorDiv:Bd,fused:sT,gather:Yd,gatherND:tT,greater:Ao,greaterEqual:Xd,ifft:co,imag:Oo,image:hT,inTopKAsync:aT,irfft:dm,isFinite:Mw,isInf:Uw,isNaN:Fw,leakyRelu:Pd,less:wu,lessEqual:Bu,linalg:dT,linspace:qw,localResponseNormalization:Hw,log:Lr,log1p:Wd,logSigmoid:Gw,logSoftmax:Kw,logSumExp:Qd,logicalAnd:oo,logicalNot:Jd,logicalOr:em,logicalXor:Yw,losses:mT,lowerBound:Xw,matMul:Be,max:zs,maxPool:tm,maxPool3d:Pw,maxPoolWithArgmax:Ww,maximum:nm,mean:lo,meshgrid:Zw,min:Nu,minimum:uo,mirrorPad:Qw,mod:Jw,moments:e2,movingAverage:Q2,mul:oe,multiRNNCell:t2,multinomial:n2,neg:$n,norm:xo,notEqual:am,oneHot:Tu,ones:Ya,onesLike:a2,op:$,outerProduct:s2,pad:Kr,pad1d:r2,pad2d:i2,pad3d:o2,pad4d:l2,pool:u2,pow:Ir,prelu:rm,print:jd,prod:c2,raggedGather:f2,raggedRange:h2,raggedTensorToTensor:d2,rand:m2,randomGamma:y2,randomNormal:cm,randomStandardNormal:b2,randomUniform:Mu,randomUniformInt:v2,range:Mr,real:Ur,reciprocal:S2,relu:Do,relu6:fm,reshape:Q,reverse:es,reverse1d:N2,reverse2d:w2,reverse3d:T2,reverse4d:E2,rfft:Fu,round:hm,rsqrt:_2,scalar:ke,scatterND:J2,searchSorted:Lu,selu:x2,separableConv2d:A2,setdiff1dAsync:O2,sigmoid:Rs,sign:D2,signal:fT,sin:$2,sinh:k2,slice:Ge,slice1d:R2,slice2d:z2,slice3d:C2,slice4d:j2,softmax:B2,softplus:Zd,spaceToBatchND:sm,sparse:pT,sparseToDense:eT,spectral:cT,split:Fr,sqrt:qn,square:wn,squaredDifference:mm,squeeze:qu,stack:Vn,step:pm,stridedSlice:I2,string:gT,sub:_e,sum:Xe,tan:L2,tanh:Su,tensor:Dn,tensor1d:cn,tensor2d:Rr,tensor3d:gm,tensor4d:M2,tensor5d:U2,tensor6d:F2,tensorScatterUpdate:H2,tile:kr,topk:V2,transpose:fo,truncatedNormal:G2,unique:K2,unsortedSegmentSum:Y2,unstack:ns,upperBound:X2,variable:P2,where:ma,whereAsync:bm,zeros:Ms,zerosLike:Zt},Symbol.toStringTag,{value:"Module"}));const EB=(t,e,a,r=Nt)=>{switch(t.op){case"BiasAdd":case"AddV2":case"Add":return[r.add(v("a",t,e,a),v("b",t,e,a))];case"AddN":return[r.addN(v("tensors",t,e,a))];case"FloorMod":case"Mod":return[r.mod(v("a",t,e,a),v("b",t,e,a))];case"Mul":return[r.mul(v("a",t,e,a),v("b",t,e,a))];case"RealDiv":case"Div":return[r.div(v("a",t,e,a),v("b",t,e,a))];case"DivNoNan":return[r.divNoNan(v("a",t,e,a),v("b",t,e,a))];case"FloorDiv":return[r.floorDiv(v("a",t,e,a),v("b",t,e,a))];case"Sub":return[r.sub(v("a",t,e,a),v("b",t,e,a))];case"Minimum":return[r.minimum(v("a",t,e,a),v("b",t,e,a))];case"Maximum":return[r.maximum(v("a",t,e,a),v("b",t,e,a))];case"Pow":return[r.pow(v("a",t,e,a),v("b",t,e,a))];case"SquaredDifference":return[r.squaredDifference(v("a",t,e,a),v("b",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const _B=(t,e,a,r=Nt)=>{switch(t.op){case"Abs":case"ComplexAbs":return[r.abs(v("x",t,e,a))];case"Acos":return[r.acos(v("x",t,e,a))];case"Acosh":return[r.acosh(v("x",t,e,a))];case"Asin":return[r.asin(v("x",t,e,a))];case"Asinh":return[r.asinh(v("x",t,e,a))];case"Atan":return[r.atan(v("x",t,e,a))];case"Atan2":return[r.atan2(v("x",t,e,a),v("y",t,e,a))];case"Atanh":return[r.atanh(v("x",t,e,a))];case"Ceil":return[r.ceil(v("x",t,e,a))];case"Complex":return[r.complex(v("real",t,e,a),v("imag",t,e,a))];case"Cos":return[r.cos(v("x",t,e,a))];case"Cosh":return[r.cosh(v("x",t,e,a))];case"Elu":return[r.elu(v("x",t,e,a))];case"Erf":return[r.erf(v("x",t,e,a))];case"Exp":return[r.exp(v("x",t,e,a))];case"Expm1":return[r.expm1(v("x",t,e,a))];case"Floor":return[r.floor(v("x",t,e,a))];case"Log":return[r.log(v("x",t,e,a))];case"Log1p":return[r.log1p(v("x",t,e,a))];case"Imag":return[r.imag(v("x",t,e,a))];case"Neg":return[r.neg(v("x",t,e,a))];case"Reciprocal":return[r.reciprocal(v("x",t,e,a))];case"Real":return[r.real(v("x",t,e,a))];case"Relu":return[r.relu(v("x",t,e,a))];case"Round":return[r.round(v("x",t,e,a))];case"Selu":return[r.selu(v("x",t,e,a))];case"Sigmoid":return[r.sigmoid(v("x",t,e,a))];case"Sin":return[r.sin(v("x",t,e,a))];case"Sign":return[r.sign(v("x",t,e,a))];case"Sinh":return[r.sinh(v("x",t,e,a))];case"Softplus":return[r.softplus(v("x",t,e,a))];case"Sqrt":return[r.sqrt(v("x",t,e,a))];case"Square":return[r.square(v("x",t,e,a))];case"Tanh":return[r.tanh(v("x",t,e,a))];case"Tan":return[r.tan(v("x",t,e,a))];case"ClipByValue":return[r.clipByValue(v("x",t,e,a),v("clipValueMin",t,e,a),v("clipValueMax",t,e,a))];case"Relu6":return[r.relu6(v("x",t,e,a))];case"Rsqrt":return[r.rsqrt(St(t.inputNames[0],e,a))];case"LeakyRelu":return[r.leakyRelu(v("x",t,e,a),v("alpha",t,e,a))];case"Prelu":return[r.prelu(v("x",t,e,a),v("alpha",t,e,a))];case"IsNan":return[r.isNaN(St(t.inputNames[0],e,a))];case"IsInf":return[r.isInf(St(t.inputNames[0],e,a))];case"IsFinite":return[r.isFinite(St(t.inputNames[0],e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function Nn(t,e,a=""){if(!(typeof t=="number"||typeof e=="number")){O(t.length===e.length,()=>a+` Shapes ${t} and ${e} must match`);for(let r=0;r<t.length;r++){const i=t[r],l=e[r];O(i<0||l<0||i===l,()=>a+` Shapes ${t} and ${e} must match`)}}}function Bb(t){return!(typeof t=="number"||t.some(e=>e<0))}function Gi(t,e,a){let r=dd(t,a);const i=!Bb(r);if(i&&e.length===0)throw new Error(`Tried to calculate elements of an empty list with non-fully-defined elementShape: ${r}`);if(i&&e.forEach(l=>{r=dd(l.shape,r)}),!Bb(r))throw new Error(`Non-fully-defined elementShape: ${r}`);return r}function dd(t,e){if(typeof t=="number")return e;if(typeof e=="number")return t;if(t.length!==e.length)throw new Error(`Incompatible ranks during merge: ${t} vs. ${e}`);const a=[];for(let r=0;r<t.length;++r){const i=t[r],l=e[r];if(i>=0&&l>=0&&i!==l)throw new Error(`Incompatible shape during merge: ${t} vs. ${e}`);a[r]=i>=0?i:l}return a}class xB{constructor(e,a,r,i,l,c,f){this.name=e,this.dtype=a,this.maxSize=r,this.elementShape=i,this.identicalElementShapes=l,this.dynamicSize=c,this.clearAfterRead=f,this.tensors=[],this.closed_=!1,this.idTensor=ke(0),On(this.idTensor)}get id(){return this.idTensor.id}get closed(){return this.closed_}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.tensor.id))&&a.tensor.dispose()}),this.tensors=[],this.closed_=!0,this.idTensor.dispose()}size(){return this.tensors.length}read(e){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||e>=this.size())throw new Error(`Tried to read from index ${e}, but array size is: ${this.size()}`);const a=this.tensors[e];if(a.cleared)throw new Error(`TensorArray ${this.name}: Could not read index ${e} twice because it was cleared after a previous read (perhaps try setting clear_after_read = false?).`);return this.clearAfterRead&&(a.cleared=!0),a.read=!0,a.tensor}readMany(e){return e.map(a=>this.read(a))}write(e,a){if(this.closed_)throw new Error(`TensorArray ${this.name} has already been closed.`);if(e<0||!this.dynamicSize&&e>=this.maxSize)throw new Error(`Tried to write to index ${e}, but array is not resizeable and size is: ${this.maxSize}`);const r=this.tensors[e]||{};if(a.dtype!==this.dtype)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e},
          because the value dtype is ${a.dtype}, but TensorArray dtype is ${this.dtype}.`);if(this.size()===0&&(this.elementShape==null||this.elementShape.length===0)&&(this.elementShape=a.shape),Nn(this.elementShape,a.shape,`TensorArray ${this.name}: Could not write to TensorArray index ${e}.`),r.read)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been read.`);if(r.written)throw new Error(`TensorArray ${this.name}: Could not write to TensorArray index ${e}, because it has already been written.`);r.tensor=a,On(a),r.written=!0,this.tensors[e]=r}writeMany(e,a){if(e.length!==a.length)throw new Error(`TensorArray ${this.name}: could not write multiple tensors,because the index size: ${e.length} is not the same as tensors size: ${a.length}.`);e.forEach((r,i)=>this.write(r,a[i]))}gather(e,a){if(a&&a!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but gather requested dtype ${a}`);if(e)e=e.slice(0,this.size());else{e=[];for(let i=0;i<this.size();i++)e.push(i)}if(e.length===0)return Dn([],[0].concat(this.elementShape));const r=this.readMany(e);return Nn(this.elementShape,r[0].shape,"TensorArray shape mismatch: "),Vn(r,0)}concat(e){if(e&&e!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but concat requested dtype ${e}`);if(this.size()===0)return Dn([],[0].concat(this.elementShape));const a=[];for(let i=0;i<this.size();i++)a.push(i);const r=this.readMany(a);return Nn(this.elementShape,r[0].shape,`TensorArray shape mismatch: tensor array shape (${this.elementShape}) vs first tensor shape (${r[0].shape})`),At(r,0)}scatter(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);if(e.length!==a.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${a.shape[0]}`);const r=Math.max(...e);if(!this.dynamicSize&&r>=this.maxSize)throw new Error(`Max index must be < array size (${r}  vs. ${this.maxSize})`);this.writeMany(e,ns(a,0))}split(e,a){if(a.dtype!==this.dtype)throw new Error(`TensorArray dtype is ${this.dtype} but tensor has dtype ${a.dtype}`);let r=0;const i=e.map(h=>(r+=h,r));if(r!==a.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${a.shape}`);if(!this.dynamicSize&&e.length!==this.maxSize)throw new Error(`TensorArray's size is not equal to the size of lengths (${this.maxSize} vs. ${e.length}), and the TensorArray is not marked as dynamically resizeable`);const l=r===0?0:a.size/r,c=[];Ie(()=>{a=Q(a,[1,r,l]);for(let h=0;h<e.length;++h){const g=[0,h===0?0:i[h-1],0],y=[1,e[h],l];c[h]=Q(Ge(a,g,y),this.elementShape)}return c});const f=[];for(let h=0;h<e.length;h++)f[h]=h;this.writeMany(f,c)}}class Fs{get id(){return this.idTensor.id}constructor(e,a,r,i=-1){this.tensors=e,this.elementShape=a,this.elementDtype=r,e?.forEach(l=>{if(r!==l.dtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${l.dtype}`);Nn(a,l.shape,"TensorList shape mismatch: "),On(l)}),this.idTensor=ke(0),this.maxNumElements=i,On(this.idTensor)}copy(){return new Fs([...this.tensors],this.elementShape,this.elementDtype)}clearAndClose(e){this.tensors.forEach(a=>{(e==null||!e.has(a.id))&&a.dispose()}),this.tensors.length=0,this.idTensor.dispose()}size(){return this.tensors.length}stack(e,a,r=-1){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(r!==-1&&this.tensors.length!==r)throw new Error(`Operation expected a list with ${r} elements but got a list with ${this.tensors.length} elements.`);Nn(e,this.elementShape,"TensorList shape mismatch: ");const i=Gi(this.elementShape,this.tensors,e);return Ie(()=>{const l=this.tensors.map(c=>Q(c,i));return Vn(l,0)})}popBack(e,a){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);if(this.size()===0)throw new Error("Trying to pop from an empty list.");const r=Gi(this.elementShape,this.tensors,e),i=this.tensors.pop();return i.kept=!1,Nn(i.shape,e,"TensorList shape mismatch: "),Q(i,r)}pushBack(e){if(e.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${e.dtype}, but list elements ${this.elementDtype}`);if(Nn(e.shape,this.elementShape,"TensorList shape mismatch: "),this.maxNumElements===this.size())throw new Error("Trying to push element into a full list.");On(e),this.tensors.push(e)}resize(e){if(e<0)throw new Error(`TensorListResize expects size to be non-negative. Got: ${e}`);if(this.maxNumElements!==-1&&e>this.maxNumElements)throw new Error(`TensorListResize input size ${e} is greater maxNumElement ${this.maxNumElements}.`);const a=new Fs([],this.elementShape,this.elementDtype,this.maxNumElements);a.tensors.length=e;for(let r=0;r<Math.min(this.tensors.length,e);++r)a.tensors[r]=this.tensors[r];return a}getItem(e,a,r){if(r!==this.elementDtype)throw new Error(`Invalid data types; op elements ${r}, but list elements ${this.elementDtype}`);if(e<0||e>this.tensors.length)throw new Error(`Trying to access element ${e} in a list with ${this.tensors.length} elements.`);if(this.tensors[e]==null)throw new Error(`element at index ${e} is null.`);Nn(this.tensors[e].shape,a,"TensorList shape mismatch: ");const i=Gi(this.elementShape,this.tensors,a);return Q(this.tensors[e],i)}setItem(e,a){if(a.dtype!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a.dtype}, but list elements ${this.elementDtype}`);if(e<0||this.maxNumElements!==-1&&e>=this.maxNumElements)throw new Error(`Trying to set element ${e} in a list with max ${this.maxNumElements} elements.`);Nn(this.elementShape,a.shape,"TensorList shape mismatch: "),On(a),this.tensors[e]!=null&&(this.tensors[e].kept=!1),this.tensors[e]=a}gather(e,a,r){if(a!==this.elementDtype)throw new Error(`Invalid data types; op elements ${a}, but list elements ${this.elementDtype}`);Nn(this.elementShape,r,"TensorList shape mismatch: "),e=e.slice(0,this.size());const i=Gi(this.elementShape,this.tensors,r);return e.length===0?Dn([],[0].concat(i)):Ie(()=>{const l=e.map(c=>Q(this.tensors[c],i));return Vn(l,0)})}concat(e,a){if(e&&e!==this.elementDtype)throw new Error(`TensorList dtype is ${this.elementDtype} but concat requested dtype ${e}`);Nn(this.elementShape,a,"TensorList shape mismatch: ");const r=Gi(this.elementShape,this.tensors,a);return this.size()===0?Dn([],[0].concat(r)):Ie(()=>{const i=this.tensors.map(l=>Q(l,r));return At(i,0)})}}function AB(t,e,a){const r=t.dtype;if(t.shape.length<1)throw new Error(`Tensor must be at least a vector, but saw shape: ${t.shape}`);if(t.dtype!==a)throw new Error(`Invalid data types; op elements ${t.dtype}, but list elements ${a}`);const i=t.shape.slice(1);Nn(i,e,"TensorList shape mismatch: ");const l=ns(t);return new Fs(l,e,r)}function OB(t,e,a,r){return new Fs([],t,e,r)}function DB(t,e,a,r){if(e.length!==t.shape[0])throw new Error(`Expected len(indices) == tensor.shape[0], but saw: ${e.length} vs. ${t.shape[0]}`);const i=Math.max(...e);if(r!=null&&r!==-1&&i>=r)throw new Error(`Max index must be < array size (${i}  vs. ${r})`);const l=new Fs([],a,t.dtype,r),c=ns(t,0);return e.forEach((f,h)=>{l.setItem(f,c[h])}),l}function $B(t,e,a){let r=0;const i=e.map(g=>(r+=g,r));if(r!==t.shape[0])throw new Error(`Expected sum of lengths to be equal to
          tensor.shape[0], but sum of lengths is
        ${r}, and tensor's shape is: ${t.shape}`);const l=t.shape.slice(1),c=dd(l,a),f=r===0?0:t.size/r,h=Ie(()=>{const g=[];t=Q(t,[1,r,f]);for(let y=0;y<e.length;++y){const N=[0,y===0?0:i[y-1],0],w=[1,e[y],f];g[y]=Q(Ge(t,N,w),c)}return t.dispose(),g}),m=new Fs([],a,t.dtype,e.length);for(let g=0;g<h.length;g++)m.setItem(g,h[g]);return m}const kB=async(t,e,a)=>{switch(t.op){case"If":case"StatelessIf":{const r=v("thenBranch",t,e,a),i=v("elseBranch",t,e,a),l=v("cond",t,e,a),c=v("args",t,e,a);return(await l.data())[0]?a.functionMap[r].executeFunctionAsync(c,a.tensorArrayMap,a.tensorListMap):a.functionMap[i].executeFunctionAsync(c,a.tensorArrayMap,a.tensorListMap)}case"While":case"StatelessWhile":{const r=v("body",t,e,a),i=v("cond",t,e,a),l=v("args",t,e,a),c=await a.functionMap[i].executeFunctionAsync(l,a.tensorArrayMap,a.tensorListMap),f=l.map(g=>g.id);let h=await c[0].data();c.forEach(g=>{!g.kept&&f.indexOf(g.id)===-1&&g.dispose()});let m=l;for(;h[0];){const g=m;m=await a.functionMap[r].executeFunctionAsync(m,a.tensorArrayMap,a.tensorListMap);const y=m.map(N=>N.id);g.forEach(N=>{!N.kept&&f.indexOf(N.id)===-1&&y.indexOf(N.id)===-1&&N.dispose()});const b=await a.functionMap[i].executeFunctionAsync(m,a.tensorArrayMap,a.tensorListMap);h=await b[0].data(),b.forEach(N=>{!N.kept&&f.indexOf(N.id)===-1&&y.indexOf(N.id)===-1&&N.dispose()})}return m}case"LoopCond":{const r=v("pred",t,e,a);return[fa(r)]}case"Switch":{const r=v("pred",t,e,a);let i=v("data",t,e,a);return i.kept||(i=fa(i)),(await r.data())[0]?[void 0,i]:[i,void 0]}case"Merge":{const r=t.inputNames.find(i=>St(i,e,a)!==void 0);if(r){const i=St(r,e,a);return[fa(i)]}return}case"Enter":{const r=v("frameName",t,e,a),i=v("tensor",t,e,a);return a.enterFrame(r),[fa(i)]}case"Exit":{const r=v("tensor",t,e,a);return a.exitFrame(),[fa(r)]}case"NextIteration":{const r=v("tensor",t,e,a);return a.nextIteration(),[fa(r)]}case"TensorArrayV3":{const r=v("size",t,e,a),i=v("dtype",t,e,a),l=v("elementShape",t,e,a),c=v("dynamicSize",t,e,a),f=v("clearAfterRead",t,e,a),h=v("identicalElementShapes",t,e,a),m=v("name",t,e,a),g=new xB(m,i,r,l,h,c,f);return a.addTensorArray(g),[g.idTensor,ke(1)]}case"TensorArrayWriteV3":{const r=v("tensorArrayId",t,e,a),i=v("index",t,e,a),l=v("tensor",t,e,a),c=a.getTensorArray(r.id);return c.write(i,l),[c.idTensor]}case"TensorArrayReadV3":{const r=v("tensorArrayId",t,e,a),i=v("index",t,e,a);return[a.getTensorArray(r.id).read(i)]}case"TensorArrayGatherV3":{const r=v("tensorArrayId",t,e,a),i=v("indices",t,e,a),l=v("dtype",t,e,a);return[a.getTensorArray(r.id).gather(i,l)]}case"TensorArrayScatterV3":{const r=v("tensorArrayId",t,e,a),i=v("indices",t,e,a),l=v("tensor",t,e,a),c=a.getTensorArray(r.id);return c.scatter(i,l),[c.idTensor]}case"TensorArrayConcatV3":{const r=v("tensorArrayId",t,e,a),i=a.getTensorArray(r.id),l=v("dtype",t,e,a);return[i.concat(l)]}case"TensorArraySplitV3":{const r=v("tensorArrayId",t,e,a),i=v("tensor",t,e,a),l=v("lengths",t,e,a),c=a.getTensorArray(r.id);return c.split(l,i),[c.idTensor]}case"TensorArraySizeV3":{const r=v("tensorArrayId",t,e,a),i=a.getTensorArray(r.id);return[ke(i.size(),"int32")]}case"TensorArrayCloseV3":{const r=v("tensorArrayId",t,e,a),i=a.getTensorArray(r.id);return i.clearAndClose(),[i.idTensor]}case"TensorListSetItem":{const r=v("tensorListId",t,e,a),i=v("index",t,e,a),l=v("tensor",t,e,a),c=a.getTensorList(r.id);return c.setItem(i,l),[c.idTensor]}case"TensorListGetItem":{const r=v("tensorListId",t,e,a),i=v("index",t,e,a),l=v("elementShape",t,e,a),c=v("elementDType",t,e,a);return[a.getTensorList(r.id).getItem(i,l,c)]}case"TensorListScatterV2":case"TensorListScatter":{const r=v("indices",t,e,a),i=v("tensor",t,e,a),l=v("elementShape",t,e,a),c=v("numElements",t,e,a),f=DB(i,r,l,c);return a.addTensorList(f),[f.idTensor]}case"TensorListReserve":case"EmptyTensorList":{const r=v("elementShape",t,e,a),i=v("elementDType",t,e,a);let l;t.op==="TensorListReserve"?l="numElements":l="maxNumElements";const c=v(l,t,e,a),f=t.op==="TensorListReserve"?-1:c,h=OB(r,i,c,f);return a.addTensorList(h),[h.idTensor]}case"TensorListGather":{const r=v("tensorListId",t,e,a),i=v("indices",t,e,a),l=v("elementShape",t,e,a),c=v("elementDType",t,e,a);return[a.getTensorList(r.id).gather(i,c,l)]}case"TensorListStack":{const r=v("tensorListId",t,e,a),i=v("elementShape",t,e,a),l=v("elementDType",t,e,a),c=v("numElements",t,e,a);return[a.getTensorList(r.id).stack(i,l,c)]}case"TensorListFromTensor":{const r=v("tensor",t,e,a),i=v("elementShape",t,e,a),l=v("elementDType",t,e,a),c=AB(r,i,l);return a.addTensorList(c),[c.idTensor]}case"TensorListConcat":case"TensorListConcatV2":{const r=v("tensorListId",t,e,a),i=a.getTensorList(r.id),l=v("dtype",t,e,a),c=v("elementShape",t,e,a);return[i.concat(l,c)]}case"TensorListPushBack":{const r=v("tensorListId",t,e,a),i=v("tensor",t,e,a),l=a.getTensorList(r.id);return l.pushBack(i),[l.idTensor]}case"TensorListPopBack":{const r=v("tensorListId",t,e,a),i=v("elementShape",t,e,a),l=v("elementDType",t,e,a);return[a.getTensorList(r.id).popBack(i,l)]}case"TensorListSplit":{const r=v("tensor",t,e,a),i=v("elementShape",t,e,a),l=v("lengths",t,e,a),c=$B(r,l,i);return a.addTensorList(c),[c.idTensor]}case"TensorListLength":{const r=v("tensorListId",t,e,a),i=a.getTensorList(r.id);return[ke(i.size(),"int32")]}case"TensorListResize":{const r=v("tensorListId",t,e,a),i=v("size",t,e,a),c=a.getTensorList(r.id).resize(i);return a.addTensorList(c),[c.idTensor]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};function Ib(t,e,a){const[r,i]=v("fusedOps",t,e,a),l=r==="biasadd",c=!l,f=i==="prelu",h=r==="fusedbatchnorm",m=v("numArgs",t,e,a);if(l){if(f&&m!==2)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!f&&l&&m!==1)throw new Error("FusedConv2d and DepthwiseConv2d with BiasAdd must have one extra argument: bias.")}if(h)throw new Error("FusedConv2d and DepthwiseConv2d with FusedBatchNorm is not supported");const g=v("strides",t,e,a),y=fu(t,e,a),b=v("dataFormat",t,e,a).toUpperCase(),N=v("dilations",t,e,a);let[w,x]=v("args",t,e,a);c&&(x=w,w=void 0);const _=v("leakyreluAlpha",t,e,a);return{stride:g,pad:y,dataFormat:b,dilations:N,biasArg:w,preluArg:x,activationFunc:i,leakyreluAlpha:_}}const RB=(t,e,a,r=Nt)=>{switch(t.op){case"Conv1D":{const i=v("stride",t,e,a),l=v("pad",t,e,a),c=v("dataFormat",t,e,a).toUpperCase(),f=v("dilation",t,e,a);return[r.conv1d(v("x",t,e,a),v("filter",t,e,a),i,l,c,f)]}case"Conv2D":{const i=v("strides",t,e,a),l=fu(t,e,a),c=v("dataFormat",t,e,a).toUpperCase(),f=v("dilations",t,e,a);return[r.conv2d(v("x",t,e,a),v("filter",t,e,a),[i[1],i[2]],l,c,[f[1],f[2]])]}case"_FusedConv2D":{const{stride:i,pad:l,dataFormat:c,dilations:f,biasArg:h,preluArg:m,activationFunc:g,leakyreluAlpha:y}=Ib(t,e,a);return[r.fused.conv2d({x:v("x",t,e,a),filter:v("filter",t,e,a),strides:[i[1],i[2]],pad:l,dataFormat:c,dilations:[f[1],f[2]],bias:h,activation:g,preluActivationWeights:m,leakyreluAlpha:y})]}case"FusedDepthwiseConv2dNative":{const{stride:i,pad:l,dataFormat:c,dilations:f,biasArg:h,preluArg:m,activationFunc:g,leakyreluAlpha:y}=Ib(t,e,a);return[r.fused.depthwiseConv2d({x:v("x",t,e,a),filter:v("filter",t,e,a),strides:[i[1],i[2]],pad:l,dataFormat:c,dilations:[f[1],f[2]],bias:h,activation:g,preluActivationWeights:m,leakyreluAlpha:y})]}case"Conv2DBackpropInput":case"Conv2dTranspose":{const i=v("outputShape",t,e,a),l=v("strides",t,e,a),c=fu(t,e,a);return[r.conv2dTranspose(v("x",t,e,a),v("filter",t,e,a),i,[l[1],l[2]],c)]}case"DepthwiseConv2dNative":case"DepthwiseConv2d":{const i=v("strides",t,e,a),l=fu(t,e,a),c=v("dilations",t,e,a),f=v("dataFormat",t,e,a).toUpperCase();return[r.depthwiseConv2d(v("input",t,e,a),v("filter",t,e,a),[i[1],i[2]],l,f,[c[1],c[2]])]}case"Conv3D":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("dataFormat",t,e,a).toUpperCase(),f=v("dilations",t,e,a);return[r.conv3d(v("x",t,e,a),v("filter",t,e,a),[i[1],i[2],i[3]],l,c,[f[1],f[2],f[3]])]}case"AvgPool":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("kernelSize",t,e,a);return[r.avgPool(v("x",t,e,a),[c[1],c[2]],[i[1],i[2]],l)]}case"MaxPool":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("kernelSize",t,e,a);return[r.maxPool(v("x",t,e,a),[c[1],c[2]],[i[1],i[2]],l)]}case"MaxPoolWithArgmax":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("kernelSize",t,e,a),f=v("includeBatchInIndex",t,e,a),{result:h,indexes:m}=r.maxPoolWithArgmax(v("x",t,e,a),[c[1],c[2]],[i[1],i[2]],l,f);return[h,m]}case"AvgPool3D":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("kernelSize",t,e,a);return[r.avgPool3d(v("x",t,e,a),[c[1],c[2],c[3]],[i[1],i[2],i[3]],l)]}case"MaxPool3D":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("kernelSize",t,e,a);return[r.maxPool3d(v("x",t,e,a),[c[1],c[2],c[3]],[i[1],i[2],i[3]],l)]}case"Dilation2D":{const i=v("strides",t,e,a),l=v("pad",t,e,a),c=v("dilations",t,e,a),f=i[1],h=i[2],m=c[1],g=c[2];return[r.dilation2d(v("x",t,e,a),v("filter",t,e,a),[f,h],l,[m,g],"NHWC")]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const zB=(t,e,a,r=Nt)=>{switch(t.op){case"Fill":{const i=v("shape",t,e,a),l=v("dtype",t,e,a),c=v("value",t,e,a);return[r.fill(i,c,l)]}case"LinSpace":{const i=v("start",t,e,a),l=v("stop",t,e,a),c=v("num",t,e,a);return[r.linspace(i,l,c)]}case"Multinomial":{const i=v("logits",t,e,a),l=v("numSamples",t,e,a),c=v("seed",t,e,a);return[r.multinomial(i,l,c)]}case"OneHot":{const i=v("indices",t,e,a),l=v("depth",t,e,a),c=v("onValue",t,e,a),f=v("offValue",t,e,a),h=v("dtype",t,e,a);return[r.oneHot(i,l,c,f,h)]}case"Ones":return[r.ones(v("shape",t,e,a),v("dtype",t,e,a))];case"OnesLike":return[r.onesLike(v("x",t,e,a))];case"RandomStandardNormal":return[r.randomStandardNormal(v("shape",t,e,a),v("dtype",t,e,a),v("seed",t,e,a))];case"RandomUniform":return[r.randomUniform(v("shape",t,e,a),v("minval",t,e,a),v("maxval",t,e,a),v("dtype",t,e,a))];case"RandomUniformInt":return[r.randomUniformInt(v("shape",t,e,a),v("minval",t,e,a),v("maxval",t,e,a),v("seed",t,e,a))];case"Range":{const i=v("start",t,e,a),l=v("stop",t,e,a),c=v("step",t,e,a);return[r.range(i,l,c,v("dtype",t,e,a))]}case"TruncatedNormal":{const i=v("shape",t,e,a),l=v("mean",t,e,a),c=v("stdDev",t,e,a),f=v("seed",t,e,a);return[r.truncatedNormal(i,l,c,v("dtype",t,e,a),f)]}case"Zeros":return[r.zeros(v("shape",t,e,a),v("dtype",t,e,a))];case"ZerosLike":return[r.zerosLike(v("x",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function Rh(t,e,a){const r=v("boxes",t,e,a),i=v("scores",t,e,a),l=v("maxOutputSize",t,e,a),c=v("iouThreshold",t,e,a),f=v("scoreThreshold",t,e,a),h=v("softNmsSigma",t,e,a);return{boxes:r,scores:i,maxOutputSize:l,iouThreshold:c,scoreThreshold:f,softNmsSigma:h}}const CB=async(t,e,a,r,i=Nt)=>{switch(t.op){case"NonMaxSuppressionV5":{const{boxes:l,scores:c,maxOutputSize:f,iouThreshold:h,scoreThreshold:m,softNmsSigma:g}=Rh(t,e,a),y=await i.image.nonMaxSuppressionWithScoreAsync(l,c,f,h,m,g);return[y.selectedIndices,y.selectedScores]}case"NonMaxSuppressionV4":{const{boxes:l,scores:c,maxOutputSize:f,iouThreshold:h,scoreThreshold:m}=Rh(t,e,a),g=v("padToMaxOutputSize",t,e,a),y=await i.image.nonMaxSuppressionPaddedAsync(l,c,f,h,m,g);return[y.selectedIndices,y.validOutputs]}case"NonMaxSuppressionV3":case"NonMaxSuppressionV2":{const{boxes:l,scores:c,maxOutputSize:f,iouThreshold:h,scoreThreshold:m}=Rh(t,e,a);return[await i.image.nonMaxSuppressionAsync(l,c,f,h,m)]}case"Where":{const l=i.cast(v("condition",t,e,a),"bool"),c=[await i.whereAsync(l)];return l.dispose(),c}case"ListDiff":return i.setdiff1dAsync(v("x",t,e,a),v("y",t,e,a));default:throw TypeError(`Node type ${t.op} is not implemented`)}};const jB=(t,e,a,r=Nt)=>{switch(t.op){case"LowerBound":{const i=v("sortedSequence",t,e,a),l=v("values",t,e,a);return[r.lowerBound(i,l)]}case"TopKV2":{const i=v("x",t,e,a),l=v("k",t,e,a),c=v("sorted",t,e,a),f=r.topk(i,l,c);return[f.values,f.indices]}case"UpperBound":{const i=v("sortedSequence",t,e,a),l=v("values",t,e,a);return[r.upperBound(i,l)]}case"Unique":{const i=v("x",t,e,a),l=r.unique(i);return[l.values,l.indices]}case"UniqueV2":{const i=v("x",t,e,a),l=v("axis",t,e,a),c=r.unique(i,l);return[c.values,c.indices]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const BB=(t,e,a,r=Nt)=>{switch(t.op){case"Const":return e[t.name];case"PlaceholderWithDefault":const i=v("default",t,e,a);return[St(t.name,e,a)||i];case"Placeholder":return[St(t.name,e,a)];case"Identity":case"StopGradient":case"FakeQuantWithMinMaxVars":{const g=v("x",t,e,a);return[fa(g)]}case"IdentityN":return v("x",t,e,a).map(g=>fa(g));case"Snapshot":const l=v("x",t,e,a);return[fa(l)];case"Shape":return[r.tensor1d(v("x",t,e,a).shape,"int32")];case"ShapeN":return v("x",t,e,a).map(g=>r.tensor1d(g.shape));case"Size":return[r.scalar(v("x",t,e,a).size,"int32")];case"Rank":return[r.scalar(v("x",t,e,a).rank,"int32")];case"NoOp":return[r.scalar(1)];case"Print":const c=v("x",t,e,a),f=v("data",t,e,a),h=v("message",t,e,a),m=v("summarize",t,e,a);console.warn("The graph has a tf.print() operation,usually used for debugging, which slows down performance."),console.log(h);for(let g=0;g<f.length;g++)console.log(Array.prototype.slice.call(f[g].dataSync()).slice(0,m));return[c];default:throw TypeError(`Node type ${t.op} is not implemented`)}};class IB{get id(){return this.handle.id}constructor(e,a){this.keyDType=e,this.valueDType=a,this.handle=ke(0),this.tensorMap=new Map,On(this.handle)}clearAndClose(){this.tensorMap.forEach(e=>e.dispose()),this.tensorMap.clear(),this.handle.dispose()}size(){return this.tensorMap.size}tensorSize(){return ke(this.size(),"int32")}async import(e,a){this.checkKeyAndValueTensor(e,a);const r=await e.data();return this.tensorMap.forEach(i=>i.dispose()),this.tensorMap.clear(),Ie(()=>{const i=ns(a),l=r.length,c=i.length;O(l===c,()=>`The number of elements doesn't match, keys has ${l} elements, the values has ${c} elements.`);for(let f=0;f<l;f++){const h=r[f],m=i[f];On(m),this.tensorMap.set(h,m)}return this.handle})}async find(e,a){this.checkKeyAndValueTensor(e,a);const r=await e.data();return Ie(()=>{const i=[];for(let l=0;l<r.length;l++){const c=r[l],f=this.findWithDefault(c,a);i.push(f)}return Vn(i)})}findWithDefault(e,a){const r=this.tensorMap.get(e);return r??a}checkKeyAndValueTensor(e,a){if(e.dtype!==this.keyDType)throw new Error(`Expect key dtype ${this.keyDType}, but got ${e.dtype}`);if(a.dtype!==this.valueDType)throw new Error(`Expect value dtype ${this.valueDType}, but got ${a.dtype}`)}}const LB=async(t,e,a,r)=>{switch(t.op){case"HashTable":case"HashTableV2":{const i=r.getHashTableHandleByName(t.name);if(i!=null)return[i];{const l=v("keyDType",t,e,a),c=v("valueDType",t,e,a),f=new IB(l,c);return r.addHashTable(t.name,f),[f.handle]}}case"InitializeTable":case"InitializeTableV2":case"LookupTableImport":case"LookupTableImportV2":{const i=v("tableHandle",t,e,a,r),l=v("keys",t,e,a),c=v("values",t,e,a);return[await r.getHashTableById(i.id).import(l,c)]}case"LookupTableFind":case"LookupTableFindV2":{const i=v("tableHandle",t,e,a,r),l=v("keys",t,e,a),c=v("defaultValue",t,e,a);return[await r.getHashTableById(i.id).find(l,c)]}case"LookupTableSize":case"LookupTableSizeV2":{const i=v("tableHandle",t,e,a,r);return[r.getHashTableById(i.id).tensorSize()]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const MB=(t,e,a,r=Nt)=>{switch(t.op){case"ResizeBilinear":{const i=v("images",t,e,a),l=v("size",t,e,a),c=v("alignCorners",t,e,a),f=v("halfPixelCenters",t,e,a);return[r.image.resizeBilinear(i,[l[0],l[1]],c,f)]}case"ResizeNearestNeighbor":{const i=v("images",t,e,a),l=v("size",t,e,a),c=v("alignCorners",t,e,a),f=v("halfPixelCenters",t,e,a);return[r.image.resizeNearestNeighbor(i,[l[0],l[1]],c,f)]}case"CropAndResize":{const i=v("image",t,e,a),l=v("boxes",t,e,a),c=v("boxInd",t,e,a),f=v("cropSize",t,e,a),h=v("method",t,e,a),m=v("extrapolationValue",t,e,a);return[r.image.cropAndResize(i,l,c,f,h,m)]}case"ImageProjectiveTransformV3":{const i=v("images",t,e,a),l=v("transforms",t,e,a),c=v("outputShape",t,e,a),f=v("fillValue",t,e,a),h=v("interpolation",t,e,a),m=v("fillMode",t,e,a);return[r.image.transform(i,l,h.toLowerCase(),m.toLowerCase(),f,c)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const UB=(t,e,a,r=Nt)=>{switch(t.op){case"Equal":return[r.equal(v("a",t,e,a),v("b",t,e,a))];case"NotEqual":return[r.notEqual(v("a",t,e,a),v("b",t,e,a))];case"Greater":return[r.greater(v("a",t,e,a),v("b",t,e,a))];case"GreaterEqual":return[r.greaterEqual(v("a",t,e,a),v("b",t,e,a))];case"Less":return[r.less(v("a",t,e,a),v("b",t,e,a))];case"LessEqual":return[r.lessEqual(v("a",t,e,a),v("b",t,e,a))];case"LogicalAnd":return[r.logicalAnd(v("a",t,e,a),v("b",t,e,a))];case"LogicalNot":return[r.logicalNot(v("a",t,e,a))];case"LogicalOr":return[r.logicalOr(v("a",t,e,a),v("b",t,e,a))];case"Select":case"SelectV2":return[r.where(v("condition",t,e,a),v("a",t,e,a),v("b",t,e,a))];case"BitwiseAnd":return[r.bitwiseAnd(v("a",t,e,a),v("b",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const FB=(t,e,a,r=Nt)=>{switch(t.op){case"BatchMatMul":case"BatchMatMulV2":case"MatMul":return[r.matMul(v("a",t,e,a),v("b",t,e,a),v("transposeA",t,e,a),v("transposeB",t,e,a))];case"Einsum":return[r.einsum(v("equation",t,e,a),...v("tensors",t,e,a))];case"Transpose":return[r.transpose(v("x",t,e,a),v("perm",t,e,a))];case"_FusedMatMul":const[i,l]=v("fusedOps",t,e,a),c=i==="biasadd",f=l==="prelu",h=v("numArgs",t,e,a),m=v("leakyreluAlpha",t,e,a);if(c){if(f&&h!==2)throw new Error("Fused MatMul with BiasAdd and Prelu must have two extra arguments: bias and alpha.");if(!f&&h!==1)throw new Error("Fused MatMul with BiasAdd must have one extra argument: bias.")}const[g,y]=v("args",t,e,a);return[r.fused.matMul({a:v("a",t,e,a),b:v("b",t,e,a),transposeA:v("transposeA",t,e,a),transposeB:v("transposeB",t,e,a),bias:g,activation:l,preluActivationWeights:y,leakyreluAlpha:m})];case"MatrixBandPart":return[r.linalg.bandPart(v("a",t,e,a),v("numLower",t,e,a),v("numUpper",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const qB=(t,e,a,r=Nt)=>{switch(t.op){case"EuclideanNorm":return[r.euclideanNorm(v("x",t,e,a),v("axis",t,e,a),v("keepDims",t,e,a))];case"FusedBatchNorm":case"FusedBatchNormV2":return[r.batchNorm(v("x",t,e,a),v("mean",t,e,a),v("variance",t,e,a),v("offset",t,e,a),v("scale",t,e,a),v("epsilon",t,e,a))];case"FusedBatchNormV3":return[r.batchNorm(v("x",t,e,a),v("mean",t,e,a),v("variance",t,e,a),v("offset",t,e,a),v("scale",t,e,a),v("epsilon",t,e,a))];case"LRN":return[r.localResponseNormalization(v("x",t,e,a),v("radius",t,e,a),v("bias",t,e,a),v("alpha",t,e,a),v("beta",t,e,a))];case"Softmax":return[r.softmax(v("x",t,e,a))];case"LogSoftmax":return[r.logSoftmax(v("x",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const HB=(t,e,a,r=Nt)=>{switch(t.op){case"RaggedGather":{const{outputNestedSplits:i,outputDenseValues:l}=r.raggedGather(v("paramsNestedSplits",t,e,a),v("paramsDenseValues",t,e,a),v("indices",t,e,a),v("outputRaggedRank",t,e,a));return i.concat(l)}case"RaggedRange":{const{rtNestedSplits:i,rtDenseValues:l}=r.raggedRange(v("starts",t,e,a),v("limits",t,e,a),v("splits",t,e,a));return[i,l]}case"RaggedTensorToTensor":return[r.raggedTensorToTensor(v("shape",t,e,a),v("values",t,e,a),v("defaultValue",t,e,a),v("rowPartitionTensors",t,e,a),v("rowPartitionTypes",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const VB=(t,e,a,r=Nt)=>{switch(t.op){case"Max":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.max(v("x",t,e,a),f,h)]}case"Mean":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.mean(v("x",t,e,a),f,h)]}case"Min":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.min(v("x",t,e,a),f,h)]}case"Sum":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.sum(v("x",t,e,a),f,h)]}case"All":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.all(v("x",t,e,a),f,h)]}case"Any":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.any(v("x",t,e,a),f,h)]}case"ArgMax":{const f=v("axis",t,e,a);return[r.argMax(v("x",t,e,a),f)]}case"ArgMin":{const f=v("axis",t,e,a);return[r.argMin(v("x",t,e,a),f)]}case"Prod":{const f=v("axis",t,e,a),h=v("keepDims",t,e,a);return[r.prod(v("x",t,e,a),f,h)]}case"Cumprod":{const f=v("axis",t,e,a),h=v("exclusive",t,e,a),m=v("reverse",t,e,a);return[r.cumprod(v("x",t,e,a),f,h,m)]}case"Cumsum":{const f=v("axis",t,e,a),h=v("exclusive",t,e,a),m=v("reverse",t,e,a);return[r.cumsum(v("x",t,e,a),f,h,m)]}case"Bincount":const i=v("x",t,e,a),l=v("weights",t,e,a),c=v("size",t,e,a);return[r.bincount(i,l,c)];case"DenseBincount":{const f=v("x",t,e,a),h=v("weights",t,e,a),m=v("size",t,e,a),g=v("binaryOutput",t,e,a);return[r.denseBincount(f,h,m,g)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const GB=(t,e,a,r=Nt)=>{switch(t.op){case"ConcatV2":case"Concat":{const i=v("n",t,e,a),l=v("axis",t,e,a);let c=v("tensors",t,e,a);return c=c.slice(0,i),[r.concat(c,l)]}case"Gather":{const i=v("x",t,e,a),l=v("indices",t,e,a);return[r.gather(i,r.cast(l,"int32"),0)]}case"GatherV2":{const i=v("axis",t,e,a),l=v("batchDims",t,e,a),c=v("x",t,e,a),f=v("indices",t,e,a);return[r.gather(c,r.cast(f,"int32"),i,l)]}case"Reverse":{const i=v("dims",t,e,a),l=[];for(let f=0;f<i.length;f++)i[f]&&l.push(f);const c=v("x",t,e,a);return[r.reverse(c,l)]}case"ReverseV2":{const i=v("axis",t,e,a),l=v("x",t,e,a);return[r.reverse(l,i)]}case"Slice":{const i=v("begin",t,e,a),l=v("size",t,e,a);return[r.slice(v("x",t,e,a),i,l)]}case"StridedSlice":{const i=v("begin",t,e,a),l=v("end",t,e,a),c=v("strides",t,e,a),f=v("beginMask",t,e,a),h=v("endMask",t,e,a),m=v("ellipsisMask",t,e,a),g=v("newAxisMask",t,e,a),y=v("shrinkAxisMask",t,e,a),b=v("x",t,e,a);return[r.stridedSlice(b,i,l,c,f,h,m,g,y)]}case"Pack":return Ie(()=>{const i=v("axis",t,e,a),l=v("tensors",t,e,a),c=l[0].shape,f=r.squeeze(l[0]).shape,h=l.map(m=>{const g=kn(m.shape,c);if(!g&&!kn(r.squeeze(m).shape,f))throw new Error("the input tensors shape does not match");return g?m:r.reshape(m,c)});return[r.stack(h,i)]});case"Unpack":{const i=v("axis",t,e,a),l=v("tensor",t,e,a);return r.unstack(l,i)}case"Tile":{const i=v("reps",t,e,a);return[r.tile(v("x",t,e,a),i)]}case"Split":case"SplitV":{const i=v("axis",t,e,a),l=v("numOrSizeSplits",t,e,a),c=v("x",t,e,a);return r.split(c,l,i)}case"ScatterNd":{const i=v("indices",t,e,a),l=v("values",t,e,a),c=v("shape",t,e,a);return[r.scatterND(i,l,c)]}case"GatherNd":{const i=v("x",t,e,a),l=v("indices",t,e,a);return[r.gatherND(i,l)]}case"SparseToDense":{const i=v("sparseIndices",t,e,a),l=v("outputShape",t,e,a),c=v("sparseValues",t,e,a),f=v("defaultValue",t,e,a);return[r.sparseToDense(i,c,l,c.dtype===f.dtype?f:r.cast(f,c.dtype))]}case"TensorScatterUpdate":{const i=v("indices",t,e,a),l=v("values",t,e,a),c=v("tensor",t,e,a);return[r.tensorScatterUpdate(c,i,l)]}default:throw TypeError(`Node type ${t.op} is not implemented`)}};const KB=(t,e,a,r=Nt)=>{switch(t.op){case"SparseFillEmptyRows":{const{outputIndices:i,outputValues:l,emptyRowIndicator:c,reverseIndexMap:f}=r.sparse.sparseFillEmptyRows(v("indices",t,e,a),v("values",t,e,a),v("denseShape",t,e,a),v("defaultValue",t,e,a));return[i,l,c,f]}case"SparseReshape":{const{outputIndices:i,outputShape:l}=r.sparse.sparseReshape(v("inputIndices",t,e,a),v("inputShape",t,e,a),v("newShape",t,e,a));return[i,l]}case"SparseSegmentMean":return[r.sparse.sparseSegmentMean(v("data",t,e,a),v("indices",t,e,a),v("segmentIds",t,e,a))];case"SparseSegmentSum":return[r.sparse.sparseSegmentSum(v("data",t,e,a),v("indices",t,e,a),v("segmentIds",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const YB=(t,e,a,r=Nt)=>{switch(t.op){case"FFT":return[r.fft(v("x",t,e,a))];case"IFFT":return[r.ifft(v("x",t,e,a))];case"RFFT":return[r.rfft(v("x",t,e,a))];case"IRFFT":return[r.irfft(v("x",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const XB=(t,e,a,r=Nt)=>{switch(t.op){case"StaticRegexReplace":return[r.string.staticRegexReplace(v("input",t,e,a),v("pattern",t,e,a),v("rewrite",t,e,a),v("replaceGlobal",t,e,a))];case"StringNGrams":{const{nGrams:i,nGramsSplits:l}=r.string.stringNGrams(v("data",t,e,a),v("dataSplits",t,e,a),v("separator",t,e,a),v("nGramWidths",t,e,a),v("leftPad",t,e,a),v("rightPad",t,e,a),v("padWidth",t,e,a),v("preserveShortSequences",t,e,a));return[i,l]}case"StringSplit":{const{indices:i,values:l,shape:c}=r.string.stringSplit(v("input",t,e,a),v("delimiter",t,e,a),v("skipEmpty",t,e,a));return[i,l,c]}case"StringToHashBucketFast":return[r.string.stringToHashBucketFast(v("input",t,e,a),v("numBuckets",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};const PB=(t,e,a,r=Nt)=>{switch(t.op){case"Cast":return[r.cast(v("x",t,e,a),v("dtype",t,e,a))];case"ExpandDims":{const i=v("axis",t,e,a);return[r.expandDims(v("x",t,e,a),i)]}case"Squeeze":{const i=v("axis",t,e,a);return[r.squeeze(v("x",t,e,a),i)]}case"Reshape":return[r.reshape(v("x",t,e,a),v("shape",t,e,a))];case"EnsureShape":return[r.ensureShape(v("x",t,e,a),v("shape",t,e,a))];case"MirrorPad":return[r.mirrorPad(v("x",t,e,a),v("padding",t,e,a),v("mode",t,e,a))];case"PadV2":case"Pad":return[r.pad(v("x",t,e,a),v("padding",t,e,a),v("constantValue",t,e,a))];case"SpaceToBatchND":{const i=v("blockShape",t,e,a),l=v("paddings",t,e,a);return[r.spaceToBatchND(v("x",t,e,a),i,l)]}case"BatchToSpaceND":{const i=v("blockShape",t,e,a),l=v("crops",t,e,a);return[r.batchToSpaceND(v("x",t,e,a),i,l)]}case"DepthToSpace":{const i=v("blockSize",t,e,a),l=v("dataFormat",t,e,a).toUpperCase();return[r.depthToSpace(v("x",t,e,a),i,l)]}case"BroadcastTo":return[r.broadcastTo(v("x",t,e,a),v("shape",t,e,a))];case"BroadcastArgs":return[r.broadcastArgs(v("s0",t,e,a),v("s1",t,e,a))];default:throw TypeError(`Node type ${t.op} is not implemented`)}};function Lb(t,e,a,r,i=Ie){const l=((c,f,h)=>{switch(c.category){case"arithmetic":return i(()=>EB(c,f,h));case"basic_math":return i(()=>_B(c,f,h));case"control":return kB(c,f,h);case"convolution":return i(()=>RB(c,f,h));case"creation":return i(()=>zB(c,f,h));case"dynamic":return CB(c,f,h);case"evaluation":return i(()=>jB(c,f,h));case"image":return i(()=>MB(c,f,h));case"graph":return i(()=>BB(c,f,h));case"logical":return i(()=>UB(c,f,h));case"matrices":return i(()=>FB(c,f,h));case"normalization":return i(()=>qB(c,f,h));case"ragged":return i(()=>HB(c,f,h));case"reduction":return i(()=>VB(c,f,h));case"slice_join":return i(()=>GB(c,f,h));case"sparse":return i(()=>KB(c,f,h));case"spectral":return i(()=>YB(c,f,h));case"string":return i(()=>XB(c,f,h));case"transformation":return i(()=>PB(c,f,h));case"hash_table":return LB(c,f,h,r);case"custom":const m=BT(c.op);if(m&&m.customExecutor)return m.customExecutor(new TB(c,f,h));throw TypeError(`Custom op ${c.op} is not registered.`);default:throw TypeError(`Unknown op '${c.op}'. File an issue at https://github.com/tensorflow/tfjs/issues so we can add it, or register a custom execution with tf.registerOp()`)}})(t,e,a);return Wa(l)?l.then(c=>[].concat(c)):[].concat(l)}class Mb{constructor(e={},a={},r={},i={},l){this.weightMap=e,this.tensorArrayMap=a,this.tensorListMap=r,this.functionMap=i,this.parseNodeNameCache=l,this.rootContext={id:0,frameName:"",iterationId:0},this.contexts=[this.rootContext],this.lastId=0,this.generateCurrentContextIds()}newFrame(e,a){return{id:e,frameName:a,iterationId:0}}set currentContext(e){this.contexts!==e&&(this.contexts=e,this.generateCurrentContextIds())}get currentContext(){return this.contexts}get currentContextId(){return this._currentContextIds[0]}get currentContextIds(){return this._currentContextIds}generateCurrentContextIds(){const e=[];for(let a=0;a<this.contexts.length-1;a++){const r=this.contexts.slice(0,this.contexts.length-a);e.push(this.contextIdforContexts(r))}e.push(""),this._currentContextIds=e}contextIdforContexts(e){return e?e.map(a=>a.id===0&&a.iterationId===0?"":`${a.frameName}-${a.iterationId}`).join("/"):""}enterFrame(e){this.contexts&&(this.lastId++,this.contexts=this.contexts.slice(),this.contexts.push(this.newFrame(this.lastId,e)),this._currentContextIds.unshift(this.contextIdforContexts(this.contexts)))}exitFrame(){if(this.contexts&&this.contexts.length>1)this.contexts=this.contexts.slice(),this.contexts.splice(-1),this.currentContextIds.shift();else throw new Error("Cannot exit frame, the context is empty")}nextIteration(){if(this.contexts&&this.contexts.length>0){this.contexts=this.contexts.slice(),this.lastId++;const e=Object.assign({},this.contexts[this.contexts.length-1]);e.iterationId+=1,e.id=this.lastId,this.contexts.splice(-1,1,e),this._currentContextIds.splice(0,1,this.contextIdforContexts(this.contexts))}else throw new Error("Cannot increase frame iteration, the context is empty")}getWeight(e){return this.weightMap[e]}addTensorArray(e){this.tensorArrayMap[e.id]=e}getTensorArray(e){return this.tensorArrayMap[e]}addTensorList(e){this.tensorListMap[e.id]=e}getTensorList(e){return this.tensorListMap[e]}dispose(e){for(const a in this.tensorArrayMap)this.tensorArrayMap[a].clearAndClose(e);for(const a in this.tensorListMap)this.tensorListMap[a].clearAndClose(e)}}function Ub(t,e,a,r){const i=new Set,l=[];let c=null,f=null;const h=new Set,m=new Set(Object.keys(t).map(b=>Yt(b)[0]));r=r||[];const g=new Set(r.map(b=>Yt(b.name)[0])),y=[...e];for(;y.length>0;){const b=y.pop();if((As(b)||aI(b)||sI(b))&&c==null&&(c=b,f=c.children.map(N=>N.name).filter(N=>i.has(N))),i.add(b.name),a[b.name]==null&&!m.has(b.name)&&!g.has(b.name)){if(b.inputs.length===0){l.push(b.name);continue}b.inputs.forEach(N=>{h.has(N.name)||(h.add(N.name),y.push(N))})}}return{inputs:t,outputs:e,usedNodes:i,missingInputs:l,dynamicNode:c,syncInputs:f}}function WB(t,e){const{usedNodes:a,inputs:r}=e,i=Object.keys(r).map(_=>Yt(_)[0]).map(_=>t.nodes[_]),l=t.initNodes||[],c=_=>a.has(typeof _=="string"?_:_.name);function f(_){return[...new Map(_.map(C=>[C.name,C])).values()]}const h=f([...i,...t.weights,...l]).filter(c),m=f([...h,...Object.values(t.nodes)]).filter(c),g=new Map(m.map(_=>[_.name,_])),y={};for(const _ of m){y[_.name]=y[_.name]||0;for(const C of _.children)c(C)||(y[C.name]=Number.POSITIVE_INFINITY),y[C.name]=(y[C.name]||0)+1}const b=Object.entries(y).filter(([,_])=>_===0).map(([_])=>_),N=[...b];for(;b.length>0;){const _=b.pop(),C=g.get(_);for(const ee of C.children.filter(c))--y[ee.name]===0&&(N.push(ee.name),b.push(ee.name))}const w=N.map(_=>g.get(_)),x=ZB(w,h);return QB(x,h),x}function ZB(t,e){const a=new Map(t.map(c=>[c.name,c])),r=e.map(c=>c.name),i=new Set(r);for(;r.length>0;){const c=r.pop(),f=a.get(c);for(const h of f.children)!a.has(h.name)||i.has(h.name)||(i.add(h.name),r.push(h.name))}return t.filter(c=>i.has(c.name))}class Zl extends Error{constructor(e){super(`NodesExecutionOrderError: ${e}`)}}function QB(t,e){const a=new Map(t.map((f,h)=>[f.name,h])),r=new Set(e.map(f=>f.name)),i=f=>r.has(typeof f=="string"?f:f.name),l=new Set(t.map(f=>f.name)),c=f=>l.has(typeof f=="string"?f:f.name);for(const f of t){for(const h of f.children.filter(c)){if(!a.has(h.name))throw new Zl(`Child ${h.name} of node ${f.name} is unreachable.`);if(a.get(f.name)>a.get(h.name))throw new Zl(`Node ${f.name} is scheduled to run after its child ${h.name}.`)}if(!i(f))for(const h of f.inputs){if(!a.has(h.name))throw new Zl(`Input ${h.name} of node ${f.name} is unreachable.`);if(a.get(h.name)>a.get(f.name))throw new Zl(`Node ${f.name} is scheduled to run before its input ${h.name}.`)}}}function JB(t){const e=new Map(t.map((f,h)=>[f.name,h])),a=Number.MAX_SAFE_INTEGER,r=t.map((f,h)=>As(f)?a:h),i=f=>{const h=r[e.get(f.name)];return h??-1},l=t.map((f,h)=>f.children.map(i).reduce((m,g)=>Math.max(m,g),r[h])),c=new Map;for(let f=0;f<t.length;++f){const h=l[f];if(h===a)continue;const m=t[f],g=t[h];c.has(g.name)||c.set(g.name,[]),c.get(g.name).push(m)}return c}const eI=new Set(["Switch","Merge","Enter","Exit","NextIteration","StatelessIf","StatelessWhile","if","While"]),tI=new Set(["NonMaxSuppressionV2","NonMaxSuppressionV3","NonMaxSuppressionV5","Where"]),nI=new Set(["HashTable","HashTableV2","LookupTableImport","LookupTableImportV2","LookupTableFind","LookupTableFindV2","LookupTableSize","LookupTableSizeV2"]);function As(t){return eI.has(t.op)}function aI(t){return tI.has(t.op)}function sI(t){return nI.has(t.op)}class xu{get weightIds(){return this.parent?this.parent.weightIds:this._weightIds}get functionExecutorMap(){return this.parent?this.parent.functionExecutorMap:this._functionExecutorMap}get weightMap(){return this.parent?this.parent.weightMap:this._weightMap}set weightMap(e){const a=Object.keys(e).map(r=>e[r].map(i=>i.id));this._weightIds=[].concat(...a),this._weightMap=e}set resourceManager(e){this._resourceManager=e}get inputs(){return this._inputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get outputs(){return this._outputs.map(e=>({name:e.name,shape:e.attrParams.shape?e.attrParams.shape.value:void 0,dtype:e.attrParams.dtype?e.attrParams.dtype.value:void 0}))}get inputNodes(){return this._inputs.map(e=>e.signatureKey||e.name)}get outputNodes(){return this._outputs.map(e=>{const a=e.signatureKey||e.name;return e.defaultOutput?`${a}:${e.defaultOutput}`:a})}get functions(){return Object.keys(this._functions).reduce((e,a)=>(e[a]=this._functions[a].signature,e),{})}constructor(e,a){this.graph=e,this.parent=a,this.compiledMap=new Map,this.parseNodeNameCache=new Map,this._weightMap={},this.SEPARATOR=",",this._functions={},this._functionExecutorMap={},this.keepIntermediateTensors=!1,this._outputs=e.outputs,this._inputs=e.inputs,this._initNodes=e.initNodes,this._signature=e.signature,this._functions=e.functions,e.functions!=null&&Object.keys(e.functions).forEach(r=>{this._functionExecutorMap[r]=new xu(e.functions[r],this)})}getCompilationKey(e,a){const r=e.map(l=>l.name).sort(),i=a.map(l=>l.name).sort();return r.join(this.SEPARATOR)+"--"+i.join(this.SEPARATOR)}compile(e,a){const r=Ub(e,a,this.weightMap,this._initNodes),{missingInputs:i,dynamicNode:l,syncInputs:c}=r;if(l!=null)throw new Error(`This execution contains the node '${l.name}', which has the dynamic op '${l.op}'. Please use model.executeAsync() instead. Alternatively, to avoid the dynamic ops, specify the inputs [${c}]`);if(i.length>0){const m=a.map(y=>y.name),g=Object.keys(e);throw new Error(`Cannot compute the outputs [${m}] from the provided inputs [${g}]. Missing the following inputs: [${i}]`)}const f=WB(this.graph,r),h=JB(f);return{orderedNodes:f,nodeLiveUntilMap:h}}cloneAndKeepTensor(e){if(e==null)return null;const a=e.clone();return On(a),a}cloneTensorList(e){return e?e.map(r=>this.cloneAndKeepTensor(r)):null}cloneTensorMap(e){return Object.fromEntries(Object.entries(e).map(([a,r])=>[a,this.cloneTensorList(r)]))}execute(e,a){this.disposeIntermediateTensors(),e=this.mapInputs(e);const r=Object.keys(e).sort();this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a);const i=r.map(b=>this.graph.nodes[Yt(b)[0]]),l=a.map(b=>Yt(b)[0]),c=new Set(l);let f=l.map(b=>this.graph.nodes[b]);f.length===0&&(f=this._outputs);const h=this.getCompilationKey(i,f);let m=this.compiledMap.get(h);m==null&&(m=this.compile(e,f),this.compiledMap.set(h,m));try{this.keepIntermediateTensors=ve().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(b){this.keepIntermediateTensors=!1,console.warn(b.message)}const g={},y={};return Ie(()=>{const b=new Mb(this.weightMap,g,y,this.functionExecutorMap,this.parseNodeNameCache),N=Object.assign({},this.weightMap);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap)),Object.keys(e).forEach(C=>{const[ee,I]=Yt(C,b),F=[];F[I]=e[C],N[ee]=F,this.keepIntermediateTensors&&(this.clonedTensorsMap[ee]=this.cloneTensorList(F))});const w=this.getFrozenTensorIds(N),{orderedNodes:x,nodeLiveUntilMap:_}=m;for(const C of x){if(N[C.name])continue;const ee=Lb(C,N,b,this._resourceManager);if(Wa(ee))throw new Error(`The execution of the op '${C.op}' returned a promise. Please use model.executeAsync() instead.`);N[C.name]=ee,this.keepIntermediateTensors&&(this.clonedTensorsMap[C.name]=this.cloneTensorList(ee)),this.checkTensorForDisposalWithNodeLiveUntilInfo(C,N,b,w,c,_.get(C.name))}return this.parent==null&&b.dispose(w),a.map(C=>St(C,N,b))})}getFrozenTensorIds(e){const a=[].concat.apply([],Object.keys(e).map(r=>e[r]).map(r=>r.map(i=>i.id)));return new Set(a)}checkTensorForDisposal(e,a,r,i,l,c,f){if(!(As(a)||c.has(e))){for(const h of r[e])h!=null&&(f[h.id]=(f[h.id]||0)+a.children.length);for(const h of a.inputs){if(As(h))continue;const m=zb(h.name,r,i);if(m!=null)for(const g of m){if(!g||g.kept||l.has(g.id))continue;const y=f[g.id];y===1?(g.dispose(),delete f[g.id]):y!=null&&f[g.id]--}}}}checkTensorForDisposalWithNodeLiveUntilInfo(e,a,r,i,l,c){function f(h){return As(h)||l.has(h.name)}if(!(As(e)||c==null))for(const h of c){if(f(h))continue;const m=zb(h.name,a,r);for(const g of m)!g||g.kept||i.has(g.id)||g.dispose()}}async executeAsync(e,a){return this._executeAsync(e,a)}disposeIntermediateTensors(){this.clonedTensorsMap&&(Object.values(this.clonedTensorsMap).forEach(e=>{for(const a of e)a&&!a.isDisposed&&a.dispose()}),this.clonedTensorsMap=null)}getIntermediateTensors(){return this.clonedTensorsMap}async _executeAsync(e,a,r=!1,i={},l={}){this.disposeIntermediateTensors(),r||(e=this.mapInputs(e),this.checkInputs(e),this.checkInputShapeAndType(e),a=this.mapOutputs(a),this.checkOutputs(a));try{this.keepIntermediateTensors=ve().getBool("KEEP_INTERMEDIATE_TENSORS")}catch(b){this.keepIntermediateTensors=!1,console.warn(b.message)}const c=new Mb(this.weightMap,i,l,this.functionExecutorMap,this.parseNodeNameCache);this.keepIntermediateTensors&&(this.clonedTensorsMap=this.cloneTensorMap(this.weightMap));const f=await this.executeWithControlFlow(e,c,a,r),h=a.map(b=>St(b,f,c)),m=h.map(b=>b.id),g=Object.keys(e).map(b=>e[b].id),y=new Set([...m,...g,...this.weightIds]);return Object.values(f).forEach(b=>{b.forEach(N=>{N&&!N.isDisposed&&!y.has(N.id)&&N.dispose()})}),this.parent==null&&c.dispose(y),h}async executeFunctionAsync(e,a,r){const i=e.reduce((l,c,f)=>(l[this.inputs[f].name]=c,l),{});return this._executeAsync(i,this.outputNodes,!0,a,r)}async executeWithControlFlow(e,a,r,i){const l=Object.keys(e),c=l.map(F=>this.graph.nodes[Yt(F)[0]]),f=r.map(F=>Yt(F)[0]),h=new Set(f);let m=f.map(F=>this.graph.nodes[F]);m.length===0&&(m=this._outputs);const{usedNodes:g,missingInputs:y,dynamicNode:b,syncInputs:N}=Ub(e,m,this.weightMap,this._initNodes),w=[...c,...this.graph.weights,...this._initNodes||[]].map(F=>({node:F,contexts:a.currentContext})),x=Object.assign({},this.weightMap);Object.keys(e).forEach(F=>{const[W,ne]=Yt(F),te=[];te[ne]=e[F],x[W]=te});const _={},C=this.getFrozenTensorIds(x),ee={};for(;w.length>0;){const F=this.processStack(c,w,a,x,ee,C,h,_,g);await Promise.all(F)}b==null&&!i&&console.warn("This model execution did not contain any nodes with control flow or dynamic output shapes. You can use model.execute() instead.");const I=m.filter(F=>!As(F)&&!St(F.name,x,a)).map(F=>F.name);if(I.length>0){let F="";throw b!=null&&(F=`Alternatively, to avoid the dynamic ops, use model.execute() and specify the inputs [${N}]`),new Error(`Cannot compute the outputs [${I}] from the provided inputs [${l}]. Consider providing the following inputs: [${y}]. ${F}`)}return x}processStack(e,a,r,i,l,c,f,h,m){const g=[];for(;a.length>0;){const y=a.pop();r.currentContext=y.contexts;let b="";if(y.node.op==="Enter"&&v("isConstant",y.node,i,r)&&([b]=ca(y.node.name,r)),i[y.node.name]==null){const N=Lb(y.node,i,r,this._resourceManager);b||([b]=ca(y.node.name,r));const w=r.currentContext;Wa(N)?g.push(N.then(x=>(i[b]=x,this.keepIntermediateTensors&&(this.clonedTensorsMap[b]=this.cloneTensorList(x)),r.currentContext=w,this.checkTensorForDisposal(b,y.node,i,r,c,f,h),this.processChildNodes(y.node,a,r,i,l,m),x))):(i[b]=N,this.keepIntermediateTensors&&(this.clonedTensorsMap[b]=this.cloneTensorList(N)),this.checkTensorForDisposal(b,y.node,i,r,c,f,h),this.processChildNodes(y.node,a,r,i,l,m))}else this.processChildNodes(y.node,a,r,i,l,m)}return g}processChildNodes(e,a,r,i,l,c){e.children.forEach(f=>{const[h]=ca(f.name,r);l[h]||!c.has(f.name)||(f.op==="Merge"?f.inputNames.some(m=>!!St(m,i,r))&&(l[h]=!0,a.push({contexts:r.currentContext,node:f})):f.inputNames.every(m=>!!St(m,i,r))&&(l[h]=!0,a.push({contexts:r.currentContext,node:f})))})}dispose(){Object.keys(this.weightMap).forEach(e=>this.weightMap[e].forEach(a=>a.dispose()))}checkInputShapeAndType(e){Object.keys(e).forEach(a=>{const r=e[a],[i]=Yt(a),l=this.graph.nodes[i];if(l.attrParams.shape&&l.attrParams.shape.value){const c=l.attrParams.shape.value,f=c.length===r.shape.length&&r.shape.every((h,m)=>c[m]===-1||c[m]===h);O(f,()=>`The shape of dict['${l.name}'] provided in model.execute(dict) must be [${c}], but was [${r.shape}]`)}l.attrParams.dtype&&l.attrParams.dtype.value&&O(r.dtype===l.attrParams.dtype.value,()=>`The dtype of dict['${l.name}'] provided in model.execute(dict) must be ${l.attrParams.dtype.value}, but was ${r.dtype}`)})}mapInputs(e){var a,r;const i={};for(const l in e){const c=(r=(a=this._signature)===null||a===void 0?void 0:a.inputs)===null||r===void 0?void 0:r[l];c!=null?i[c.name]=e[l]:i[l]=e[l]}return i}checkInputs(e){const a=Object.keys(e).filter(r=>{const[i]=Yt(r);return this.graph.nodes[i]==null});if(a.length>0)throw new Error(`The dict provided in model.execute(dict) has keys: [${a}] that are not part of graph`)}mapOutputs(e){return e.map(a=>{var r,i;const l=(i=(r=this._signature)===null||r===void 0?void 0:r.outputs)===null||i===void 0?void 0:i[a];return l!=null?l.name:a},{})}checkOutputs(e){e.forEach(a=>{const[r]=Yt(a);if(!this.graph.nodes[r])throw new Error(`The output '${a}' is not found in the graph`)})}}class rI{constructor(e={},a={}){this.hashTableNameToHandle=e,this.hashTableMap=a}addHashTable(e,a){this.hashTableNameToHandle[e]=a.handle,this.hashTableMap[a.id]=a}getHashTableHandleByName(e){return this.hashTableNameToHandle[e]}getHashTableById(e){return this.hashTableMap[e]}dispose(){for(const e in this.hashTableMap)this.hashTableMap[e].clearAndClose(),delete this.hashTableMap[e];for(const e in this.hashTableNameToHandle)this.hashTableNameToHandle[e].dispose(),delete this.hashTableNameToHandle[e]}}const iI="?tfjs-format=file",oI="model.json";class zm{get modelVersion(){return this.version}get inputNodes(){return this.executor.inputNodes}get outputNodes(){return this.executor.outputNodes}get inputs(){return this.executor.inputs}get outputs(){return this.executor.outputs}get weights(){return this.executor.weightMap}get metadata(){return this.artifacts.userDefinedMetadata}get modelSignature(){return this.signature}get modelStructuredOutputKeys(){return this.structuredOutputKeys}constructor(e,a={},r=Dm){this.modelUrl=e,this.loadOptions=a,this.version="n/a",this.io=r,a==null&&(this.loadOptions={}),this.resourceManager=new rI}findIOHandler(){const e=this.modelUrl;if(e.load!=null)this.handler=e;else if(this.loadOptions.requestInit!=null)this.handler=this.io.browserHTTPRequest(e,this.loadOptions);else{const a=this.io.getLoadHandlers(e,this.loadOptions);if(a.length===0)a.push(this.io.browserHTTPRequest(e,this.loadOptions));else if(a.length>1)throw new Error(`Found more than one (${a.length}) load handlers for URL '${[e]}'`);this.handler=a[0]}}load(){if(this.findIOHandler(),this.handler.load==null)throw new Error("Cannot proceed with model loading because the IOHandler provided does not have the `load` method implemented.");const e=this.handler.load();return Wa(e)?e.then(a=>a.getWeightStream==null?this.loadSync(a):this.loadStreaming(a)):this.loadSync(e)}loadSync(e){const a=this.io.decodeWeights(e.weightData,e.weightSpecs);return this.loadWithWeightMap(e,a)}async loadStreaming(e){if(e.getWeightStream==null)throw new Error("Model artifacts missing streamWeights function");const a=await CN(e.getWeightStream(),e.weightSpecs);return this.loadWithWeightMap(e,a)}loadWithWeightMap(e,a){this.artifacts=e;const r=this.artifacts.modelTopology;let i=this.artifacts.signature;if(this.artifacts.userDefinedMetadata!=null){const l=this.artifacts.userDefinedMetadata;l.signature!=null&&(i=l.signature),l.structuredOutputKeys!=null&&(this.structuredOutputKeys=l.structuredOutputKeys)}if(this.signature=i,this.version=`${r.versions.producer}.${r.versions.minConsumer}`,this.executor=new xu(Cb.Instance.transformGraph(r,this.signature)),this.executor.weightMap=this.convertTensorMapToTensorsMap(a),this.executor.resourceManager=this.resourceManager,e.modelInitializer!=null&&e.modelInitializer.node!=null){const l=Cb.Instance.transformGraph(e.modelInitializer);this.initializer=new xu(l),this.initializer.weightMap=this.executor.weightMap,this.initializer.resourceManager=this.resourceManager,this.initializerSignature=e.initializerSignature}return!0}async save(e,a){if(typeof e=="string"){const r=this.io.getSaveHandlers(e);if(r.length===0)throw new Error(`Cannot find any save handlers for URL '${e}'`);if(r.length>1)throw new Error(`Found more than one (${r.length}) save handlers for URL '${e}'`);e=r[0]}if(e.save==null)throw new Error("GraphModel.save() cannot proceed because the IOHandler provided does not have the `save` attribute defined.");return e.save(this.artifacts)}addStructuredOutputNames(e){if(this.structuredOutputKeys){const a=e instanceof at?[e]:e,r={};return a.forEach((i,l)=>r[this.structuredOutputKeys[l]]=i),r}return e}predict(e,a){const r=this.execute(e,this.outputNodes);return this.addStructuredOutputNames(r)}async predictAsync(e,a){const r=await this.executeAsync(e,this.outputNodes);return this.addStructuredOutputNames(r)}normalizeInputs(e){var a;if(!(e instanceof at)&&!Array.isArray(e)){const l=(a=this.signature)===null||a===void 0?void 0:a.inputs;if(l!=null)for(const c in l){const f=l[c];f.resourceId!=null&&(e[c]=this.resourceIdToCapturedInput[f.resourceId])}return e}e=Array.isArray(e)?e:[e];const r=Object.keys(this.resourceIdToCapturedInput).length;if(e.length+r!==this.inputNodes.length)throw new Error(`Input tensor count mismatch, the graph model has ${this.inputNodes.length-r} non-resource placeholders, while there are ${e.length} input tensors provided.`);let i=0;return this.inputNodes.reduce((l,c)=>{var f,h,m;const g=(m=(h=(f=this.signature)===null||f===void 0?void 0:f.inputs)===null||h===void 0?void 0:h[c])===null||m===void 0?void 0:m.resourceId;return g!=null?l[c]=this.resourceIdToCapturedInput[g]:l[c]=e[i++],l},{})}normalizeOutputs(e){return e=e||this.outputNodes,Array.isArray(e)?e:[e]}executeInitializerGraph(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.execute({},[]):this.initializer.execute({},Object.keys(this.initializerSignature.outputs))}async executeInitializerGraphAsync(){return this.initializer==null?[]:this.initializerSignature==null?this.initializer.executeAsync({},[]):this.initializer.executeAsync({},Object.keys(this.initializerSignature.outputs))}setResourceIdToCapturedInput(e){if(this.resourceIdToCapturedInput={},this.initializerSignature){const a=this.initializerSignature.outputs,r=Object.keys(a);for(let i=0;i<r.length;i++){const l=r[i],c=a[l];this.resourceIdToCapturedInput[c.resourceId]=e[i]}}}execute(e,a){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(this.executeInitializerGraph()),e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const r=this.executor.execute(e,a);return r.length>1?r:r[0]}async executeAsync(e,a){this.resourceIdToCapturedInput==null&&this.setResourceIdToCapturedInput(await this.executeInitializerGraphAsync()),e=this.normalizeInputs(e),a=this.normalizeOutputs(a);const r=await this.executor.executeAsync(e,a);return r.length>1?r:r[0]}getIntermediateTensors(){return this.executor.getIntermediateTensors()}disposeIntermediateTensors(){this.executor.disposeIntermediateTensors()}convertTensorMapToTensorsMap(e){return Object.keys(e).reduce((a,r)=>(a[r]=[e[r]],a),{})}dispose(){this.executor.dispose(),this.initializer&&(this.initializer.dispose(),this.resourceIdToCapturedInput&&zt(this.resourceIdToCapturedInput)),this.resourceManager.dispose()}}async function lI(t,e={},a=Dm){if(t==null)throw new Error("modelUrl in loadGraphModel() cannot be null. Please provide a url or an IOHandler that loads the model");e==null&&(e={}),e.fromTFHub&&typeof t=="string"&&(t=cI(t));const r=new zm(t,e,a);return await r.load(),r}function uI(t){if(t==null)throw new Error("modelUrl in loadGraphModelSync() cannot be null. Please provide model artifacts or an IOHandler that loads the model");let e;if(t instanceof Array){const[r,i]=t;if(!r)throw new Error("modelJSON must be the first element of the array");if(!i||!(i instanceof ArrayBuffer))throw new Error("An ArrayBuffer of weights must be the second element of the array");if(!("modelTopology"in r))throw new Error("Model JSON is missing 'modelTopology'");if(!("weightsManifest"in r))throw new Error("Model JSON is missing 'weightsManifest'");const l=vu(r.weightsManifest),c=zd(r,l,i);e=Eu(c)}else if("load"in t)e=t;else if("modelTopology"in t&&"weightSpecs"in t&&"weightData"in t)e=Eu(t);else throw new Error("Unknown model format");const a=new zm(e);return a.load(),a}function cI(t){return t.endsWith("/")||(t=t+"/"),`${t}${oI}${iI}`}const fI="4.22.0";const hI=Object.freeze(Object.defineProperty({__proto__:null,GraphModel:zm,deregisterOp:I6,loadGraphModel:lI,loadGraphModelSync:uI,registerOp:B6,version_converter:fI},Symbol.toStringTag,{value:"Module"})),dI=md(hI),mI=md(C6);var pI=Ki.exports,Fb;function gI(){return Fb||(Fb=1,(function(t,e){(function(a,r){r(e,dI,mI)})(pI,(function(a,r,i){const l={1:{name:"/m/01g317",id:1,displayName:"person"},2:{name:"/m/0199g",id:2,displayName:"bicycle"},3:{name:"/m/0k4j",id:3,displayName:"car"},4:{name:"/m/04_sv",id:4,displayName:"motorcycle"},5:{name:"/m/05czz6l",id:5,displayName:"airplane"},6:{name:"/m/01bjv",id:6,displayName:"bus"},7:{name:"/m/07jdr",id:7,displayName:"train"},8:{name:"/m/07r04",id:8,displayName:"truck"},9:{name:"/m/019jd",id:9,displayName:"boat"},10:{name:"/m/015qff",id:10,displayName:"traffic light"},11:{name:"/m/01pns0",id:11,displayName:"fire hydrant"},13:{name:"/m/02pv19",id:13,displayName:"stop sign"},14:{name:"/m/015qbp",id:14,displayName:"parking meter"},15:{name:"/m/0cvnqh",id:15,displayName:"bench"},16:{name:"/m/015p6",id:16,displayName:"bird"},17:{name:"/m/01yrx",id:17,displayName:"cat"},18:{name:"/m/0bt9lr",id:18,displayName:"dog"},19:{name:"/m/03k3r",id:19,displayName:"horse"},20:{name:"/m/07bgp",id:20,displayName:"sheep"},21:{name:"/m/01xq0k1",id:21,displayName:"cow"},22:{name:"/m/0bwd_0j",id:22,displayName:"elephant"},23:{name:"/m/01dws",id:23,displayName:"bear"},24:{name:"/m/0898b",id:24,displayName:"zebra"},25:{name:"/m/03bk1",id:25,displayName:"giraffe"},27:{name:"/m/01940j",id:27,displayName:"backpack"},28:{name:"/m/0hnnb",id:28,displayName:"umbrella"},31:{name:"/m/080hkjn",id:31,displayName:"handbag"},32:{name:"/m/01rkbr",id:32,displayName:"tie"},33:{name:"/m/01s55n",id:33,displayName:"suitcase"},34:{name:"/m/02wmf",id:34,displayName:"frisbee"},35:{name:"/m/071p9",id:35,displayName:"skis"},36:{name:"/m/06__v",id:36,displayName:"snowboard"},37:{name:"/m/018xm",id:37,displayName:"sports ball"},38:{name:"/m/02zt3",id:38,displayName:"kite"},39:{name:"/m/03g8mr",id:39,displayName:"baseball bat"},40:{name:"/m/03grzl",id:40,displayName:"baseball glove"},41:{name:"/m/06_fw",id:41,displayName:"skateboard"},42:{name:"/m/019w40",id:42,displayName:"surfboard"},43:{name:"/m/0dv9c",id:43,displayName:"tennis racket"},44:{name:"/m/04dr76w",id:44,displayName:"bottle"},46:{name:"/m/09tvcd",id:46,displayName:"wine glass"},47:{name:"/m/08gqpm",id:47,displayName:"cup"},48:{name:"/m/0dt3t",id:48,displayName:"fork"},49:{name:"/m/04ctx",id:49,displayName:"knife"},50:{name:"/m/0cmx8",id:50,displayName:"spoon"},51:{name:"/m/04kkgm",id:51,displayName:"bowl"},52:{name:"/m/09qck",id:52,displayName:"banana"},53:{name:"/m/014j1m",id:53,displayName:"apple"},54:{name:"/m/0l515",id:54,displayName:"sandwich"},55:{name:"/m/0cyhj_",id:55,displayName:"orange"},56:{name:"/m/0hkxq",id:56,displayName:"broccoli"},57:{name:"/m/0fj52s",id:57,displayName:"carrot"},58:{name:"/m/01b9xk",id:58,displayName:"hot dog"},59:{name:"/m/0663v",id:59,displayName:"pizza"},60:{name:"/m/0jy4k",id:60,displayName:"donut"},61:{name:"/m/0fszt",id:61,displayName:"cake"},62:{name:"/m/01mzpv",id:62,displayName:"chair"},63:{name:"/m/02crq1",id:63,displayName:"couch"},64:{name:"/m/03fp41",id:64,displayName:"potted plant"},65:{name:"/m/03ssj5",id:65,displayName:"bed"},67:{name:"/m/04bcr3",id:67,displayName:"dining table"},70:{name:"/m/09g1w",id:70,displayName:"toilet"},72:{name:"/m/07c52",id:72,displayName:"tv"},73:{name:"/m/01c648",id:73,displayName:"laptop"},74:{name:"/m/020lf",id:74,displayName:"mouse"},75:{name:"/m/0qjjc",id:75,displayName:"remote"},76:{name:"/m/01m2v",id:76,displayName:"keyboard"},77:{name:"/m/050k8",id:77,displayName:"cell phone"},78:{name:"/m/0fx9l",id:78,displayName:"microwave"},79:{name:"/m/029bxz",id:79,displayName:"oven"},80:{name:"/m/01k6s3",id:80,displayName:"toaster"},81:{name:"/m/0130jx",id:81,displayName:"sink"},82:{name:"/m/040b_t",id:82,displayName:"refrigerator"},84:{name:"/m/0bt_c3",id:84,displayName:"book"},85:{name:"/m/01x3z",id:85,displayName:"clock"},86:{name:"/m/02s195",id:86,displayName:"vase"},87:{name:"/m/01lsmm",id:87,displayName:"scissors"},88:{name:"/m/0kmg4",id:88,displayName:"teddy bear"},89:{name:"/m/03wvsk",id:89,displayName:"hair drier"},90:{name:"/m/012xff",id:90,displayName:"toothbrush"}};class c{constructor(h,m){this.modelPath=m||`https://storage.googleapis.com/tfjs-models/savedmodel/${this.getPrefix(h)}/model.json`}getPrefix(h){return h==="lite_mobilenet_v2"?`ssd${h}`:`ssd_${h}`}async load(){this.model=await r.loadGraphModel(this.modelPath);const h=i.zeros([1,300,300,3],"int32"),m=await this.model.executeAsync(h);await Promise.all(m.map((g=>g.data()))),m.map((g=>g.dispose())),h.dispose()}async infer(h,m,g){const y=i.tidy((()=>(h instanceof i.Tensor||(h=i.browser.fromPixels(h)),i.expandDims(h)))),b=y.shape[1],N=y.shape[2],w=await this.model.executeAsync(y),x=w[0].dataSync(),_=w[1].dataSync();y.dispose(),i.dispose(w);const[C,ee]=this.calculateMaxScores(x,w[0].shape[1],w[0].shape[2]),I=i.getBackend();i.getBackend()==="webgl"&&i.setBackend("cpu");const F=i.tidy((()=>{const ne=i.tensor2d(_,[w[1].shape[1],w[1].shape[3]]);return i.image.nonMaxSuppression(ne,C,m,g,g)})),W=F.dataSync();return F.dispose(),I!==i.getBackend()&&i.setBackend(I),this.buildDetectedObjects(N,b,_,C,W,ee)}buildDetectedObjects(h,m,g,y,b,N){const w=b.length,x=[];for(let _=0;_<w;_++){const C=[];for(let ne=0;ne<4;ne++)C[ne]=g[4*b[_]+ne];const ee=C[0]*m,I=C[1]*h,F=C[2]*m,W=C[3]*h;C[0]=I,C[1]=ee,C[2]=W-I,C[3]=F-ee,x.push({bbox:C,class:l[N[b[_]]+1].displayName,score:y[b[_]]})}return x}calculateMaxScores(h,m,g){const y=[],b=[];for(let N=0;N<m;N++){let w=Number.MIN_VALUE,x=-1;for(let _=0;_<g;_++)h[N*g+_]>w&&(w=h[N*g+_],x=_);y[N]=w,b[N]=x}return[y,b]}async detect(h,m=20,g=.5){return this.infer(h,m,g)}dispose(){this.model!=null&&this.model.dispose()}}a.ObjectDetection=c,a.load=async function(f={}){if(i==null)throw new Error("Cannot find TensorFlow.js. If you are using a <script> tag, please also include @tensorflow/tfjs on the page before using this model.");const h=f.base||"lite_mobilenet_v2",m=f.modelUrl;if(["mobilenet_v1","mobilenet_v2","lite_mobilenet_v2"].indexOf(h)===-1)throw new Error(`ObjectDetection constructed with invalid base model ${h}. Valid names are 'mobilenet_v1', 'mobilenet_v2' and 'lite_mobilenet_v2'.`);const g=new c(h,m);return await g.load(),g},a.version="2.2.3",Object.defineProperty(a,"__esModule",{value:!0})}))})(Ki,Ki.exports)),Ki.exports}var yI=gI();class bI{constructor(){this.model=null,this.isLoading=!1}async loadModel(){if(this.model)return this.model;if(this.isLoading){for(;this.isLoading;)await new Promise(e=>setTimeout(e,100));return this.model}this.isLoading=!0;try{return console.log("Cargando modelo COCO-SSD..."),this.model=await yI.load(),console.log("Modelo cargado exitosamente"),this.model}catch(e){throw console.error("Error cargando modelo:",e),e}finally{this.isLoading=!1}}async analyzeImage(e){return await(await this.loadModel()).detect(e)}async countAudience(e){const a=await this.analyzeImage(e),r=a.filter(i=>i.class==="person");return{totalPeople:r.length,predictions:r,allDetections:a,audienceLevel:this.getAudienceLevel(r.length)}}getAudienceLevel(e){return e===0?{level:"Sin datos",score:0,color:"#999"}:e<10?{level:"Pequeo",score:1,color:"#f39c12"}:e<30?{level:"Moderado",score:2,color:"#3498db"}:e<50?{level:"Grande",score:3,color:"#2ecc71"}:{level:"Masivo",score:4,color:"#e74c3c"}}async analyzeMultipleImages(e){const a=await Promise.all(e.map(l=>this.countAudience(l))),r=a.reduce((l,c)=>l+c.totalPeople,0),i=r/a.length;return{results:a,totalPeople:r,avgPeople:i,audienceLevel:this.getAudienceLevel(Math.round(i))}}}const vI=new bI;function SI({proyecto:t}){const[e,a]=tt.useState(!1),[r,i]=tt.useState(null),[l,c]=tt.useState(null),f=tt.useRef(null),h=tt.useRef(null),m=b=>{const N=b.target.files[0];if(!N)return;const w=new FileReader;w.onload=x=>{c(x.target.result),i(null)},w.readAsDataURL(N)},g=async()=>{if(f.current)try{a(!0);const b=await vI.countAudience(f.current);i(b),y(b.predictions)}catch(b){console.error("Error analizando imagen:",b),alert("Error al analizar la imagen. Asegrate de que sea una imagen vlida.")}finally{a(!1)}},y=b=>{const N=h.current,w=f.current;if(!N||!w)return;const x=N.getContext("2d");N.width=w.width,N.height=w.height,x.drawImage(w,0,0),x.strokeStyle="#00ff00",x.lineWidth=3,x.fillStyle="#00ff0033",b.forEach(_=>{const[C,ee,I,F]=_.bbox;x.strokeRect(C,ee,I,F),x.fillRect(C,ee,I,F),x.fillStyle="#00ff00",x.fillRect(C,ee-20,I,20),x.fillStyle="#000",x.font="14px Arial",x.fillText(`Persona (${(_.score*100).toFixed(0)}%)`,C+5,ee-5)})};return A.jsxs("div",{className:"image-analyzer",children:[A.jsxs("div",{className:"analyzer-header",children:[A.jsxs("h3",{children:[A.jsx("i",{className:"fas fa-users"})," Anlisis de Audiencia"]}),A.jsx("p",{children:"Sube una foto del evento para detectar la cantidad de oyentes"})]}),A.jsxs("div",{className:"analyzer-content",children:[A.jsxs("div",{className:"upload-section",children:[A.jsx("input",{type:"file",accept:"image/*",onChange:m,id:"image-upload",style:{display:"none"}}),A.jsxs("label",{htmlFor:"image-upload",className:"upload-button",children:[A.jsx("i",{className:"fas fa-cloud-upload-alt"}),"Seleccionar Imagen"]}),l&&A.jsx("button",{onClick:g,disabled:e,className:"analyze-button",children:e?A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fas fa-spinner fa-spin"})," Analizando..."]}):A.jsxs(A.Fragment,{children:[A.jsx("i",{className:"fas fa-search"})," Analizar Audiencia"]})})]}),l&&A.jsxs("div",{className:"image-container",children:[A.jsx("img",{ref:f,src:l,alt:"Imagen a analizar",crossOrigin:"anonymous",style:{display:r?"none":"block"}}),A.jsx("canvas",{ref:h,style:{display:r?"block":"none"}})]}),r&&A.jsxs("div",{className:"analysis-results",children:[A.jsxs("div",{className:"result-card",children:[A.jsx("div",{className:"result-icon",children:A.jsx("i",{className:"fas fa-users"})}),A.jsxs("div",{className:"result-info",children:[A.jsx("h4",{children:"Personas Detectadas"}),A.jsx("p",{className:"result-number",children:r.totalPeople})]})]}),A.jsxs("div",{className:"result-card",children:[A.jsx("div",{className:"result-icon",style:{background:r.audienceLevel.color},children:A.jsx("i",{className:"fas fa-chart-line"})}),A.jsxs("div",{className:"result-info",children:[A.jsx("h4",{children:"Nivel de Audiencia"}),A.jsx("p",{className:"result-level",children:r.audienceLevel.level}),A.jsx("div",{className:"level-bar",children:A.jsx("div",{className:"level-fill",style:{width:`${r.audienceLevel.score/4*100}%`,background:r.audienceLevel.color}})})]})]}),A.jsxs("div",{className:"detection-details",children:[A.jsx("h4",{children:"Detalles de Deteccin"}),A.jsxs("ul",{children:[r.predictions.slice(0,5).map((b,N)=>A.jsxs("li",{children:["Persona ",N+1,": Confianza ",(b.score*100).toFixed(1),"%"]},N)),r.predictions.length>5&&A.jsxs("li",{children:["... y ",r.predictions.length-5," personas ms"]})]})]}),A.jsxs("div",{className:"other-detections",children:[A.jsx("h4",{children:"Otros Elementos Detectados"}),A.jsx("div",{className:"detection-tags",children:r.allDetections.filter(b=>b.class!=="person").slice(0,10).map((b,N)=>A.jsxs("span",{className:"detection-tag",children:[b.class," (",(b.score*100).toFixed(0),"%)"]},N))})]})]})]}),A.jsxs("div",{className:"analyzer-info",children:[A.jsx("i",{className:"fas fa-info-circle"}),A.jsx("p",{children:"Este anlisis utiliza IA para detectar personas en fotos de eventos. Los resultados son aproximados y pueden variar segn la calidad de la imagen."})]})]})}class NI{constructor(){this.corsProxy="https://api.allorigins.win/raw?url="}extractYouTubeId(e){const a=/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|&v=)([^#&?]*).*/,r=e.match(a);return r&&r[2].length===11?r[2]:null}extractSpotifyId(e){const a=e.match(/spotify\.com\/(artist|track|album)\/([a-zA-Z0-9]+)/);return a?{type:a[1],id:a[2]}:null}async getYouTubeStats(e){try{const a=this.extractYouTubeId(e);if(!a)return null;const r=await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${a}&format=json`);if(!r.ok)return null;const i=await r.json();return{platform:"YouTube",title:i.title,author:i.author_name,thumbnail:i.thumbnail_url,videoId:a,url:`https://www.youtube.com/watch?v=${a}`,hasDetailedStats:!1}}catch(a){return console.error("Error obteniendo stats de YouTube:",a),null}}async getSpotifyStats(e){try{const a=this.extractSpotifyId(e);return a?{platform:"Spotify",type:a.type,id:a.id,url:e,hasDetailedStats:!1,note:"Requiere API key de Spotify para estadsticas detalladas"}:null}catch(a){return console.error("Error obteniendo stats de Spotify:",a),null}}async getSoundCloudStats(e){try{const a=await fetch(`https://soundcloud.com/oembed?format=json&url=${encodeURIComponent(e)}`);if(!a.ok)return null;const r=await a.json();return{platform:"SoundCloud",title:r.title,author:r.author_name,thumbnail:r.thumbnail_url,description:r.description,url:e,hasDetailedStats:!0}}catch(a){return console.error("Error obteniendo stats de SoundCloud:",a),null}}async analyzeLink(e){if(!e)return null;const a=e.toLowerCase();try{return a.includes("youtube.com")||a.includes("youtu.be")?await this.getYouTubeStats(e):a.includes("spotify.com")?await this.getSpotifyStats(e):a.includes("soundcloud.com")?await this.getSoundCloudStats(e):a.includes("instagram.com")?{platform:"Instagram",username:e.match(/instagram\.com\/([^/?]+)/)?.[1],url:e,hasDetailedStats:!1,note:"Requiere Instagram Graph API para estadsticas"}:null}catch(r){return console.error("Error analizando enlace:",r),null}}async analyzeMultipleLinks(e){const a=e.filter(i=>i&&i.trim());return(await Promise.allSettled(a.map(i=>this.analyzeLink(i)))).filter(i=>i.status==="fulfilled"&&i.value).map(i=>i.value)}estimateReachFromAudience(e){return e===0?{estimatedFollowers:"< 1K",estimatedMonthlyListeners:"< 500",tier:"Emergente"}:e<50?{estimatedFollowers:"1K - 5K",estimatedMonthlyListeners:"500 - 2K",tier:"Local"}:e<200?{estimatedFollowers:"5K - 20K",estimatedMonthlyListeners:"2K - 10K",tier:"Regional"}:e<500?{estimatedFollowers:"20K - 100K",estimatedMonthlyListeners:"10K - 50K",tier:"Nacional"}:{estimatedFollowers:"100K+",estimatedMonthlyListeners:"50K+",tier:"Masivo"}}calculateDigitalPresenceScore(e){let a=0;const r={hasYouTube:15,hasSpotify:20,hasSoundCloud:10,hasInstagram:15,hasMultiplePlatforms:20,hasVerifiedInfo:20},i=e.filter(l=>l).length;return e.some(l=>l?.platform==="YouTube")&&(a+=r.hasYouTube),e.some(l=>l?.platform==="Spotify")&&(a+=r.hasSpotify),e.some(l=>l?.platform==="SoundCloud")&&(a+=r.hasSoundCloud),e.some(l=>l?.platform==="Instagram")&&(a+=r.hasInstagram),i>2&&(a+=r.hasMultiplePlatforms),e.some(l=>l?.hasDetailedStats)&&(a+=r.hasVerifiedInfo),Math.min(a,100)}}const qb=new NI;function wI({proyecto:t}){const[e,a]=tt.useState([]),[r,i]=tt.useState(!0),[l,c]=tt.useState(0);tt.useEffect(()=>{f()},[t]);const f=async()=>{i(!0);try{const g=[t.link_audio,t.link_audio2].filter(Boolean);if(g.length===0){a([]),c(0);return}const y=await qb.analyzeMultipleLinks(g);a(y);const b=qb.calculateDigitalPresenceScore(y);c(b)}catch(g){console.error("Error analizando mtricas:",g),a([])}finally{i(!1)}},h=g=>g>=80?"#2ecc71":g>=60?"#3498db":g>=40?"#f39c12":"#e74c3c",m=g=>({YouTube:"fa-brands fa-youtube",Spotify:"fa-brands fa-spotify",SoundCloud:"fa-brands fa-soundcloud",Instagram:"fa-brands fa-instagram",Bandcamp:"fa-brands fa-bandcamp"})[g]||"fa-music";return r?A.jsxs("div",{className:"social-metrics loading",children:[A.jsx("i",{className:"fas fa-spinner fa-spin"}),A.jsx("p",{children:"Analizando presencia digital..."})]}):e.length===0?A.jsxs("div",{className:"social-metrics empty",children:[A.jsx("i",{className:"fas fa-info-circle"}),A.jsx("p",{children:"No se encontraron enlaces para analizar"})]}):A.jsxs("div",{className:"social-metrics",children:[A.jsxs("div",{className:"metrics-header",children:[A.jsxs("h3",{children:[A.jsx("i",{className:"fas fa-chart-line"})," Presencia Digital"]}),A.jsxs("div",{className:"digital-score",children:[A.jsxs("div",{className:"score-circle",style:{"--score-color":h(l)},children:[A.jsxs("svg",{viewBox:"0 0 100 100",children:[A.jsx("circle",{cx:"50",cy:"50",r:"45",className:"score-bg"}),A.jsx("circle",{cx:"50",cy:"50",r:"45",className:"score-fill",style:{strokeDashoffset:`${283-283*l/100}`,stroke:h(l)}})]}),A.jsx("div",{className:"score-value",children:l})]}),A.jsx("span",{className:"score-label",children:"Score Digital"})]})]}),A.jsx("div",{className:"platforms-grid",children:e.map((g,y)=>A.jsxs("div",{className:"platform-card",children:[A.jsxs("div",{className:"platform-header",children:[A.jsx("i",{className:m(g.platform)}),A.jsx("h4",{children:g.platform}),g.hasDetailedStats&&A.jsx("span",{className:"verified-badge",title:"Informacin verificada",children:A.jsx("i",{className:"fas fa-check-circle"})})]}),A.jsxs("div",{className:"platform-info",children:[g.title&&A.jsxs("div",{className:"info-item",children:[A.jsx("span",{className:"info-label",children:"Ttulo:"}),A.jsx("span",{className:"info-value",children:g.title})]}),g.author&&A.jsxs("div",{className:"info-item",children:[A.jsx("span",{className:"info-label",children:"Artista:"}),A.jsx("span",{className:"info-value",children:g.author})]}),g.username&&A.jsxs("div",{className:"info-item",children:[A.jsx("span",{className:"info-label",children:"Usuario:"}),A.jsxs("span",{className:"info-value",children:["@",g.username]})]}),g.type&&A.jsxs("div",{className:"info-item",children:[A.jsx("span",{className:"info-label",children:"Tipo:"}),A.jsx("span",{className:"info-value",children:g.type})]}),g.thumbnail&&A.jsx("div",{className:"platform-thumbnail",children:A.jsx("img",{src:g.thumbnail,alt:g.title})}),g.note&&A.jsxs("div",{className:"info-note",children:[A.jsx("i",{className:"fas fa-info-circle"}),A.jsx("small",{children:g.note})]}),A.jsxs("a",{href:g.url,target:"_blank",rel:"noopener noreferrer",className:"platform-link",children:["Ver en ",g.platform," ",A.jsx("i",{className:"fas fa-external-link-alt"})]})]})]},y))}),A.jsxs("div",{className:"api-info",children:[A.jsxs("div",{className:"info-box info-warning",children:[A.jsx("i",{className:"fas fa-key"}),A.jsxs("div",{children:[A.jsx("strong",{children:"Mtricas Detalladas Disponibles con APIs"}),A.jsx("p",{children:"Para obtener estadsticas completas (oyentes mensuales, seguidores, reproducciones), se requieren claves de API de:"}),A.jsxs("ul",{children:[A.jsxs("li",{children:[A.jsx("strong",{children:"Spotify Web API:"})," Oyentes mensuales, popularidad del artista"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"YouTube Data API v3:"})," Vistas, likes, suscriptores del canal"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"Instagram Graph API:"})," Seguidores, engagement, publicaciones"]}),A.jsxs("li",{children:[A.jsx("strong",{children:"SoundCloud API:"})," Reproducciones, favoritos, comentarios"]})]})]})]}),A.jsxs("div",{className:"info-box info-success",children:[A.jsx("i",{className:"fas fa-lightbulb"}),A.jsxs("div",{children:[A.jsx("strong",{children:"Informacin Actual"}),A.jsx("p",{children:"El sistema actualmente muestra informacin pblica disponible sin autenticacin. Para implementar mtricas completas, necesitars registrarte en las plataformas de desarrolladores y obtener las credenciales necesarias."})]})]})]})]})}function TI(){const[t,e]=tt.useState("evaluation"),[a,r]=tt.useState(null),i=l=>{r(l),e("evaluation")};return A.jsxs("div",{className:"app",children:[A.jsx("header",{className:"app-header",children:A.jsxs("div",{className:"header-content",children:[A.jsxs("h1",{children:[A.jsx("i",{className:"fas fa-guitar"}),"Sistema de Evaluacin de Proyectos Musicales"]}),A.jsx("p",{className:"header-subtitle",children:"UMI - Instituto Nacional de la Msica"})]})}),A.jsxs("nav",{className:"app-nav",children:[A.jsxs("button",{className:`nav-btn ${t==="evaluation"?"active":""}`,onClick:()=>e("evaluation"),children:[A.jsx("i",{className:"fas fa-star"}),"Evaluacin"]}),A.jsxs("button",{className:`nav-btn ${t==="ranking"?"active":""}`,onClick:()=>e("ranking"),children:[A.jsx("i",{className:"fas fa-trophy"}),"Ranking"]})]}),A.jsxs("main",{className:"app-main",children:[t==="evaluation"&&A.jsxs("div",{className:"evaluation-layout",children:[A.jsx("aside",{className:"sidebar",children:A.jsx(ZA,{onSelectProject:i})}),A.jsx("section",{className:"content",children:a?A.jsxs(A.Fragment,{children:[A.jsx(wI,{proyecto:a}),A.jsx(QA,{proyecto:a}),A.jsx(SI,{proyecto:a})]}):A.jsxs("div",{className:"empty-state",children:[A.jsx("i",{className:"fas fa-hand-pointer"}),A.jsx("h2",{children:"Selecciona un proyecto"}),A.jsx("p",{children:"Elige un proyecto de la lista para comenzar la evaluacin"})]})})]}),t==="ranking"&&A.jsx(JA,{})]}),A.jsxs("footer",{className:"app-footer",children:[A.jsx("p",{children:" 2025 ENACOM - Sistema de Evaluacin de Proyectos Musicales"}),A.jsx("p",{className:"footer-tech",children:"Desarrollado con React + TensorFlow.js"})]})]})}vx.createRoot(document.getElementById("root")).render(A.jsx(TI,{}));
